function LM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function ZE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var t0={exports:{}},Qh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function UM(){if(yI)return Qh;yI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Qh.Fragment=e,Qh.jsx=t,Qh.jsxs=t,Qh}var _I;function BM(){return _I||(_I=1,t0.exports=UM()),t0.exports}var z=BM(),n0={exports:{}},Yh={},r0={exports:{}},i0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI;function FM(){return vI||(vI=1,function(n){function e($,J){var le=$.length;$.push(J);e:for(;0<le;){var be=le-1>>>1,q=$[be];if(0<i(q,J))$[be]=J,$[le]=q,le=be;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var J=$[0],le=$.pop();if(le!==J){$[0]=le;e:for(var be=0,q=$.length,re=q>>>1;be<re;){var ge=2*(be+1)-1,me=$[ge],Te=ge+1,ke=$[Te];if(0>i(me,le))Te<q&&0>i(ke,me)?($[be]=ke,$[Te]=le,be=Te):($[be]=me,$[ge]=le,be=ge);else if(Te<q&&0>i(ke,le))$[be]=ke,$[Te]=le,be=Te;else break e}}return J}function i($,J){var le=$.sortIndex-J.sortIndex;return le!==0?le:$.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,_=null,v=3,T=!1,b=!1,A=!1,x=!1,U=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function H($){for(var J=t(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=$)r(d),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(d)}}function F($){if(A=!1,H($),!b)if(t(f)!==null)b=!0,K||(K=!0,C());else{var J=t(d);J!==null&&B(F,J.startTime-$)}}var K=!1,M=-1,R=5,P=-1;function w(){return x?!0:!(n.unstable_now()-P<R)}function O(){if(x=!1,K){var $=n.unstable_now();P=$;var J=!0;try{e:{b=!1,A&&(A=!1,L(M),M=-1),T=!0;var le=v;try{t:{for(H($),_=t(f);_!==null&&!(_.expirationTime>$&&w());){var be=_.callback;if(typeof be=="function"){_.callback=null,v=_.priorityLevel;var q=be(_.expirationTime<=$);if($=n.unstable_now(),typeof q=="function"){_.callback=q,H($),J=!0;break t}_===t(f)&&r(f),H($)}else r(f);_=t(f)}if(_!==null)J=!0;else{var re=t(d);re!==null&&B(F,re.startTime-$),J=!1}}break e}finally{_=null,v=le,T=!1}J=void 0}}finally{J?C():K=!1}}}var C;if(typeof V=="function")C=function(){V(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,se=D.port2;D.port1.onmessage=O,C=function(){se.postMessage(null)}}else C=function(){U(O,0)};function B($,J){M=U(function(){$(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var le=v;v=J;try{return $()}finally{v=le}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=v;v=$;try{return J()}finally{v=le}},n.unstable_scheduleCallback=function($,J,le){var be=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?be+le:be):le=be,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=le+q,$={id:g++,callback:J,priorityLevel:$,startTime:le,expirationTime:q,sortIndex:-1},le>be?($.sortIndex=le,e(d,$),t(f)===null&&$===t(d)&&(A?(L(M),M=-1):A=!0,B(F,le-be))):($.sortIndex=q,e(f,$),b||T||(b=!0,K||(K=!0,C()))),$},n.unstable_shouldYield=w,n.unstable_wrapCallback=function($){var J=v;return function(){var le=v;v=J;try{return $.apply(this,arguments)}finally{v=le}}}}(i0)),i0}var EI;function zM(){return EI||(EI=1,r0.exports=FM()),r0.exports}var s0={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI;function jM(){if(bI)return Le;bI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function x(q,re,ge){this.props=q,this.context=re,this.refs=A,this.updater=ge||T}x.prototype.isReactComponent={},x.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function U(){}U.prototype=x.prototype;function L(q,re,ge){this.props=q,this.context=re,this.refs=A,this.updater=ge||T}var V=L.prototype=new U;V.constructor=L,b(V,x.prototype),V.isPureReactComponent=!0;var H=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function M(q,re,ge,me,Te,ke){return ge=ke.ref,{$$typeof:n,type:q,key:re,ref:ge!==void 0?ge:null,props:ke}}function R(q,re){return M(q.type,re,void 0,void 0,void 0,q.props)}function P(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function w(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ge){return re[ge]})}var O=/\/+/g;function C(q,re){return typeof q=="object"&&q!==null&&q.key!=null?w(""+q.key):re.toString(36)}function D(){}function se(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(D,D):(q.status="pending",q.then(function(re){q.status==="pending"&&(q.status="fulfilled",q.value=re)},function(re){q.status==="pending"&&(q.status="rejected",q.reason=re)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function B(q,re,ge,me,Te){var ke=typeof q;(ke==="undefined"||ke==="boolean")&&(q=null);var xe=!1;if(q===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(q.$$typeof){case n:case e:xe=!0;break;case g:return xe=q._init,B(xe(q._payload),re,ge,me,Te)}}if(xe)return Te=Te(q),xe=me===""?"."+C(q,0):me,H(Te)?(ge="",xe!=null&&(ge=xe.replace(O,"$&/")+"/"),B(Te,re,ge,"",function(Nr){return Nr})):Te!=null&&(P(Te)&&(Te=R(Te,ge+(Te.key==null||q&&q.key===Te.key?"":(""+Te.key).replace(O,"$&/")+"/")+xe)),re.push(Te)),1;xe=0;var Gt=me===""?".":me+":";if(H(q))for(var rt=0;rt<q.length;rt++)me=q[rt],ke=Gt+C(me,rt),xe+=B(me,re,ge,ke,Te);else if(rt=v(q),typeof rt=="function")for(q=rt.call(q),rt=0;!(me=q.next()).done;)me=me.value,ke=Gt+C(me,rt++),xe+=B(me,re,ge,ke,Te);else if(ke==="object"){if(typeof q.then=="function")return B(se(q),re,ge,me,Te);throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function $(q,re,ge){if(q==null)return q;var me=[],Te=0;return B(q,me,"","",function(ke){return re.call(ge,ke,Te++)}),me}function J(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(ge){(q._status===0||q._status===-1)&&(q._status=1,q._result=ge)},function(ge){(q._status===0||q._status===-1)&&(q._status=2,q._result=ge)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var le=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function be(){}return Le.Children={map:$,forEach:function(q,re,ge){$(q,function(){re.apply(this,arguments)},ge)},count:function(q){var re=0;return $(q,function(){re++}),re},toArray:function(q){return $(q,function(re){return re})||[]},only:function(q){if(!P(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Le.Component=x,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=L,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Le.__COMPILER_RUNTIME={__proto__:null,c:function(q){return F.H.useMemoCache(q)}},Le.cache=function(q){return function(){return q.apply(null,arguments)}},Le.cloneElement=function(q,re,ge){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var me=b({},q.props),Te=q.key,ke=void 0;if(re!=null)for(xe in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(Te=""+re.key),re)!K.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(me[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)me.children=ge;else if(1<xe){for(var Gt=Array(xe),rt=0;rt<xe;rt++)Gt[rt]=arguments[rt+2];me.children=Gt}return M(q.type,Te,void 0,void 0,ke,me)},Le.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Le.createElement=function(q,re,ge){var me,Te={},ke=null;if(re!=null)for(me in re.key!==void 0&&(ke=""+re.key),re)K.call(re,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=re[me]);var xe=arguments.length-2;if(xe===1)Te.children=ge;else if(1<xe){for(var Gt=Array(xe),rt=0;rt<xe;rt++)Gt[rt]=arguments[rt+2];Te.children=Gt}if(q&&q.defaultProps)for(me in xe=q.defaultProps,xe)Te[me]===void 0&&(Te[me]=xe[me]);return M(q,ke,void 0,void 0,null,Te)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(q){return{$$typeof:h,render:q}},Le.isValidElement=P,Le.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:J}},Le.memo=function(q,re){return{$$typeof:d,type:q,compare:re===void 0?null:re}},Le.startTransition=function(q){var re=F.T,ge={};F.T=ge;try{var me=q(),Te=F.S;Te!==null&&Te(ge,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(be,le)}catch(ke){le(ke)}finally{F.T=re}},Le.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Le.use=function(q){return F.H.use(q)},Le.useActionState=function(q,re,ge){return F.H.useActionState(q,re,ge)},Le.useCallback=function(q,re){return F.H.useCallback(q,re)},Le.useContext=function(q){return F.H.useContext(q)},Le.useDebugValue=function(){},Le.useDeferredValue=function(q,re){return F.H.useDeferredValue(q,re)},Le.useEffect=function(q,re,ge){var me=F.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(q,re)},Le.useId=function(){return F.H.useId()},Le.useImperativeHandle=function(q,re,ge){return F.H.useImperativeHandle(q,re,ge)},Le.useInsertionEffect=function(q,re){return F.H.useInsertionEffect(q,re)},Le.useLayoutEffect=function(q,re){return F.H.useLayoutEffect(q,re)},Le.useMemo=function(q,re){return F.H.useMemo(q,re)},Le.useOptimistic=function(q,re){return F.H.useOptimistic(q,re)},Le.useReducer=function(q,re,ge){return F.H.useReducer(q,re,ge)},Le.useRef=function(q){return F.H.useRef(q)},Le.useState=function(q){return F.H.useState(q)},Le.useSyncExternalStore=function(q,re,ge){return F.H.useSyncExternalStore(q,re,ge)},Le.useTransition=function(){return F.H.useTransition()},Le.version="19.1.0",Le}var wI;function to(){return wI||(wI=1,s0.exports=jM()),s0.exports}var a0={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI;function qM(){if(TI)return Fn;TI=1;var n=to();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},Fn.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Fn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Fn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Fn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Fn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Fn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Fn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Fn.requestFormReset=function(f){r.d.r(f)},Fn.unstable_batchedUpdates=function(f,d){return f(d)},Fn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Fn.version="19.1.0",Fn}var SI;function HM(){if(SI)return a0.exports;SI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),a0.exports=qM(),a0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI;function $M(){if(AI)return Yh;AI=1;var n=zM(),e=to(),t=HM();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),s;if(y===c)return h(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var I=!1,N=m.child;N;){if(N===l){I=!0,l=m,c=y;break}if(N===c){I=!0,c=m,l=y;break}N=N.sibling}if(!I){for(N=y.child;N;){if(N===l){I=!0,l=y,c=m;break}if(N===c){I=!0,c=y,l=m;break}N=N.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),V=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function C(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case x:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case K:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case V:return(s.displayName||"Context")+".Provider";case L:return(s._context.displayName||"Context")+".Consumer";case H:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:se(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return se(s(a))}catch{}}return null}var B=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},be=[],q=-1;function re(s){return{current:s}}function ge(s){0>q||(s.current=be[q],be[q]=null,q--)}function me(s,a){q++,be[q]=s.current,s.current=a}var Te=re(null),ke=re(null),xe=re(null),Gt=re(null);function rt(s,a){switch(me(xe,a),me(ke,s),me(Te,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?$A(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=$A(a),s=GA(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ge(Te),me(Te,s)}function Nr(){ge(Te),ge(ke),ge(xe)}function mi(s){s.memoizedState!==null&&me(Gt,s);var a=Te.current,l=GA(a,s.type);a!==l&&(me(ke,s),me(Te,l))}function kr(s){ke.current===s&&(ge(Te),ge(ke)),Gt.current===s&&(ge(Gt),Hh._currentValue=le)}var pr=Object.prototype.hasOwnProperty,Un=n.unstable_scheduleCallback,Zr=n.unstable_cancelCallback,co=n.unstable_shouldYield,Nl=n.unstable_requestPaint,rr=n.unstable_now,qc=n.unstable_getCurrentPriorityLevel,ho=n.unstable_ImmediatePriority,ns=n.unstable_UserBlockingPriority,Fe=n.unstable_NormalPriority,vt=n.unstable_LowPriority,Tt=n.unstable_IdlePriority,gi=n.log,ei=n.unstable_setDisableYieldValue,st=null,Ue=null;function Kt(s){if(typeof gi=="function"&&ei(s),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(st,s)}catch{}}var tn=Math.clz32?Math.clz32:fo,Zf=Math.log,r_=Math.LN2;function fo(s){return s>>>=0,s===0?32:31-(Zf(s)/r_|0)|0}var po=256,mo=4194304;function ti(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function kl(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var N=c&134217727;return N!==0?(c=N&~y,c!==0?m=ti(c):(I&=N,I!==0?m=ti(I):l||(l=N&~s,l!==0&&(m=ti(l))))):(N=c&~y,N!==0?m=ti(N):I!==0?m=ti(I):l||(l=c&~s,l!==0&&(m=ti(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function go(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Hc(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var s=po;return po<<=1,(po&4194048)===0&&(po=256),s}function Gc(){var s=mo;return mo<<=1,(mo&62914560)===0&&(mo=4194304),s}function rs(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function is(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Kc(s,a,l,c,m,y){var I=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var N=s.entanglements,j=s.expirationTimes,ee=s.hiddenUpdates;for(l=I&~l;0<l;){var ce=31-tn(l),de=1<<ce;N[ce]=0,j[ce]=-1;var te=ee[ce];if(te!==null)for(ee[ce]=null,ce=0;ce<te.length;ce++){var ne=te[ce];ne!==null&&(ne.lane&=-536870913)}l&=~de}c!==0&&yi(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(I&~a))}function yi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-tn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Wc(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-tn(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Xs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ml(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Js(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:hI(s.type))}function ep(s,a){var l=J.p;try{return J.p=s,a()}finally{J.p=l}}var St=Math.random().toString(36).slice(2),fn="__reactFiber$"+St,nn="__reactProps$"+St,Mr="__reactContainer$"+St,Qc="__reactEvents$"+St,i_="__reactListeners$"+St,Zs="__reactHandles$"+St,tp="__reactResources$"+St,yo="__reactMarker$"+St;function ea(s){delete s[fn],delete s[nn],delete s[Qc],delete s[i_],delete s[Zs]}function ss(s){var a=s[fn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Mr]||l[fn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=YA(s);s!==null;){if(l=s[fn])return l;s=YA(s)}return a}s=l,l=s.parentNode}return null}function _i(s){if(s=s[fn]||s[Mr]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function vi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Wn(s){var a=s[tp];return a||(a=s[tp]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Wt(s){s[yo]=!0}var Yc=new Set,Vl={};function ni(s,a){as(s,a),as(s+"Capture",a)}function as(s,a){for(Vl[s]=a,s=0;s<a.length;s++)Yc.add(a[s])}var np=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rp={},_o={};function ip(s){return pr.call(_o,s)?!0:pr.call(rp,s)?!1:np.test(s)?_o[s]=!0:(rp[s]=!0,!1)}function ta(s,a,l){if(ip(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Ei(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function xn(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var vo,sp;function os(s){if(vo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);vo=a&&a[1]||"",sp=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vo+s+sp}var Ll=!1;function Ul(s,a){if(!s||Ll)return"";Ll=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var te=ne}Reflect.construct(s,[],de)}else{try{de.call()}catch(ne){te=ne}s.call(de.prototype)}}else{try{throw Error()}catch(ne){te=ne}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),I=y[0],N=y[1];if(I&&N){var j=I.split(`
`),ee=N.split(`
`);for(m=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===j.length||m===ee.length)for(c=j.length-1,m=ee.length-1;1<=c&&0<=m&&j[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if(j[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||j[c]!==ee[m]){var ce=`
`+j[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{Ll=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?os(l):""}function Xc(s){switch(s.tag){case 26:case 27:case 5:return os(s.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return Ul(s.type,!1);case 11:return Ul(s.type.render,!1);case 1:return Ul(s.type,!0);case 31:return os("Activity");default:return""}}function Bl(s){try{var a="";do a+=Xc(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Qn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Jc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function s_(s){var a=Jc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(I){c=""+I,y.call(this,I)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Fl(s){s._valueTracker||(s._valueTracker=s_(s))}function Zc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Jc(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function Eo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var a_=/[\n"\\]/g;function rn(s){return s.replace(a_,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function mr(s,a,l,c,m,y,I,N){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),a!=null?I==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Qn(a)):s.value!==""+Qn(a)&&(s.value=""+Qn(a)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),a!=null?na(s,I,Qn(a)):l!=null?na(s,I,Qn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Qn(N):s.removeAttribute("name")}function bo(s,a,l,c,m,y,I,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Qn(l):"",a=a!=null?""+Qn(a):l,N||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=N?s.checked:!!c,s.defaultChecked=!!c,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function na(s,a,l){a==="number"&&Eo(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ls(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Qn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function ct(s,a,l){if(a!=null&&(a=""+Qn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Qn(l):""}function wo(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(B(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Qn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Vr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var To=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ap(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||To.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function eh(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&ap(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&ap(s,y,a[y])}function th(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(s){return l_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var us=null;function Lr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var cs=null,hs=null;function nh(s){var a=_i(s);if(a&&(s=a.stateNode)){var l=s[nn]||null;e:switch(s=a.stateNode,a.type){case"input":if(mr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+rn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[nn]||null;if(!m)throw Error(r(90));mr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&Zc(c)}break e;case"textarea":ct(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ls(s,!!l.multiple,a,!1)}}}var bi=!1;function op(s,a,l){if(bi)return s(a,l);bi=!0;try{var c=s(a);return c}finally{if(bi=!1,(cs!==null||hs!==null)&&(em(),cs&&(a=cs,s=hs,hs=cs=null,nh(a),s)))for(a=0;a<s.length;a++)nh(s[a])}}function So(s,a){var l=s.stateNode;if(l===null)return null;var c=l[nn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(ri)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{Ur=!1}var wi=null,ra=null,ds=null;function rh(){if(ds)return ds;var s,a=ra,l=a.length,c,m="value"in wi?wi.value:wi.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var I=l-s;for(c=1;c<=I&&a[l-c]===m[y-c];c++);return ds=m.slice(s,1<c?1-c:void 0)}function Ti(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Si(){return!0}function ih(){return!1}function En(s){function a(l,c,m,y,I){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Si:ih,this.isPropagationStopped=ih,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),a}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=En(it),Io=g({},it,{view:0,detail:0}),lp=En(Io),ql,Hl,Ai,Ro=g({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ai&&(Ai&&s.type==="mousemove"?(ql=s.screenX-Ai.screenX,Hl=s.screenY-Ai.screenY):Hl=ql=0,Ai=s),ql)},movementY:function(s){return"movementY"in s?s.movementY:Hl}}),Br=En(Ro),up=g({},Ro,{dataTransfer:0}),u_=En(up),Co=g({},Io,{relatedTarget:0}),$l=En(Co),sh=g({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Gl=En(sh),cp=g({},it,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Kl=En(cp),c_=g({},it,{data:0}),ah=En(c_),xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=dp[s])?!!a[s]:!1}function Po(){return oh}var fp=g({},Io,{key:function(s){if(s.key){var a=xo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ti(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(s){return s.type==="keypress"?Ti(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ti(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Wl=En(fp),pp=g({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=En(pp),fs=g({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),mp=En(fs),gp=g({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),yp=En(gp),_p=g({},Ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ql=En(_p),Yn=g({},it,{newState:0,oldState:0}),vp=En(Yn),Ep=[9,13,27,32],Ii=ri&&"CompositionEvent"in window,p=null;ri&&"documentMode"in document&&(p=document.documentMode);var E=ri&&"TextEvent"in window&&!p,S=ri&&(!Ii||p&&8<p&&11>=p),k=" ",Y=!1;function ae(s,a){switch(s){case"keyup":return Ep.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function pn(s,a){switch(s){case"compositionend":return _e(a);case"keypress":return a.which!==32?null:(Y=!0,k);case"textInput":return s=a.data,s===k&&Y?null:s;default:return null}}function Qe(s,a){if(We)return s==="compositionend"||!Ii&&ae(s,a)?(s=rh(),ds=ra=wi=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!bn[s.type]:a==="textarea"}function ps(s,a,l,c){cs?hs?hs.push(c):hs=[c]:cs=c,a=am(a,"onChange"),0<a.length&&(l=new jl("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var Pn=null,Ri=null;function uh(s){FA(s,0)}function bp(s){var a=vi(s);if(Zc(a))return s}function oT(s,a){if(s==="change")return a}var lT=!1;if(ri){var h_;if(ri){var d_="oninput"in document;if(!d_){var uT=document.createElement("div");uT.setAttribute("oninput","return;"),d_=typeof uT.oninput=="function"}h_=d_}else h_=!1;lT=h_&&(!document.documentMode||9<document.documentMode)}function cT(){Pn&&(Pn.detachEvent("onpropertychange",hT),Ri=Pn=null)}function hT(s){if(s.propertyName==="value"&&bp(Ri)){var a=[];ps(a,Ri,s,Lr(s)),op(uh,a)}}function f2(s,a,l){s==="focusin"?(cT(),Pn=a,Ri=l,Pn.attachEvent("onpropertychange",hT)):s==="focusout"&&cT()}function p2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bp(Ri)}function m2(s,a){if(s==="click")return bp(a)}function g2(s,a){if(s==="input"||s==="change")return bp(a)}function y2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var gr=typeof Object.is=="function"?Object.is:y2;function ch(s,a){if(gr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!pr.call(a,m)||!gr(s[m],a[m]))return!1}return!0}function dT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fT(s,a){var l=dT(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dT(l)}}function pT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?pT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function mT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Eo(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Eo(s.document)}return a}function f_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var _2=ri&&"documentMode"in document&&11>=document.documentMode,Yl=null,p_=null,hh=null,m_=!1;function gT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;m_||Yl==null||Yl!==Eo(c)||(c=Yl,"selectionStart"in c&&f_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),hh&&ch(hh,c)||(hh=c,c=am(p_,"onSelect"),0<c.length&&(a=new jl("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Yl)))}function Oo(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Xl={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionrun:Oo("Transition","TransitionRun"),transitionstart:Oo("Transition","TransitionStart"),transitioncancel:Oo("Transition","TransitionCancel"),transitionend:Oo("Transition","TransitionEnd")},g_={},yT={};ri&&(yT=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function Do(s){if(g_[s])return g_[s];if(!Xl[s])return s;var a=Xl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in yT)return g_[s]=a[l];return s}var _T=Do("animationend"),vT=Do("animationiteration"),ET=Do("animationstart"),v2=Do("transitionrun"),E2=Do("transitionstart"),b2=Do("transitioncancel"),bT=Do("transitionend"),wT=new Map,y_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");y_.push("scrollEnd");function ii(s,a){wT.set(s,a),ni(a,[s])}var TT=new WeakMap;function Fr(s,a){if(typeof s=="object"&&s!==null){var l=TT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Bl(a)},TT.set(s,a),a)}return{value:s,source:a,stack:Bl(a)}}var zr=[],Jl=0,__=0;function wp(){for(var s=Jl,a=__=Jl=0;a<s;){var l=zr[a];zr[a++]=null;var c=zr[a];zr[a++]=null;var m=zr[a];zr[a++]=null;var y=zr[a];if(zr[a++]=null,c!==null&&m!==null){var I=c.pending;I===null?m.next=m:(m.next=I.next,I.next=m),c.pending=m}y!==0&&ST(l,m,y)}}function Tp(s,a,l,c){zr[Jl++]=s,zr[Jl++]=a,zr[Jl++]=l,zr[Jl++]=c,__|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function v_(s,a,l,c){return Tp(s,a,l,c),Sp(s)}function Zl(s,a){return Tp(s,null,null,a),Sp(s)}function ST(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&a!==null&&(m=31-tn(l),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[a]:c.push(a),a.lane=l|536870912),y):null}function Sp(s){if(50<Vh)throw Vh=0,Av=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var eu={};function w2(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(s,a,l,c){return new w2(s,a,l,c)}function E_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ms(s,a){var l=s.alternate;return l===null?(l=yr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function AT(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Ap(s,a,l,c,m,y){var I=0;if(c=s,typeof s=="function")E_(s)&&(I=1);else if(typeof s=="string")I=SM(s,l,Te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=yr(31,l,a,m),s.elementType=P,s.lanes=y,s;case b:return No(l.children,m,y,a);case A:I=8,m|=24;break;case x:return s=yr(12,l,a,m|2),s.elementType=x,s.lanes=y,s;case F:return s=yr(13,l,a,m),s.elementType=F,s.lanes=y,s;case K:return s=yr(19,l,a,m),s.elementType=K,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:case V:I=10;break e;case L:I=9;break e;case H:I=11;break e;case M:I=14;break e;case R:I=16,c=null;break e}I=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=yr(I,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function No(s,a,l,c){return s=yr(7,s,c,a),s.lanes=l,s}function b_(s,a,l){return s=yr(6,s,null,a),s.lanes=l,s}function w_(s,a,l){return a=yr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var tu=[],nu=0,Ip=null,Rp=0,jr=[],qr=0,ko=null,gs=1,ys="";function Mo(s,a){tu[nu++]=Rp,tu[nu++]=Ip,Ip=s,Rp=a}function IT(s,a,l){jr[qr++]=gs,jr[qr++]=ys,jr[qr++]=ko,ko=s;var c=gs;s=ys;var m=32-tn(c)-1;c&=~(1<<m),l+=1;var y=32-tn(a)+m;if(30<y){var I=m-m%5;y=(c&(1<<I)-1).toString(32),c>>=I,m-=I,gs=1<<32-tn(a)+m|l<<m|c,ys=y+s}else gs=1<<y|l<<m|c,ys=s}function T_(s){s.return!==null&&(Mo(s,1),IT(s,1,0))}function S_(s){for(;s===Ip;)Ip=tu[--nu],tu[nu]=null,Rp=tu[--nu],tu[nu]=null;for(;s===ko;)ko=jr[--qr],jr[qr]=null,ys=jr[--qr],jr[qr]=null,gs=jr[--qr],jr[qr]=null}var Xn=null,Bt=null,et=!1,Vo=null,Ci=!1,A_=Error(r(519));function Lo(s){var a=Error(r(418,""));throw ph(Fr(a,s)),A_}function RT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[fn]=s,a[nn]=c,l){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(l=0;l<Uh.length;l++)qe(Uh[l],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),bo(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Fl(a);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),wo(a,c.value,c.defaultValue,c.children),Fl(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||HA(a.textContent,l)?(c.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),c.onScroll!=null&&qe("scroll",a),c.onScrollEnd!=null&&qe("scrollend",a),c.onClick!=null&&(a.onclick=om),a=!0):a=!1,a||Lo(s)}function CT(s){for(Xn=s.return;Xn;)switch(Xn.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:Xn=Xn.return}}function dh(s){if(s!==Xn)return!1;if(!et)return CT(s),et=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||zv(s.type,s.memoizedProps)),l=!l),l&&Bt&&Lo(s),CT(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Bt=ai(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Bt=null}}else a===27?(a=Bt,va(s.type)?(s=$v,$v=null,Bt=s):Bt=a):Bt=Xn?ai(s.stateNode.nextSibling):null;return!0}function fh(){Bt=Xn=null,et=!1}function xT(){var s=Vo;return s!==null&&(ar===null?ar=s:ar.push.apply(ar,s),Vo=null),s}function ph(s){Vo===null?Vo=[s]:Vo.push(s)}var I_=re(null),Uo=null,_s=null;function ia(s,a,l){me(I_,a._currentValue),a._currentValue=l}function vs(s){s._currentValue=I_.current,ge(I_)}function R_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function C_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var I=m.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=m;for(var j=0;j<a.length;j++)if(N.context===a[j]){y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),R_(y.return,l,s),c||(I=null);break e}y=N.next}}else if(m.tag===18){if(I=m.return,I===null)throw Error(r(341));I.lanes|=l,y=I.alternate,y!==null&&(y.lanes|=l),R_(I,l,s),I=null}else I=m.child;if(I!==null)I.return=m;else for(I=m;I!==null;){if(I===s){I=null;break}if(m=I.sibling,m!==null){m.return=I.return,I=m;break}I=I.return}m=I}}function mh(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var I=m.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var N=m.type;gr(m.pendingProps.value,I.value)||(s!==null?s.push(N):s=[N])}}else if(m===Gt.current){if(I=m.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Hh):s=[Hh])}m=m.return}s!==null&&C_(a,s,l,c),a.flags|=262144}function Cp(s){for(s=s.firstContext;s!==null;){if(!gr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Bo(s){Uo=s,_s=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Bn(s){return PT(Uo,s)}function xp(s,a){return Uo===null&&Bo(s),PT(s,a)}function PT(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},_s===null){if(s===null)throw Error(r(308));_s=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else _s=_s.next=a;return l}var T2=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},S2=n.unstable_scheduleCallback,A2=n.unstable_NormalPriority,gn={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function x_(){return{controller:new T2,data:new Map,refCount:0}}function gh(s){s.refCount--,s.refCount===0&&S2(A2,function(){s.controller.abort()})}var yh=null,P_=0,ru=0,iu=null;function I2(s,a){if(yh===null){var l=yh=[];P_=0,ru=Dv(),iu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return P_++,a.then(OT,OT),a}function OT(){if(--P_===0&&yh!==null){iu!==null&&(iu.status="fulfilled");var s=yh;yh=null,ru=0,iu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function R2(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var DT=$.S;$.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&I2(s,a),DT!==null&&DT(s,a)};var Fo=re(null);function O_(){var s=Fo.current;return s!==null?s:Et.pooledCache}function Pp(s,a){a===null?me(Fo,Fo.current):me(Fo,a.pool)}function NT(){var s=O_();return s===null?null:{parent:gn._currentValue,pool:s}}var _h=Error(r(460)),kT=Error(r(474)),Op=Error(r(542)),D_={then:function(){}};function MT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Dp(){}function VT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Dp,Dp),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,UT(s),s;default:if(typeof a.status=="string")a.then(Dp,Dp);else{if(s=Et,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,UT(s),s}throw vh=a,_h}}var vh=null;function LT(){if(vh===null)throw Error(r(459));var s=vh;return vh=null,s}function UT(s){if(s===_h||s===Op)throw Error(r(483))}var sa=!1;function N_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function k_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function aa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function oa(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(at&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Sp(s),ST(s,null,l),a}return Tp(s,c,a,l),Sp(s)}function Eh(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Wc(s,l)}}function M_(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var V_=!1;function bh(){if(V_){var s=iu;if(s!==null)throw s}}function wh(s,a,l,c){V_=!1;var m=s.updateQueue;sa=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var j=N,ee=j.next;j.next=null,I===null?y=ee:I.next=ee,I=j;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==I&&(N===null?ce.firstBaseUpdate=ee:N.next=ee,ce.lastBaseUpdate=j))}if(y!==null){var de=m.baseState;I=0,ce=ee=j=null,N=y;do{var te=N.lane&-536870913,ne=te!==N.lane;if(ne?(Ye&te)===te:(c&te)===te){te!==0&&te===ru&&(V_=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ne=s,Pe=N;te=a;var ft=l;switch(Pe.tag){case 1:if(Ne=Pe.payload,typeof Ne=="function"){de=Ne.call(ft,de,te);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Pe.payload,te=typeof Ne=="function"?Ne.call(ft,de,te):Ne,te==null)break e;de=g({},de,te);break e;case 2:sa=!0}}te=N.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(ee=ce=ne,j=de):ce=ce.next=ne,I|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ce===null&&(j=de),m.baseState=j,m.firstBaseUpdate=ee,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),ma|=I,s.lanes=I,s.memoizedState=de}}function BT(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function FT(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)BT(l[s],a)}var su=re(null),Np=re(0);function zT(s,a){s=Is,me(Np,s),me(su,a),Is=s|a.baseLanes}function L_(){me(Np,Is),me(su,su.current)}function U_(){Is=Np.current,ge(su),ge(Np)}var la=0,Be=null,ht=null,sn=null,kp=!1,au=!1,zo=!1,Mp=0,Th=0,ou=null,C2=0;function Qt(){throw Error(r(321))}function B_(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!gr(s[l],a[l]))return!1;return!0}function F_(s,a,l,c,m,y){return la=y,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=s===null||s.memoizedState===null?SS:AS,zo=!1,y=l(c,m),zo=!1,au&&(y=qT(a,l,c,m)),jT(s),y}function jT(s){$.H=zp;var a=ht!==null&&ht.next!==null;if(la=0,sn=ht=Be=null,kp=!1,Th=0,ou=null,a)throw Error(r(300));s===null||wn||(s=s.dependencies,s!==null&&Cp(s)&&(wn=!0))}function qT(s,a,l,c){Be=s;var m=0;do{if(au&&(ou=null),Th=0,au=!1,25<=m)throw Error(r(301));if(m+=1,sn=ht=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=M2,y=a(l,c)}while(au);return y}function x2(){var s=$.H,a=s.useState()[0];return a=typeof a.then=="function"?Sh(a):a,s=s.useState()[0],(ht!==null?ht.memoizedState:null)!==s&&(Be.flags|=1024),a}function z_(){var s=Mp!==0;return Mp=0,s}function j_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function q_(s){if(kp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}kp=!1}la=0,sn=ht=Be=null,au=!1,Th=Mp=0,ou=null}function ir(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Be.memoizedState=sn=s:sn=sn.next=s,sn}function an(){if(ht===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=ht.next;var a=sn===null?Be.memoizedState:sn.next;if(a!==null)sn=a,ht=s;else{if(s===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ht=s,s={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},sn===null?Be.memoizedState=sn=s:sn=sn.next=s}return sn}function H_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sh(s){var a=Th;return Th+=1,ou===null&&(ou=[]),s=VT(ou,s,a),a=Be,(sn===null?a.memoizedState:sn.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?SS:AS),s}function Vp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Sh(s);if(s.$$typeof===V)return Bn(s)}throw Error(r(438,String(s)))}function $_(s){var a=null,l=Be.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=H_(),Be.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=w;return a.index++,l}function Es(s,a){return typeof a=="function"?a(s):a}function Lp(s){var a=an();return G_(a,ht,s)}function G_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var N=I=null,j=null,ee=a,ce=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(Ye&de)===de:(la&de)===de){var te=ee.revertLane;if(te===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===ru&&(ce=!0);else if((la&te)===te){ee=ee.next,te===ru&&(ce=!0);continue}else de={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(N=j=de,I=y):j=j.next=de,Be.lanes|=te,ma|=te;de=ee.action,zo&&l(y,de),y=ee.hasEagerState?ee.eagerState:l(y,de)}else te={lane:de,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},j===null?(N=j=te,I=y):j=j.next=te,Be.lanes|=de,ma|=de;ee=ee.next}while(ee!==null&&ee!==a);if(j===null?I=y:j.next=N,!gr(y,s.memoizedState)&&(wn=!0,ce&&(l=iu,l!==null)))throw l;s.memoizedState=y,s.baseState=I,s.baseQueue=j,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function K_(s){var a=an(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var I=m=m.next;do y=s(y,I.action),I=I.next;while(I!==m);gr(y,a.memoizedState)||(wn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function HT(s,a,l){var c=Be,m=an(),y=et;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var I=!gr((ht||m).memoizedState,l);I&&(m.memoizedState=l,wn=!0),m=m.queue;var N=KT.bind(null,c,m,s);if(Ah(2048,8,N,[s]),m.getSnapshot!==a||I||sn!==null&&sn.memoizedState.tag&1){if(c.flags|=2048,lu(9,Up(),GT.bind(null,c,m,l,a),null),Et===null)throw Error(r(349));y||(la&124)!==0||$T(c,a,l)}return l}function $T(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Be.updateQueue,a===null?(a=H_(),Be.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function GT(s,a,l,c){a.value=l,a.getSnapshot=c,WT(a)&&QT(s)}function KT(s,a,l){return l(function(){WT(a)&&QT(s)})}function WT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!gr(s,l)}catch{return!0}}function QT(s){var a=Zl(s,2);a!==null&&wr(a,s,2)}function W_(s){var a=ir();if(typeof s=="function"){var l=s;if(s=l(),zo){Kt(!0);try{l()}finally{Kt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:s},a}function YT(s,a,l,c){return s.baseState=l,G_(s,ht,typeof c=="function"?c:Es)}function P2(s,a,l,c,m){if(Fp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){y.listeners.push(I)}};$.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,XT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function XT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=$.T,I={};$.T=I;try{var N=l(m,c),j=$.S;j!==null&&j(I,N),JT(s,a,N)}catch(ee){Q_(s,a,ee)}finally{$.T=y}}else try{y=l(m,c),JT(s,a,y)}catch(ee){Q_(s,a,ee)}}function JT(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){ZT(s,a,c)},function(c){return Q_(s,a,c)}):ZT(s,a,l)}function ZT(s,a,l){a.status="fulfilled",a.value=l,eS(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,XT(s,l)))}function Q_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,eS(a),a=a.next;while(a!==c)}s.action=null}function eS(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function tS(s,a){return a}function nS(s,a){if(et){var l=Et.formState;if(l!==null){e:{var c=Be;if(et){if(Bt){t:{for(var m=Bt,y=Ci;m.nodeType!==8;){if(!y){m=null;break t}if(m=ai(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Bt=ai(m.nextSibling),c=m.data==="F!";break e}}Lo(c)}c=!1}c&&(a=l[0])}}return l=ir(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tS,lastRenderedState:a},l.queue=c,l=bS.bind(null,Be,c),c.dispatch=l,c=W_(!1),y=ev.bind(null,Be,!1,c.queue),c=ir(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=P2.bind(null,Be,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function rS(s){var a=an();return iS(a,ht,s)}function iS(s,a,l){if(a=G_(s,a,tS)[0],s=Lp(Es)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Sh(a)}catch(I){throw I===_h?Op:I}else c=a;a=an();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(Be.flags|=2048,lu(9,Up(),O2.bind(null,m,l),null)),[c,y,s]}function O2(s,a){s.action=a}function sS(s){var a=an(),l=ht;if(l!==null)return iS(a,l,s);an(),a=a.memoizedState,l=an();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function lu(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=H_(),Be.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function Up(){return{destroy:void 0,resource:void 0}}function aS(){return an().memoizedState}function Bp(s,a,l,c){var m=ir();c=c===void 0?null:c,Be.flags|=s,m.memoizedState=lu(1|a,Up(),l,c)}function Ah(s,a,l,c){var m=an();c=c===void 0?null:c;var y=m.memoizedState.inst;ht!==null&&c!==null&&B_(c,ht.memoizedState.deps)?m.memoizedState=lu(a,y,l,c):(Be.flags|=s,m.memoizedState=lu(1|a,y,l,c))}function oS(s,a){Bp(8390656,8,s,a)}function lS(s,a){Ah(2048,8,s,a)}function uS(s,a){return Ah(4,2,s,a)}function cS(s,a){return Ah(4,4,s,a)}function hS(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function dS(s,a,l){l=l!=null?l.concat([s]):null,Ah(4,4,hS.bind(null,a,s),l)}function Y_(){}function fS(s,a){var l=an();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&B_(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function pS(s,a){var l=an();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&B_(a,c[1]))return c[0];if(c=s(),zo){Kt(!0);try{s()}finally{Kt(!1)}}return l.memoizedState=[c,a],c}function X_(s,a,l){return l===void 0||(la&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=yA(),Be.lanes|=s,ma|=s,l)}function mS(s,a,l,c){return gr(l,a)?l:su.current!==null?(s=X_(s,l,c),gr(s,a)||(wn=!0),s):(la&42)===0?(wn=!0,s.memoizedState=l):(s=yA(),Be.lanes|=s,ma|=s,a)}function gS(s,a,l,c,m){var y=J.p;J.p=y!==0&&8>y?y:8;var I=$.T,N={};$.T=N,ev(s,!1,a,l);try{var j=m(),ee=$.S;if(ee!==null&&ee(N,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ce=R2(j,c);Ih(s,a,ce,br(s))}else Ih(s,a,c,br(s))}catch(de){Ih(s,a,{then:function(){},status:"rejected",reason:de},br())}finally{J.p=y,$.T=I}}function D2(){}function J_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=yS(s).queue;gS(s,m,a,le,l===null?D2:function(){return _S(s),l(c)})}function yS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:le},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function _S(s){var a=yS(s).next.queue;Ih(s,a,{},br())}function Z_(){return Bn(Hh)}function vS(){return an().memoizedState}function ES(){return an().memoizedState}function N2(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=br();s=aa(l);var c=oa(a,s,l);c!==null&&(wr(c,a,l),Eh(c,a,l)),a={cache:x_()},s.payload=a;return}a=a.return}}function k2(s,a,l){var c=br();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Fp(s)?wS(a,l):(l=v_(s,a,l,c),l!==null&&(wr(l,s,c),TS(l,a,c)))}function bS(s,a,l){var c=br();Ih(s,a,l,c)}function Ih(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fp(s))wS(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var I=a.lastRenderedState,N=y(I,l);if(m.hasEagerState=!0,m.eagerState=N,gr(N,I))return Tp(s,a,m,0),Et===null&&wp(),!1}catch{}finally{}if(l=v_(s,a,m,c),l!==null)return wr(l,s,c),TS(l,a,c),!0}return!1}function ev(s,a,l,c){if(c={lane:2,revertLane:Dv(),action:c,hasEagerState:!1,eagerState:null,next:null},Fp(s)){if(a)throw Error(r(479))}else a=v_(s,l,c,2),a!==null&&wr(a,s,2)}function Fp(s){var a=s.alternate;return s===Be||a!==null&&a===Be}function wS(s,a){au=kp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function TS(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Wc(s,l)}}var zp={readContext:Bn,use:Vp,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},SS={readContext:Bn,use:Vp,useCallback:function(s,a){return ir().memoizedState=[s,a===void 0?null:a],s},useContext:Bn,useEffect:oS,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Bp(4194308,4,hS.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Bp(4194308,4,s,a)},useInsertionEffect:function(s,a){Bp(4,2,s,a)},useMemo:function(s,a){var l=ir();a=a===void 0?null:a;var c=s();if(zo){Kt(!0);try{s()}finally{Kt(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=ir();if(l!==void 0){var m=l(a);if(zo){Kt(!0);try{l(a)}finally{Kt(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=k2.bind(null,Be,s),[c.memoizedState,s]},useRef:function(s){var a=ir();return s={current:s},a.memoizedState=s},useState:function(s){s=W_(s);var a=s.queue,l=bS.bind(null,Be,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Y_,useDeferredValue:function(s,a){var l=ir();return X_(l,s,a)},useTransition:function(){var s=W_(!1);return s=gS.bind(null,Be,s.queue,!0,!1),ir().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Be,m=ir();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Et===null)throw Error(r(349));(Ye&124)!==0||$T(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,oS(KT.bind(null,c,y,s),[s]),c.flags|=2048,lu(9,Up(),GT.bind(null,c,y,l,a),null),l},useId:function(){var s=ir(),a=Et.identifierPrefix;if(et){var l=ys,c=gs;l=(c&~(1<<32-tn(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=Mp++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=C2++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:Z_,useFormState:nS,useActionState:nS,useOptimistic:function(s){var a=ir();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=ev.bind(null,Be,!0,l),l.dispatch=a,[s,a]},useMemoCache:$_,useCacheRefresh:function(){return ir().memoizedState=N2.bind(null,Be)}},AS={readContext:Bn,use:Vp,useCallback:fS,useContext:Bn,useEffect:lS,useImperativeHandle:dS,useInsertionEffect:uS,useLayoutEffect:cS,useMemo:pS,useReducer:Lp,useRef:aS,useState:function(){return Lp(Es)},useDebugValue:Y_,useDeferredValue:function(s,a){var l=an();return mS(l,ht.memoizedState,s,a)},useTransition:function(){var s=Lp(Es)[0],a=an().memoizedState;return[typeof s=="boolean"?s:Sh(s),a]},useSyncExternalStore:HT,useId:vS,useHostTransitionStatus:Z_,useFormState:rS,useActionState:rS,useOptimistic:function(s,a){var l=an();return YT(l,ht,s,a)},useMemoCache:$_,useCacheRefresh:ES},M2={readContext:Bn,use:Vp,useCallback:fS,useContext:Bn,useEffect:lS,useImperativeHandle:dS,useInsertionEffect:uS,useLayoutEffect:cS,useMemo:pS,useReducer:K_,useRef:aS,useState:function(){return K_(Es)},useDebugValue:Y_,useDeferredValue:function(s,a){var l=an();return ht===null?X_(l,s,a):mS(l,ht.memoizedState,s,a)},useTransition:function(){var s=K_(Es)[0],a=an().memoizedState;return[typeof s=="boolean"?s:Sh(s),a]},useSyncExternalStore:HT,useId:vS,useHostTransitionStatus:Z_,useFormState:sS,useActionState:sS,useOptimistic:function(s,a){var l=an();return ht!==null?YT(l,ht,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:$_,useCacheRefresh:ES},uu=null,Rh=0;function jp(s){var a=Rh;return Rh+=1,uu===null&&(uu=[]),VT(uu,s,a)}function Ch(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function qp(s,a){throw a.$$typeof===_?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function IS(s){var a=s._init;return a(s._payload)}function RS(s){function a(Q,G){if(s){var Z=Q.deletions;Z===null?(Q.deletions=[G],Q.flags|=16):Z.push(G)}}function l(Q,G){if(!s)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=ms(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,Z){return Q.index=Z,s?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<G?(Q.flags|=67108866,G):Z):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function I(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,G,Z,he){return G===null||G.tag!==6?(G=b_(Z,Q.mode,he),G.return=Q,G):(G=m(G,Z),G.return=Q,G)}function j(Q,G,Z,he){var Se=Z.type;return Se===b?ce(Q,G,Z.props.children,he,Z.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&IS(Se)===G.type)?(G=m(G,Z.props),Ch(G,Z),G.return=Q,G):(G=Ap(Z.type,Z.key,Z.props,null,Q.mode,he),Ch(G,Z),G.return=Q,G)}function ee(Q,G,Z,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=w_(Z,Q.mode,he),G.return=Q,G):(G=m(G,Z.children||[]),G.return=Q,G)}function ce(Q,G,Z,he,Se){return G===null||G.tag!==7?(G=No(Z,Q.mode,he,Se),G.return=Q,G):(G=m(G,Z),G.return=Q,G)}function de(Q,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=b_(""+G,Q.mode,Z),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return Z=Ap(G.type,G.key,G.props,null,Q.mode,Z),Ch(Z,G),Z.return=Q,Z;case T:return G=w_(G,Q.mode,Z),G.return=Q,G;case R:var he=G._init;return G=he(G._payload),de(Q,G,Z)}if(B(G)||C(G))return G=No(G,Q.mode,Z,null),G.return=Q,G;if(typeof G.then=="function")return de(Q,jp(G),Z);if(G.$$typeof===V)return de(Q,xp(Q,G),Z);qp(Q,G)}return null}function te(Q,G,Z,he){var Se=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:N(Q,G,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Se?j(Q,G,Z,he):null;case T:return Z.key===Se?ee(Q,G,Z,he):null;case R:return Se=Z._init,Z=Se(Z._payload),te(Q,G,Z,he)}if(B(Z)||C(Z))return Se!==null?null:ce(Q,G,Z,he,null);if(typeof Z.then=="function")return te(Q,G,jp(Z),he);if(Z.$$typeof===V)return te(Q,G,xp(Q,Z),he);qp(Q,Z)}return null}function ne(Q,G,Z,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(Z)||null,N(G,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return Q=Q.get(he.key===null?Z:he.key)||null,j(G,Q,he,Se);case T:return Q=Q.get(he.key===null?Z:he.key)||null,ee(G,Q,he,Se);case R:var ze=he._init;return he=ze(he._payload),ne(Q,G,Z,he,Se)}if(B(he)||C(he))return Q=Q.get(Z)||null,ce(G,Q,he,Se,null);if(typeof he.then=="function")return ne(Q,G,Z,jp(he),Se);if(he.$$typeof===V)return ne(Q,G,Z,xp(G,he),Se);qp(G,he)}return null}function Ne(Q,G,Z,he){for(var Se=null,ze=null,Re=G,Oe=G=0,Sn=null;Re!==null&&Oe<Z.length;Oe++){Re.index>Oe?(Sn=Re,Re=null):Sn=Re.sibling;var Je=te(Q,Re,Z[Oe],he);if(Je===null){Re===null&&(Re=Sn);break}s&&Re&&Je.alternate===null&&a(Q,Re),G=y(Je,G,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je,Re=Sn}if(Oe===Z.length)return l(Q,Re),et&&Mo(Q,Oe),Se;if(Re===null){for(;Oe<Z.length;Oe++)Re=de(Q,Z[Oe],he),Re!==null&&(G=y(Re,G,Oe),ze===null?Se=Re:ze.sibling=Re,ze=Re);return et&&Mo(Q,Oe),Se}for(Re=c(Re);Oe<Z.length;Oe++)Sn=ne(Re,Q,Oe,Z[Oe],he),Sn!==null&&(s&&Sn.alternate!==null&&Re.delete(Sn.key===null?Oe:Sn.key),G=y(Sn,G,Oe),ze===null?Se=Sn:ze.sibling=Sn,ze=Sn);return s&&Re.forEach(function(Sa){return a(Q,Sa)}),et&&Mo(Q,Oe),Se}function Pe(Q,G,Z,he){if(Z==null)throw Error(r(151));for(var Se=null,ze=null,Re=G,Oe=G=0,Sn=null,Je=Z.next();Re!==null&&!Je.done;Oe++,Je=Z.next()){Re.index>Oe?(Sn=Re,Re=null):Sn=Re.sibling;var Sa=te(Q,Re,Je.value,he);if(Sa===null){Re===null&&(Re=Sn);break}s&&Re&&Sa.alternate===null&&a(Q,Re),G=y(Sa,G,Oe),ze===null?Se=Sa:ze.sibling=Sa,ze=Sa,Re=Sn}if(Je.done)return l(Q,Re),et&&Mo(Q,Oe),Se;if(Re===null){for(;!Je.done;Oe++,Je=Z.next())Je=de(Q,Je.value,he),Je!==null&&(G=y(Je,G,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je);return et&&Mo(Q,Oe),Se}for(Re=c(Re);!Je.done;Oe++,Je=Z.next())Je=ne(Re,Q,Oe,Je.value,he),Je!==null&&(s&&Je.alternate!==null&&Re.delete(Je.key===null?Oe:Je.key),G=y(Je,G,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je);return s&&Re.forEach(function(VM){return a(Q,VM)}),et&&Mo(Q,Oe),Se}function ft(Q,G,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Se=Z.key;G!==null;){if(G.key===Se){if(Se=Z.type,Se===b){if(G.tag===7){l(Q,G.sibling),he=m(G,Z.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&IS(Se)===G.type){l(Q,G.sibling),he=m(G,Z.props),Ch(he,Z),he.return=Q,Q=he;break e}l(Q,G);break}else a(Q,G);G=G.sibling}Z.type===b?(he=No(Z.props.children,Q.mode,he,Z.key),he.return=Q,Q=he):(he=Ap(Z.type,Z.key,Z.props,null,Q.mode,he),Ch(he,Z),he.return=Q,Q=he)}return I(Q);case T:e:{for(Se=Z.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){l(Q,G.sibling),he=m(G,Z.children||[]),he.return=Q,Q=he;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}he=w_(Z,Q.mode,he),he.return=Q,Q=he}return I(Q);case R:return Se=Z._init,Z=Se(Z._payload),ft(Q,G,Z,he)}if(B(Z))return Ne(Q,G,Z,he);if(C(Z)){if(Se=C(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),Pe(Q,G,Z,he)}if(typeof Z.then=="function")return ft(Q,G,jp(Z),he);if(Z.$$typeof===V)return ft(Q,G,xp(Q,Z),he);qp(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(l(Q,G.sibling),he=m(G,Z),he.return=Q,Q=he):(l(Q,G),he=b_(Z,Q.mode,he),he.return=Q,Q=he),I(Q)):l(Q,G)}return function(Q,G,Z,he){try{Rh=0;var Se=ft(Q,G,Z,he);return uu=null,Se}catch(Re){if(Re===_h||Re===Op)throw Re;var ze=yr(29,Re,null,Q.mode);return ze.lanes=he,ze.return=Q,ze}finally{}}}var cu=RS(!0),CS=RS(!1),Hr=re(null),xi=null;function ua(s){var a=s.alternate;me(yn,yn.current&1),me(Hr,s),xi===null&&(a===null||su.current!==null||a.memoizedState!==null)&&(xi=s)}function xS(s){if(s.tag===22){if(me(yn,yn.current),me(Hr,s),xi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(xi=s)}}else ca()}function ca(){me(yn,yn.current),me(Hr,Hr.current)}function bs(s){ge(Hr),xi===s&&(xi=null),ge(yn)}var yn=re(0);function Hp(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Hv(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function tv(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var nv={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=br(),m=aa(c);m.payload=a,l!=null&&(m.callback=l),a=oa(s,m,c),a!==null&&(wr(a,s,c),Eh(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=br(),m=aa(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=oa(s,m,c),a!==null&&(wr(a,s,c),Eh(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=br(),c=aa(l);c.tag=2,a!=null&&(c.callback=a),a=oa(s,c,l),a!==null&&(wr(a,s,l),Eh(a,s,l))}};function PS(s,a,l,c,m,y,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,I):a.prototype&&a.prototype.isPureReactComponent?!ch(l,c)||!ch(m,y):!0}function OS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&nv.enqueueReplaceState(a,a.state,null)}function jo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=g({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var $p=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function DS(s){$p(s)}function NS(s){console.error(s)}function kS(s){$p(s)}function Gp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function MS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function rv(s,a,l){return l=aa(l),l.tag=3,l.payload={element:null},l.callback=function(){Gp(s,a)},l}function VS(s){return s=aa(s),s.tag=3,s}function LS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){MS(a,l,c)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){MS(a,l,c),typeof m!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function V2(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&mh(a,l,m,!0),l=Hr.current,l!==null){switch(l.tag){case 13:return xi===null?Rv():l.alternate===null&&Ft===0&&(Ft=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===D_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),xv(s,c,m)),!1;case 22:return l.flags|=65536,c===D_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),xv(s,c,m)),!1}throw Error(r(435,l.tag))}return xv(s,c,m),Rv(),!1}if(et)return a=Hr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==A_&&(s=Error(r(422),{cause:c}),ph(Fr(s,l)))):(c!==A_&&(a=Error(r(423),{cause:c}),ph(Fr(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Fr(c,l),m=rv(s.stateNode,c,m),M_(s,m),Ft!==4&&(Ft=2)),!1;var y=Error(r(520),{cause:c});if(y=Fr(y,l),Mh===null?Mh=[y]:Mh.push(y),Ft!==4&&(Ft=2),a===null)return!0;c=Fr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=rv(l.stateNode,c,s),M_(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ga===null||!ga.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=VS(m),LS(m,s,l,c),M_(l,m),!1}l=l.return}while(l!==null);return!1}var US=Error(r(461)),wn=!1;function On(s,a,l,c){a.child=s===null?CS(a,null,l,c):cu(a,s.child,l,c)}function BS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var I={};for(var N in c)N!=="ref"&&(I[N]=c[N])}else I=c;return Bo(a),c=F_(s,a,l,I,y,m),N=z_(),s!==null&&!wn?(j_(s,a,m),ws(s,a,m)):(et&&N&&T_(a),a.flags|=1,On(s,a,c,m),a.child)}function FS(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!E_(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,zS(s,a,y,c,m)):(s=Ap(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!hv(s,m)){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:ch,l(I,c)&&s.ref===a.ref)return ws(s,a,m)}return a.flags|=1,s=ms(y,c),s.ref=a.ref,s.return=a,a.child=s}function zS(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(ch(y,c)&&s.ref===a.ref)if(wn=!1,a.pendingProps=c=y,hv(s,m))(s.flags&131072)!==0&&(wn=!0);else return a.lanes=s.lanes,ws(s,a,m)}return iv(s,a,l,c,m)}function jS(s,a,l){var c=a.pendingProps,m=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return qS(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Pp(a,y!==null?y.cachePool:null),y!==null?zT(a,y):L_(),xS(a);else return a.lanes=a.childLanes=536870912,qS(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Pp(a,y.cachePool),zT(a,y),ca(),a.memoizedState=null):(s!==null&&Pp(a,null),L_(),ca());return On(s,a,m,l),a.child}function qS(s,a,l,c){var m=O_();return m=m===null?null:{parent:gn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Pp(a,null),L_(),xS(a),s!==null&&mh(s,a,c,!0),null}function Kp(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function iv(s,a,l,c,m){return Bo(a),l=F_(s,a,l,c,void 0,m),c=z_(),s!==null&&!wn?(j_(s,a,m),ws(s,a,m)):(et&&c&&T_(a),a.flags|=1,On(s,a,l,m),a.child)}function HS(s,a,l,c,m,y){return Bo(a),a.updateQueue=null,l=qT(a,c,l,m),jT(s),c=z_(),s!==null&&!wn?(j_(s,a,y),ws(s,a,y)):(et&&c&&T_(a),a.flags|=1,On(s,a,l,y),a.child)}function $S(s,a,l,c,m){if(Bo(a),a.stateNode===null){var y=eu,I=l.contextType;typeof I=="object"&&I!==null&&(y=Bn(I)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=nv,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},N_(a),I=l.contextType,y.context=typeof I=="object"&&I!==null?Bn(I):eu,y.state=a.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(tv(a,l,I,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(I=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),I!==y.state&&nv.enqueueReplaceState(y,y.state,null),wh(a,c,y,m),bh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var N=a.memoizedProps,j=jo(l,N);y.props=j;var ee=y.context,ce=l.contextType;I=eu,typeof ce=="object"&&ce!==null&&(I=Bn(ce));var de=l.getDerivedStateFromProps;ce=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||ee!==I)&&OS(a,y,c,I),sa=!1;var te=a.memoizedState;y.state=te,wh(a,c,y,m),bh(),ee=a.memoizedState,N||te!==ee||sa?(typeof de=="function"&&(tv(a,l,de,c),ee=a.memoizedState),(j=sa||PS(a,l,j,c,te,ee,I))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=ee),y.props=c,y.state=ee,y.context=I,c=j):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,k_(s,a),I=a.memoizedProps,ce=jo(l,I),y.props=ce,de=a.pendingProps,te=y.context,ee=l.contextType,j=eu,typeof ee=="object"&&ee!==null&&(j=Bn(ee)),N=l.getDerivedStateFromProps,(ee=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I!==de||te!==j)&&OS(a,y,c,j),sa=!1,te=a.memoizedState,y.state=te,wh(a,c,y,m),bh();var ne=a.memoizedState;I!==de||te!==ne||sa||s!==null&&s.dependencies!==null&&Cp(s.dependencies)?(typeof N=="function"&&(tv(a,l,N,c),ne=a.memoizedState),(ce=sa||PS(a,l,ce,c,te,ne,j)||s!==null&&s.dependencies!==null&&Cp(s.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ne,j),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ne,j)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ne),y.props=c,y.state=ne,y.context=j,c=ce):(typeof y.componentDidUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,Kp(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=cu(a,s.child,null,m),a.child=cu(a,null,l,m)):On(s,a,l,m),a.memoizedState=y.state,s=a.child):s=ws(s,a,m),s}function GS(s,a,l,c){return fh(),a.flags|=256,On(s,a,l,c),a.child}var sv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function av(s){return{baseLanes:s,cachePool:NT()}}function ov(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=$r),s}function KS(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,I;if((I=y)||(I=s!==null&&s.memoizedState===null?!1:(yn.current&2)!==0),I&&(m=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?ua(a):ca(),et){var N=Bt,j;if(j=N){e:{for(j=N,N=Ci;j.nodeType!==8;){if(!N){N=null;break e}if(j=ai(j.nextSibling),j===null){N=null;break e}}N=j}N!==null?(a.memoizedState={dehydrated:N,treeContext:ko!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},j=yr(18,null,null,0),j.stateNode=N,j.return=a,a.child=j,Xn=a,Bt=null,j=!0):j=!1}j||Lo(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Hv(N)?a.lanes=32:a.lanes=536870912,null;bs(a)}return N=c.children,c=c.fallback,m?(ca(),m=a.mode,N=Wp({mode:"hidden",children:N},m),c=No(c,m,l,null),N.return=a,c.return=a,N.sibling=c,a.child=N,m=a.child,m.memoizedState=av(l),m.childLanes=ov(s,I,l),a.memoizedState=sv,c):(ua(a),lv(a,N))}if(j=s.memoizedState,j!==null&&(N=j.dehydrated,N!==null)){if(y)a.flags&256?(ua(a),a.flags&=-257,a=uv(s,a,l)):a.memoizedState!==null?(ca(),a.child=s.child,a.flags|=128,a=null):(ca(),m=c.fallback,N=a.mode,c=Wp({mode:"visible",children:c.children},N),m=No(m,N,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,cu(a,s.child,null,l),c=a.child,c.memoizedState=av(l),c.childLanes=ov(s,I,l),a.memoizedState=sv,a=m);else if(ua(a),Hv(N)){if(I=N.nextSibling&&N.nextSibling.dataset,I)var ee=I.dgst;I=ee,c=Error(r(419)),c.stack="",c.digest=I,ph({value:c,source:null,stack:null}),a=uv(s,a,l)}else if(wn||mh(s,a,l,!1),I=(l&s.childLanes)!==0,wn||I){if(I=Et,I!==null&&(c=l&-l,c=(c&42)!==0?1:Xs(c),c=(c&(I.suspendedLanes|l))!==0?0:c,c!==0&&c!==j.retryLane))throw j.retryLane=c,Zl(s,c),wr(I,s,c),US;N.data==="$?"||Rv(),a=uv(s,a,l)}else N.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=j.treeContext,Bt=ai(N.nextSibling),Xn=a,et=!0,Vo=null,Ci=!1,s!==null&&(jr[qr++]=gs,jr[qr++]=ys,jr[qr++]=ko,gs=s.id,ys=s.overflow,ko=a),a=lv(a,c.children),a.flags|=4096);return a}return m?(ca(),m=c.fallback,N=a.mode,j=s.child,ee=j.sibling,c=ms(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,ee!==null?m=ms(ee,m):(m=No(m,N,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,N=s.child.memoizedState,N===null?N=av(l):(j=N.cachePool,j!==null?(ee=gn._currentValue,j=j.parent!==ee?{parent:ee,pool:ee}:j):j=NT(),N={baseLanes:N.baseLanes|l,cachePool:j}),m.memoizedState=N,m.childLanes=ov(s,I,l),a.memoizedState=sv,c):(ua(a),l=s.child,s=l.sibling,l=ms(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(I=a.deletions,I===null?(a.deletions=[s],a.flags|=16):I.push(s)),a.child=l,a.memoizedState=null,l)}function lv(s,a){return a=Wp({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Wp(s,a){return s=yr(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function uv(s,a,l){return cu(a,s.child,null,l),s=lv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function WS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),R_(s.return,a,l)}function cv(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function QS(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(On(s,a,c.children,l),c=yn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&WS(s,l,a);else if(s.tag===19)WS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(me(yn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Hp(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),cv(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Hp(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}cv(a,!0,l,null,y);break;case"together":cv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ws(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ma|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(mh(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=ms(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=ms(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function hv(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Cp(s)))}function L2(s,a,l){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),ia(a,gn,s.memoizedState.cache),fh();break;case 27:case 5:mi(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:ia(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ua(a),a.flags|=128,null):(l&a.child.childLanes)!==0?KS(s,a,l):(ua(a),s=ws(s,a,l),s!==null?s.sibling:null);ua(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(mh(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return QS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),me(yn,yn.current),c)break;return null;case 22:case 23:return a.lanes=0,jS(s,a,l);case 24:ia(a,gn,s.memoizedState.cache)}return ws(s,a,l)}function YS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)wn=!0;else{if(!hv(s,l)&&(a.flags&128)===0)return wn=!1,L2(s,a,l);wn=(s.flags&131072)!==0}else wn=!1,et&&(a.flags&1048576)!==0&&IT(a,Rp,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")E_(c)?(s=jo(c,s),a.tag=1,a=$S(null,a,c,s,l)):(a.tag=0,a=iv(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===H){a.tag=11,a=BS(null,a,c,s,l);break e}else if(m===M){a.tag=14,a=FS(null,a,c,s,l);break e}}throw a=se(c)||c,Error(r(306,a,""))}}return a;case 0:return iv(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=jo(c,a.pendingProps),$S(s,a,c,m,l);case 3:e:{if(rt(a,a.stateNode.containerInfo),s===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;m=y.element,k_(s,a),wh(a,c,null,l);var I=a.memoizedState;if(c=I.cache,ia(a,gn,c),c!==y.cache&&C_(a,[gn],l,!0),bh(),c=I.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=GS(s,a,c,l);break e}else if(c!==m){m=Fr(Error(r(424)),a),ph(m),a=GS(s,a,c,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Bt=ai(s.firstChild),Xn=a,et=!0,Vo=null,Ci=!0,l=CS(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(fh(),c===m){a=ws(s,a,l);break e}On(s,a,c,l)}a=a.child}return a;case 26:return Kp(s,a),s===null?(l=eI(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=lm(xe.current).createElement(l),c[fn]=a,c[nn]=s,Nn(c,l,s),Wt(c),a.stateNode=c):a.memoizedState=eI(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return mi(a),s===null&&et&&(c=a.stateNode=XA(a.type,a.pendingProps,xe.current),Xn=a,Ci=!0,m=Bt,va(a.type)?($v=m,Bt=ai(c.firstChild)):Bt=m),On(s,a,a.pendingProps.children,l),Kp(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&et&&((m=c=Bt)&&(c=hM(c,a.type,a.pendingProps,Ci),c!==null?(a.stateNode=c,Xn=a,Bt=ai(c.firstChild),Ci=!1,m=!0):m=!1),m||Lo(a)),mi(a),m=a.type,y=a.pendingProps,I=s!==null?s.memoizedProps:null,c=y.children,zv(m,y)?c=null:I!==null&&zv(m,I)&&(a.flags|=32),a.memoizedState!==null&&(m=F_(s,a,x2,null,null,l),Hh._currentValue=m),Kp(s,a),On(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=Bt)&&(l=dM(l,a.pendingProps,Ci),l!==null?(a.stateNode=l,Xn=a,Bt=null,s=!0):s=!1),s||Lo(a)),null;case 13:return KS(s,a,l);case 4:return rt(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=cu(a,null,c,l):On(s,a,c,l),a.child;case 11:return BS(s,a,a.type,a.pendingProps,l);case 7:return On(s,a,a.pendingProps,l),a.child;case 8:return On(s,a,a.pendingProps.children,l),a.child;case 12:return On(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ia(a,a.type,c.value),On(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Bo(a),m=Bn(m),c=c(m),a.flags|=1,On(s,a,c,l),a.child;case 14:return FS(s,a,a.type,a.pendingProps,l);case 15:return zS(s,a,a.type,a.pendingProps,l);case 19:return QS(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=Wp(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=ms(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return jS(s,a,l);case 24:return Bo(a),c=Bn(gn),s===null?(m=O_(),m===null&&(m=Et,y=x_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},N_(a),ia(a,gn,m)):((s.lanes&l)!==0&&(k_(s,a),wh(a,null,null,l),bh()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ia(a,gn,c)):(c=y.cache,ia(a,gn,c),c!==m.cache&&C_(a,[gn],l,!0))),On(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ts(s){s.flags|=4}function XS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!sI(a)){if(a=Hr.current,a!==null&&((Ye&4194048)===Ye?xi!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||a!==xi))throw vh=D_,kT;s.flags|=8192}}function Qp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Gc():536870912,s.lanes|=a,pu|=a)}function xh(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Nt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function U2(s,a,l){var c=a.pendingProps;switch(S_(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(a),null;case 1:return Nt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),vs(gn),Nr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(dh(a)?Ts(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xT())),Nt(a),null;case 26:return l=a.memoizedState,s===null?(Ts(a),l!==null?(Nt(a),XS(a,l)):(Nt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Ts(a),Nt(a),XS(a,l)):(Nt(a),a.flags&=-16777217):(s.memoizedProps!==c&&Ts(a),Nt(a),a.flags&=-16777217),null;case 27:kr(a),l=xe.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Ts(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Nt(a),null}s=Te.current,dh(a)?RT(a):(s=XA(m,c,l),a.stateNode=s,Ts(a))}return Nt(a),null;case 5:if(kr(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Ts(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Nt(a),null}if(s=Te.current,dh(a))RT(a);else{switch(m=lm(xe.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[fn]=a,s[nn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(Nn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ts(a)}}return Nt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&Ts(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=xe.current,dh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Xn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[fn]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||HA(s.nodeValue,l)),s||Lo(a)}else s=lm(s).createTextNode(c),s[fn]=a,a.stateNode=s}return Nt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=dh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[fn]=a}else fh(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nt(a),m=!1}else m=xT(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(bs(a),a):(bs(a),null)}if(bs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Qp(a,a.updateQueue),Nt(a),null;case 4:return Nr(),s===null&&Vv(a.stateNode.containerInfo),Nt(a),null;case 10:return vs(a.type),Nt(a),null;case 19:if(ge(yn),m=a.memoizedState,m===null)return Nt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)xh(m,!1);else{if(Ft!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Hp(s),y!==null){for(a.flags|=128,xh(m,!1),s=y.updateQueue,a.updateQueue=s,Qp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)AT(l,s),l=l.sibling;return me(yn,yn.current&1|2),a.child}s=s.sibling}m.tail!==null&&rr()>Jp&&(a.flags|=128,c=!0,xh(m,!1),a.lanes=4194304)}else{if(!c)if(s=Hp(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Qp(a,s),xh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return Nt(a),null}else 2*rr()-m.renderingStartTime>Jp&&l!==536870912&&(a.flags|=128,c=!0,xh(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=rr(),a.sibling=null,s=yn.current,me(yn,c?s&1|2:s&1),a):(Nt(a),null);case 22:case 23:return bs(a),U_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Nt(a),a.subtreeFlags&6&&(a.flags|=8192)):Nt(a),l=a.updateQueue,l!==null&&Qp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ge(Fo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),vs(gn),Nt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function B2(s,a){switch(S_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return vs(gn),Nr(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return kr(a),null;case 13:if(bs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));fh()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ge(yn),null;case 4:return Nr(),null;case 10:return vs(a.type),null;case 22:case 23:return bs(a),U_(),s!==null&&ge(Fo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return vs(gn),null;case 25:return null;default:return null}}function JS(s,a){switch(S_(a),a.tag){case 3:vs(gn),Nr();break;case 26:case 27:case 5:kr(a);break;case 4:Nr();break;case 13:bs(a);break;case 19:ge(yn);break;case 10:vs(a.type);break;case 22:case 23:bs(a),U_(),s!==null&&ge(Fo);break;case 24:vs(gn)}}function Ph(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,I=l.inst;c=y(),I.destroy=c}l=l.next}while(l!==m)}}catch(N){gt(a,a.return,N)}}function ha(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var I=c.inst,N=I.destroy;if(N!==void 0){I.destroy=void 0,m=a;var j=l,ee=N;try{ee()}catch(ce){gt(m,j,ce)}}}c=c.next}while(c!==y)}}catch(ce){gt(a,a.return,ce)}}function ZS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{FT(a,l)}catch(c){gt(s,s.return,c)}}}function eA(s,a,l){l.props=jo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){gt(s,a,c)}}function Oh(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){gt(s,a,m)}}function Pi(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){gt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){gt(s,a,m)}else l.current=null}function tA(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){gt(s,s.return,m)}}function dv(s,a,l){try{var c=s.stateNode;aM(c,s.type,l,a),c[nn]=a}catch(m){gt(s,s.return,m)}}function nA(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&va(s.type)||s.tag===4}function fv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||nA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&va(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pv(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=om));else if(c!==4&&(c===27&&va(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(pv(s,a,l),s=s.sibling;s!==null;)pv(s,a,l),s=s.sibling}function Yp(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&va(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Yp(s,a,l),s=s.sibling;s!==null;)Yp(s,a,l),s=s.sibling}function rA(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Nn(a,c,l),a[fn]=s,a[nn]=l}catch(y){gt(s,s.return,y)}}var Ss=!1,Yt=!1,mv=!1,iA=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function F2(s,a){if(s=s.containerInfo,Bv=pm,s=mT(s),f_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,N=-1,j=-1,ee=0,ce=0,de=s,te=null;t:for(;;){for(var ne;de!==l||m!==0&&de.nodeType!==3||(N=I+m),de!==y||c!==0&&de.nodeType!==3||(j=I+c),de.nodeType===3&&(I+=de.nodeValue.length),(ne=de.firstChild)!==null;)te=de,de=ne;for(;;){if(de===s)break t;if(te===l&&++ee===m&&(N=I),te===y&&++ce===c&&(j=I),(ne=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ne}l=N===-1||j===-1?null:{start:N,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fv={focusedElem:s,selectionRange:l},pm=!1,Tn=a;Tn!==null;)if(a=Tn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Tn=s;else for(;Tn!==null;){switch(a=Tn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ne=jo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ne,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){gt(l,l.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)qv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":qv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Tn=s;break}Tn=a.return}}function sA(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:da(s,l),c&4&&Ph(5,l);break;case 1:if(da(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(I){gt(l,l.return,I)}else{var m=jo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(I){gt(l,l.return,I)}}c&64&&ZS(l),c&512&&Oh(l,l.return);break;case 3:if(da(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{FT(s,a)}catch(I){gt(l,l.return,I)}}break;case 27:a===null&&c&4&&rA(l);case 26:case 5:da(s,l),a===null&&c&4&&tA(l),c&512&&Oh(l,l.return);break;case 12:da(s,l);break;case 13:da(s,l),c&4&&lA(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Q2.bind(null,l),fM(s,l))));break;case 22:if(c=l.memoizedState!==null||Ss,!c){a=a!==null&&a.memoizedState!==null||Yt,m=Ss;var y=Yt;Ss=c,(Yt=a)&&!y?fa(s,l,(l.subtreeFlags&8772)!==0):da(s,l),Ss=m,Yt=y}break;case 30:break;default:da(s,l)}}function aA(s){var a=s.alternate;a!==null&&(s.alternate=null,aA(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ea(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var At=null,sr=!1;function As(s,a,l){for(l=l.child;l!==null;)oA(s,a,l),l=l.sibling}function oA(s,a,l){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(st,l)}catch{}switch(l.tag){case 26:Yt||Pi(l,a),As(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yt||Pi(l,a);var c=At,m=sr;va(l.type)&&(At=l.stateNode,sr=!1),As(s,a,l),Fh(l.stateNode),At=c,sr=m;break;case 5:Yt||Pi(l,a);case 6:if(c=At,m=sr,At=null,As(s,a,l),At=c,sr=m,At!==null)if(sr)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(l.stateNode)}catch(y){gt(l,a,y)}else try{At.removeChild(l.stateNode)}catch(y){gt(l,a,y)}break;case 18:At!==null&&(sr?(s=At,QA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Wh(s)):QA(At,l.stateNode));break;case 4:c=At,m=sr,At=l.stateNode.containerInfo,sr=!0,As(s,a,l),At=c,sr=m;break;case 0:case 11:case 14:case 15:Yt||ha(2,l,a),Yt||ha(4,l,a),As(s,a,l);break;case 1:Yt||(Pi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&eA(l,a,c)),As(s,a,l);break;case 21:As(s,a,l);break;case 22:Yt=(c=Yt)||l.memoizedState!==null,As(s,a,l),Yt=c;break;default:As(s,a,l)}}function lA(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wh(s)}catch(l){gt(a,a.return,l)}}function z2(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new iA),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new iA),a;default:throw Error(r(435,s.tag))}}function gv(s,a){var l=z2(s);a.forEach(function(c){var m=Y2.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function _r(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,I=a,N=I;e:for(;N!==null;){switch(N.tag){case 27:if(va(N.type)){At=N.stateNode,sr=!1;break e}break;case 5:At=N.stateNode,sr=!1;break e;case 3:case 4:At=N.stateNode.containerInfo,sr=!0;break e}N=N.return}if(At===null)throw Error(r(160));oA(y,I,m),At=null,sr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)uA(a,s),a=a.sibling}var si=null;function uA(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:_r(a,s),vr(s),c&4&&(ha(3,s,s.return),Ph(3,s),ha(5,s,s.return));break;case 1:_r(a,s),vr(s),c&512&&(Yt||l===null||Pi(l,l.return)),c&64&&Ss&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=si;if(_r(a,s),vr(s),c&512&&(Yt||l===null||Pi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[yo]||y[fn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Nn(y,c,l),y[fn]=s,Wt(y),c=y;break e;case"link":var I=rI("link","href",m).get(c+(l.href||""));if(I){for(var N=0;N<I.length;N++)if(y=I[N],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(N,1);break t}}y=m.createElement(c),Nn(y,c,l),m.head.appendChild(y);break;case"meta":if(I=rI("meta","content",m).get(c+(l.content||""))){for(N=0;N<I.length;N++)if(y=I[N],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(N,1);break t}}y=m.createElement(c),Nn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[fn]=s,Wt(y),c=y}s.stateNode=c}else iI(m,s.type,s.stateNode);else s.stateNode=nI(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?iI(m,s.type,s.stateNode):nI(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&dv(s,s.memoizedProps,l.memoizedProps)}break;case 27:_r(a,s),vr(s),c&512&&(Yt||l===null||Pi(l,l.return)),l!==null&&c&4&&dv(s,s.memoizedProps,l.memoizedProps);break;case 5:if(_r(a,s),vr(s),c&512&&(Yt||l===null||Pi(l,l.return)),s.flags&32){m=s.stateNode;try{Vr(m,"")}catch(ne){gt(s,s.return,ne)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,dv(s,m,l!==null?l.memoizedProps:m)),c&1024&&(mv=!0);break;case 6:if(_r(a,s),vr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ne){gt(s,s.return,ne)}}break;case 3:if(hm=null,m=si,si=um(a.containerInfo),_r(a,s),si=m,vr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Wh(a.containerInfo)}catch(ne){gt(s,s.return,ne)}mv&&(mv=!1,cA(s));break;case 4:c=si,si=um(s.stateNode.containerInfo),_r(a,s),vr(s),si=c;break;case 12:_r(a,s),vr(s);break;case 13:_r(a,s),vr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wv=rr()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,gv(s,c)));break;case 22:m=s.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,ee=Ss,ce=Yt;if(Ss=ee||m,Yt=ce||j,_r(a,s),Yt=ce,Ss=ee,vr(s),c&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||j||Ss||Yt||qo(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){j=l=a;try{if(y=j.stateNode,m)I=y.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{N=j.stateNode;var de=j.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){gt(j,j.return,ne)}}}else if(a.tag===6){if(l===null){j=a;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(ne){gt(j,j.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,gv(s,l))));break;case 19:_r(a,s),vr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,gv(s,c)));break;case 30:break;case 21:break;default:_r(a,s),vr(s)}}function vr(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(nA(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=fv(s);Yp(s,y,m);break;case 5:var I=l.stateNode;l.flags&32&&(Vr(I,""),l.flags&=-33);var N=fv(s);Yp(s,N,I);break;case 3:case 4:var j=l.stateNode.containerInfo,ee=fv(s);pv(s,ee,j);break;default:throw Error(r(161))}}catch(ce){gt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function cA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;cA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function da(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)sA(s,a.alternate,a),a=a.sibling}function qo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ha(4,a,a.return),qo(a);break;case 1:Pi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&eA(a,a.return,l),qo(a);break;case 27:Fh(a.stateNode);case 26:case 5:Pi(a,a.return),qo(a);break;case 22:a.memoizedState===null&&qo(a);break;case 30:qo(a);break;default:qo(a)}s=s.sibling}}function fa(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,I=y.flags;switch(y.tag){case 0:case 11:case 15:fa(m,y,l),Ph(4,y);break;case 1:if(fa(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){gt(c,c.return,ee)}if(c=y,m=c.updateQueue,m!==null){var N=c.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)BT(j[m],N)}catch(ee){gt(c,c.return,ee)}}l&&I&64&&ZS(y),Oh(y,y.return);break;case 27:rA(y);case 26:case 5:fa(m,y,l),l&&c===null&&I&4&&tA(y),Oh(y,y.return);break;case 12:fa(m,y,l);break;case 13:fa(m,y,l),l&&I&4&&lA(m,y);break;case 22:y.memoizedState===null&&fa(m,y,l),Oh(y,y.return);break;case 30:break;default:fa(m,y,l)}a=a.sibling}}function yv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&gh(l))}function _v(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&gh(s))}function Oi(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)hA(s,a,l,c),a=a.sibling}function hA(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(s,a,l,c),m&2048&&Ph(9,a);break;case 1:Oi(s,a,l,c);break;case 3:Oi(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&gh(s)));break;case 12:if(m&2048){Oi(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,I=y.id,N=y.onPostCommit;typeof N=="function"&&N(I,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){gt(a,a.return,j)}}else Oi(s,a,l,c);break;case 13:Oi(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,I=a.alternate,a.memoizedState!==null?y._visibility&2?Oi(s,a,l,c):Dh(s,a):y._visibility&2?Oi(s,a,l,c):(y._visibility|=2,hu(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&yv(I,a);break;case 24:Oi(s,a,l,c),m&2048&&_v(a.alternate,a);break;default:Oi(s,a,l,c)}}function hu(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,I=a,N=l,j=c,ee=I.flags;switch(I.tag){case 0:case 11:case 15:hu(y,I,N,j,m),Ph(8,I);break;case 23:break;case 22:var ce=I.stateNode;I.memoizedState!==null?ce._visibility&2?hu(y,I,N,j,m):Dh(y,I):(ce._visibility|=2,hu(y,I,N,j,m)),m&&ee&2048&&yv(I.alternate,I);break;case 24:hu(y,I,N,j,m),m&&ee&2048&&_v(I.alternate,I);break;default:hu(y,I,N,j,m)}a=a.sibling}}function Dh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Dh(l,c),m&2048&&yv(c.alternate,c);break;case 24:Dh(l,c),m&2048&&_v(c.alternate,c);break;default:Dh(l,c)}a=a.sibling}}var Nh=8192;function du(s){if(s.subtreeFlags&Nh)for(s=s.child;s!==null;)dA(s),s=s.sibling}function dA(s){switch(s.tag){case 26:du(s),s.flags&Nh&&s.memoizedState!==null&&IM(si,s.memoizedState,s.memoizedProps);break;case 5:du(s);break;case 3:case 4:var a=si;si=um(s.stateNode.containerInfo),du(s),si=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Nh,Nh=16777216,du(s),Nh=a):du(s));break;default:du(s)}}function fA(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function kh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Tn=c,mA(c,s)}fA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pA(s),s=s.sibling}function pA(s){switch(s.tag){case 0:case 11:case 15:kh(s),s.flags&2048&&ha(9,s,s.return);break;case 3:kh(s);break;case 12:kh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Xp(s)):kh(s);break;default:kh(s)}}function Xp(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Tn=c,mA(c,s)}fA(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ha(8,a,a.return),Xp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Xp(a));break;default:Xp(a)}s=s.sibling}}function mA(s,a){for(;Tn!==null;){var l=Tn;switch(l.tag){case 0:case 11:case 15:ha(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Tn=c;else e:for(l=s;Tn!==null;){c=Tn;var m=c.sibling,y=c.return;if(aA(c),c===l){Tn=null;break e}if(m!==null){m.return=y,Tn=m;break e}Tn=y}}}var j2={getCacheForType:function(s){var a=Bn(gn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},q2=typeof WeakMap=="function"?WeakMap:Map,at=0,Et=null,je=null,Ye=0,ot=0,Er=null,pa=!1,fu=!1,vv=!1,Is=0,Ft=0,ma=0,Ho=0,Ev=0,$r=0,pu=0,Mh=null,ar=null,bv=!1,wv=0,Jp=1/0,Zp=null,ga=null,Dn=0,ya=null,mu=null,gu=0,Tv=0,Sv=null,gA=null,Vh=0,Av=null;function br(){if((at&2)!==0&&Ye!==0)return Ye&-Ye;if($.T!==null){var s=ru;return s!==0?s:Dv()}return Js()}function yA(){$r===0&&($r=(Ye&536870912)===0||et?$c():536870912);var s=Hr.current;return s!==null&&(s.flags|=32),$r}function wr(s,a,l){(s===Et&&(ot===2||ot===9)||s.cancelPendingCommit!==null)&&(yu(s,0),_a(s,Ye,$r,!1)),is(s,l),((at&2)===0||s!==Et)&&(s===Et&&((at&2)===0&&(Ho|=l),Ft===4&&_a(s,Ye,$r,!1)),Di(s))}function _A(s,a,l){if((at&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||go(s,a),m=c?G2(s,a):Cv(s,a,!0),y=c;do{if(m===0){fu&&!c&&_a(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!H2(l)){m=Cv(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var N=s;m=Mh;var j=N.current.memoizedState.isDehydrated;if(j&&(yu(N,I).flags|=256),I=Cv(N,I,!1),I!==2){if(vv&&!j){N.errorRecoveryDisabledLanes|=y,Ho|=y,m=4;break e}y=ar,ar=m,y!==null&&(ar===null?ar=y:ar.push.apply(ar,y))}m=I}if(y=!1,m!==2)continue}}if(m===1){yu(s,0),_a(s,a,0,!0);break}e:{switch(c=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:_a(c,a,$r,!pa);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=wv+300-rr(),10<m)){if(_a(c,a,$r,!pa),kl(c,0,!0)!==0)break e;c.timeoutHandle=KA(vA.bind(null,c,l,ar,Zp,bv,a,$r,Ho,pu,pa,y,2,-0,0),m);break e}vA(c,l,ar,Zp,bv,a,$r,Ho,pu,pa,y,0,-0,0)}}break}while(!0);Di(s)}function vA(s,a,l,c,m,y,I,N,j,ee,ce,de,te,ne){if(s.timeoutHandle=-1,de=a.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(qh={stylesheets:null,count:0,unsuspend:AM},dA(a),de=RM(),de!==null)){s.cancelPendingCommit=de(IA.bind(null,s,a,y,l,c,m,I,N,j,ce,1,te,ne)),_a(s,y,I,!ee);return}IA(s,a,y,l,c,m,I,N,j)}function H2(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!gr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _a(s,a,l,c){a&=~Ev,a&=~Ho,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-tn(m),I=1<<y;c[y]=-1,m&=~I}l!==0&&yi(s,l,a)}function em(){return(at&6)===0?(Lh(0),!1):!0}function Iv(){if(je!==null){if(ot===0)var s=je.return;else s=je,_s=Uo=null,q_(s),uu=null,Rh=0,s=je;for(;s!==null;)JS(s.alternate,s),s=s.return;je=null}}function yu(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,lM(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Iv(),Et=s,je=l=ms(s.current,null),Ye=a,ot=0,Er=null,pa=!1,fu=go(s,a),vv=!1,pu=$r=Ev=Ho=ma=Ft=0,ar=Mh=null,bv=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-tn(c),y=1<<m;a|=s[m],c&=~y}return Is=a,wp(),l}function EA(s,a){Be=null,$.H=zp,a===_h||a===Op?(a=LT(),ot=3):a===kT?(a=LT(),ot=4):ot=a===US?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Er=a,je===null&&(Ft=1,Gp(s,Fr(a,s.current)))}function bA(){var s=$.H;return $.H=zp,s===null?zp:s}function wA(){var s=$.A;return $.A=j2,s}function Rv(){Ft=4,pa||(Ye&4194048)!==Ye&&Hr.current!==null||(fu=!0),(ma&134217727)===0&&(Ho&134217727)===0||Et===null||_a(Et,Ye,$r,!1)}function Cv(s,a,l){var c=at;at|=2;var m=bA(),y=wA();(Et!==s||Ye!==a)&&(Zp=null,yu(s,a)),a=!1;var I=Ft;e:do try{if(ot!==0&&je!==null){var N=je,j=Er;switch(ot){case 8:Iv(),I=6;break e;case 3:case 2:case 9:case 6:Hr.current===null&&(a=!0);var ee=ot;if(ot=0,Er=null,_u(s,N,j,ee),l&&fu){I=0;break e}break;default:ee=ot,ot=0,Er=null,_u(s,N,j,ee)}}$2(),I=Ft;break}catch(ce){EA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,_s=Uo=null,at=c,$.H=m,$.A=y,je===null&&(Et=null,Ye=0,wp()),I}function $2(){for(;je!==null;)TA(je)}function G2(s,a){var l=at;at|=2;var c=bA(),m=wA();Et!==s||Ye!==a?(Zp=null,Jp=rr()+500,yu(s,a)):fu=go(s,a);e:do try{if(ot!==0&&je!==null){a=je;var y=Er;t:switch(ot){case 1:ot=0,Er=null,_u(s,a,y,1);break;case 2:case 9:if(MT(y)){ot=0,Er=null,SA(a);break}a=function(){ot!==2&&ot!==9||Et!==s||(ot=7),Di(s)},y.then(a,a);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:MT(y)?(ot=0,Er=null,SA(a)):(ot=0,Er=null,_u(s,a,y,7));break;case 5:var I=null;switch(je.tag){case 26:I=je.memoizedState;case 5:case 27:var N=je;if(!I||sI(I)){ot=0,Er=null;var j=N.sibling;if(j!==null)je=j;else{var ee=N.return;ee!==null?(je=ee,tm(ee)):je=null}break t}}ot=0,Er=null,_u(s,a,y,5);break;case 6:ot=0,Er=null,_u(s,a,y,6);break;case 8:Iv(),Ft=6;break e;default:throw Error(r(462))}}K2();break}catch(ce){EA(s,ce)}while(!0);return _s=Uo=null,$.H=c,$.A=m,at=l,je!==null?0:(Et=null,Ye=0,wp(),Ft)}function K2(){for(;je!==null&&!co();)TA(je)}function TA(s){var a=YS(s.alternate,s,Is);s.memoizedProps=s.pendingProps,a===null?tm(s):je=a}function SA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=HS(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=HS(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:q_(a);default:JS(l,a),a=je=AT(a,Is),a=YS(l,a,Is)}s.memoizedProps=s.pendingProps,a===null?tm(s):je=a}function _u(s,a,l,c){_s=Uo=null,q_(a),uu=null,Rh=0;var m=a.return;try{if(V2(s,m,a,l,Ye)){Ft=1,Gp(s,Fr(l,s.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;Ft=1,Gp(s,Fr(l,s.current)),je=null;return}a.flags&32768?(et||c===1?s=!0:fu||(Ye&536870912)!==0?s=!1:(pa=s=!0,(c===2||c===9||c===3||c===6)&&(c=Hr.current,c!==null&&c.tag===13&&(c.flags|=16384))),AA(a,s)):tm(a)}function tm(s){var a=s;do{if((a.flags&32768)!==0){AA(a,pa);return}s=a.return;var l=U2(a.alternate,a,Is);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=s}while(a!==null);Ft===0&&(Ft=5)}function AA(s,a){do{var l=B2(s.alternate,s);if(l!==null){l.flags&=32767,je=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){je=s;return}je=s=l}while(s!==null);Ft=6,je=null}function IA(s,a,l,c,m,y,I,N,j){s.cancelPendingCommit=null;do nm();while(Dn!==0);if((at&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=__,Kc(s,l,y,I,N,j),s===Et&&(je=Et=null,Ye=0),mu=a,ya=s,gu=l,Tv=y,Sv=m,gA=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,X2(Fe,function(){return OA(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=J.p,J.p=2,I=at,at|=4;try{F2(s,a,l)}finally{at=I,J.p=m,$.T=c}}Dn=1,RA(),CA(),xA()}}function RA(){if(Dn===1){Dn=0;var s=ya,a=mu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=J.p;J.p=2;var m=at;at|=4;try{uA(a,s);var y=Fv,I=mT(s.containerInfo),N=y.focusedElem,j=y.selectionRange;if(I!==N&&N&&N.ownerDocument&&pT(N.ownerDocument.documentElement,N)){if(j!==null&&f_(N)){var ee=j.start,ce=j.end;if(ce===void 0&&(ce=ee),"selectionStart"in N)N.selectionStart=ee,N.selectionEnd=Math.min(ce,N.value.length);else{var de=N.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ne=N.textContent.length,Pe=Math.min(j.start,Ne),ft=j.end===void 0?Pe:Math.min(j.end,Ne);!ne.extend&&Pe>ft&&(I=ft,ft=Pe,Pe=I);var Q=fT(N,Pe),G=fT(N,ft);if(Q&&G&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=de.createRange();Z.setStart(Q.node,Q.offset),ne.removeAllRanges(),Pe>ft?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(de=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var he=de[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}pm=!!Bv,Fv=Bv=null}finally{at=m,J.p=c,$.T=l}}s.current=a,Dn=2}}function CA(){if(Dn===2){Dn=0;var s=ya,a=mu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=J.p;J.p=2;var m=at;at|=4;try{sA(s,a.alternate,a)}finally{at=m,J.p=c,$.T=l}}Dn=3}}function xA(){if(Dn===4||Dn===3){Dn=0,Nl();var s=ya,a=mu,l=gu,c=gA;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Dn=5:(Dn=0,mu=ya=null,PA(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(ga=null),Ml(l),a=a.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(st,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=$.T,m=J.p,J.p=2,$.T=null;try{for(var y=s.onRecoverableError,I=0;I<c.length;I++){var N=c[I];y(N.value,{componentStack:N.stack})}}finally{$.T=a,J.p=m}}(gu&3)!==0&&nm(),Di(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===Av?Vh++:(Vh=0,Av=s):Vh=0,Lh(0)}}function PA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,gh(a)))}function nm(s){return RA(),CA(),xA(),OA()}function OA(){if(Dn!==5)return!1;var s=ya,a=Tv;Tv=0;var l=Ml(gu),c=$.T,m=J.p;try{J.p=32>l?32:l,$.T=null,l=Sv,Sv=null;var y=ya,I=gu;if(Dn=0,mu=ya=null,gu=0,(at&6)!==0)throw Error(r(331));var N=at;if(at|=4,pA(y.current),hA(y,y.current,I,l),at=N,Lh(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(st,y)}catch{}return!0}finally{J.p=m,$.T=c,PA(s,a)}}function DA(s,a,l){a=Fr(l,a),a=rv(s.stateNode,a,2),s=oa(s,a,2),s!==null&&(is(s,2),Di(s))}function gt(s,a,l){if(s.tag===3)DA(s,s,l);else for(;a!==null;){if(a.tag===3){DA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ga===null||!ga.has(c))){s=Fr(l,s),l=VS(2),c=oa(a,l,2),c!==null&&(LS(l,c,a,s),is(c,2),Di(c));break}}a=a.return}}function xv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new q2;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(vv=!0,m.add(l),s=W2.bind(null,s,a,l),a.then(s,s))}function W2(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Et===s&&(Ye&l)===l&&(Ft===4||Ft===3&&(Ye&62914560)===Ye&&300>rr()-wv?(at&2)===0&&yu(s,0):Ev|=l,pu===Ye&&(pu=0)),Di(s)}function NA(s,a){a===0&&(a=Gc()),s=Zl(s,a),s!==null&&(is(s,a),Di(s))}function Q2(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),NA(s,l)}function Y2(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),NA(s,l)}function X2(s,a){return Un(s,a)}var rm=null,vu=null,Pv=!1,im=!1,Ov=!1,$o=0;function Di(s){s!==vu&&s.next===null&&(vu===null?rm=vu=s:vu=vu.next=s),im=!0,Pv||(Pv=!0,Z2())}function Lh(s,a){if(!Ov&&im){Ov=!0;do for(var l=!1,c=rm;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var I=c.suspendedLanes,N=c.pingedLanes;y=(1<<31-tn(42|s)+1)-1,y&=m&~(I&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,LA(c,y))}else y=Ye,y=kl(c,c===Et?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||go(c,y)||(l=!0,LA(c,y));c=c.next}while(l);Ov=!1}}function J2(){kA()}function kA(){im=Pv=!1;var s=0;$o!==0&&(oM()&&(s=$o),$o=0);for(var a=rr(),l=null,c=rm;c!==null;){var m=c.next,y=MA(c,a);y===0?(c.next=null,l===null?rm=m:l.next=m,m===null&&(vu=l)):(l=c,(s!==0||(y&3)!==0)&&(im=!0)),c=m}Lh(s)}function MA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var I=31-tn(y),N=1<<I,j=m[I];j===-1?((N&l)===0||(N&c)!==0)&&(m[I]=Hc(N,a)):j<=a&&(s.expiredLanes|=N),y&=~N}if(a=Et,l=Ye,l=kl(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(ot===2||ot===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Zr(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||go(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Zr(c),Ml(l)){case 2:case 8:l=ns;break;case 32:l=Fe;break;case 268435456:l=Tt;break;default:l=Fe}return c=VA.bind(null,s),l=Un(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Zr(c),s.callbackPriority=2,s.callbackNode=null,2}function VA(s,a){if(Dn!==0&&Dn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(nm()&&s.callbackNode!==l)return null;var c=Ye;return c=kl(s,s===Et?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(_A(s,c,a),MA(s,rr()),s.callbackNode!=null&&s.callbackNode===l?VA.bind(null,s):null)}function LA(s,a){if(nm())return null;_A(s,a,!0)}function Z2(){uM(function(){(at&6)!==0?Un(ho,J2):kA()})}function Dv(){return $o===0&&($o=$c()),$o}function UA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:zl(""+s)}function BA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function eM(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=UA((m[nn]||null).action),I=c.submitter;I&&(a=(a=I[nn]||null)?UA(a.formAction):I.getAttribute("formAction"),a!==null&&(y=a,I=null));var N=new jl("action","action",null,c,m);s.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if($o!==0){var j=I?BA(m,I):new FormData(m);J_(l,{pending:!0,data:j,method:m.method,action:y},null,j)}}else typeof y=="function"&&(N.preventDefault(),j=I?BA(m,I):new FormData(m),J_(l,{pending:!0,data:j,method:m.method,action:y},y,j))},currentTarget:m}]})}}for(var Nv=0;Nv<y_.length;Nv++){var kv=y_[Nv],tM=kv.toLowerCase(),nM=kv[0].toUpperCase()+kv.slice(1);ii(tM,"on"+nM)}ii(_T,"onAnimationEnd"),ii(vT,"onAnimationIteration"),ii(ET,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(v2,"onTransitionRun"),ii(E2,"onTransitionStart"),ii(b2,"onTransitionCancel"),ii(bT,"onTransitionEnd"),as("onMouseEnter",["mouseout","mouseover"]),as("onMouseLeave",["mouseout","mouseover"]),as("onPointerEnter",["pointerout","pointerover"]),as("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uh));function FA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var I=c.length-1;0<=I;I--){var N=c[I],j=N.instance,ee=N.currentTarget;if(N=N.listener,j!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=ee;try{y(m)}catch(ce){$p(ce)}m.currentTarget=null,y=j}else for(I=0;I<c.length;I++){if(N=c[I],j=N.instance,ee=N.currentTarget,N=N.listener,j!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=ee;try{y(m)}catch(ce){$p(ce)}m.currentTarget=null,y=j}}}}function qe(s,a){var l=a[Qc];l===void 0&&(l=a[Qc]=new Set);var c=s+"__bubble";l.has(c)||(zA(a,s,2,!1),l.add(c))}function Mv(s,a,l){var c=0;a&&(c|=4),zA(l,s,c,a)}var sm="_reactListening"+Math.random().toString(36).slice(2);function Vv(s){if(!s[sm]){s[sm]=!0,Yc.forEach(function(l){l!=="selectionchange"&&(rM.has(l)||Mv(l,!1,s),Mv(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[sm]||(a[sm]=!0,Mv("selectionchange",!1,a))}}function zA(s,a,l,c){switch(hI(a)){case 2:var m=PM;break;case 8:m=OM;break;default:m=Yv}l=m.bind(null,a,l,s),m=void 0,!Ur||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Lv(s,a,l,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var I=c.tag;if(I===3||I===4){var N=c.stateNode.containerInfo;if(N===m)break;if(I===4)for(I=c.return;I!==null;){var j=I.tag;if((j===3||j===4)&&I.stateNode.containerInfo===m)return;I=I.return}for(;N!==null;){if(I=ss(N),I===null)return;if(j=I.tag,j===5||j===6||j===26||j===27){c=y=I;continue e}N=N.parentNode}}c=c.return}op(function(){var ee=y,ce=Lr(l),de=[];e:{var te=wT.get(s);if(te!==void 0){var ne=jl,Ne=s;switch(s){case"keypress":if(Ti(l)===0)break e;case"keydown":case"keyup":ne=Wl;break;case"focusin":Ne="focus",ne=$l;break;case"focusout":Ne="blur",ne=$l;break;case"beforeblur":case"afterblur":ne=$l;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Br;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=u_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=mp;break;case _T:case vT:case ET:ne=Gl;break;case bT:ne=yp;break;case"scroll":case"scrollend":ne=lp;break;case"wheel":ne=Ql;break;case"copy":case"cut":case"paste":ne=Kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=lh;break;case"toggle":case"beforetoggle":ne=vp}var Pe=(a&4)!==0,ft=!Pe&&(s==="scroll"||s==="scrollend"),Q=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var G=ee,Z;G!==null;){var he=G;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Q===null||(he=So(G,Q),he!=null&&Pe.push(Bh(G,he,Z))),ft)break;G=G.return}0<Pe.length&&(te=new ne(te,Ne,null,l,ce),de.push({event:te,listeners:Pe}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&l!==us&&(Ne=l.relatedTarget||l.fromElement)&&(ss(Ne)||Ne[Mr]))break e;if((ne||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ne=l.relatedTarget||l.toElement,ne=ee,Ne=Ne?ss(Ne):null,Ne!==null&&(ft=o(Ne),Pe=Ne.tag,Ne!==ft||Pe!==5&&Pe!==27&&Pe!==6)&&(Ne=null)):(ne=null,Ne=ee),ne!==Ne)){if(Pe=Br,he="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=lh,he="onPointerLeave",Q="onPointerEnter",G="pointer"),ft=ne==null?te:vi(ne),Z=Ne==null?te:vi(Ne),te=new Pe(he,G+"leave",ne,l,ce),te.target=ft,te.relatedTarget=Z,he=null,ss(ce)===ee&&(Pe=new Pe(Q,G+"enter",Ne,l,ce),Pe.target=Z,Pe.relatedTarget=ft,he=Pe),ft=he,ne&&Ne)t:{for(Pe=ne,Q=Ne,G=0,Z=Pe;Z;Z=Eu(Z))G++;for(Z=0,he=Q;he;he=Eu(he))Z++;for(;0<G-Z;)Pe=Eu(Pe),G--;for(;0<Z-G;)Q=Eu(Q),Z--;for(;G--;){if(Pe===Q||Q!==null&&Pe===Q.alternate)break t;Pe=Eu(Pe),Q=Eu(Q)}Pe=null}else Pe=null;ne!==null&&jA(de,te,ne,Pe,!1),Ne!==null&&ft!==null&&jA(de,ft,Ne,Pe,!0)}}e:{if(te=ee?vi(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Se=oT;else if(mn(te))if(lT)Se=g2;else{Se=p2;var ze=f2}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&th(ee.elementType)&&(Se=oT):Se=m2;if(Se&&(Se=Se(s,ee))){ps(de,Se,l,ce);break e}ze&&ze(s,te,ee),s==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&na(te,"number",te.value)}switch(ze=ee?vi(ee):window,s){case"focusin":(mn(ze)||ze.contentEditable==="true")&&(Yl=ze,p_=ee,hh=null);break;case"focusout":hh=p_=Yl=null;break;case"mousedown":m_=!0;break;case"contextmenu":case"mouseup":case"dragend":m_=!1,gT(de,l,ce);break;case"selectionchange":if(_2)break;case"keydown":case"keyup":gT(de,l,ce)}var Re;if(Ii)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else We?ae(s,l)&&(Oe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(S&&l.locale!=="ko"&&(We||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&We&&(Re=rh()):(wi=ce,ra="value"in wi?wi.value:wi.textContent,We=!0)),ze=am(ee,Oe),0<ze.length&&(Oe=new ah(Oe,s,null,l,ce),de.push({event:Oe,listeners:ze}),Re?Oe.data=Re:(Re=_e(l),Re!==null&&(Oe.data=Re)))),(Re=E?pn(s,l):Qe(s,l))&&(Oe=am(ee,"onBeforeInput"),0<Oe.length&&(ze=new ah("onBeforeInput","beforeinput",null,l,ce),de.push({event:ze,listeners:Oe}),ze.data=Re)),eM(de,s,ee,l,ce)}FA(de,a)})}function Bh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function am(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=So(s,l),m!=null&&c.unshift(Bh(s,m,y)),m=So(s,a),m!=null&&c.push(Bh(s,m,y))),s.tag===3)return c;s=s.return}return[]}function Eu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function jA(s,a,l,c,m){for(var y=a._reactName,I=[];l!==null&&l!==c;){var N=l,j=N.alternate,ee=N.stateNode;if(N=N.tag,j!==null&&j===c)break;N!==5&&N!==26&&N!==27||ee===null||(j=ee,m?(ee=So(l,y),ee!=null&&I.unshift(Bh(l,ee,j))):m||(ee=So(l,y),ee!=null&&I.push(Bh(l,ee,j)))),l=l.return}I.length!==0&&s.push({event:a,listeners:I})}var iM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function qA(s){return(typeof s=="string"?s:""+s).replace(iM,`
`).replace(sM,"")}function HA(s,a){return a=qA(a),qA(s)===a}function om(){}function dt(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Vr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Vr(s,""+c);break;case"className":Ei(s,"class",c);break;case"tabIndex":Ei(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(s,l,c);break;case"style":eh(s,c,y);break;case"data":if(a!=="object"){Ei(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=zl(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&dt(s,a,"name",m.name,m,null),dt(s,a,"formEncType",m.formEncType,m,null),dt(s,a,"formMethod",m.formMethod,m,null),dt(s,a,"formTarget",m.formTarget,m,null)):(dt(s,a,"encType",m.encType,m,null),dt(s,a,"method",m.method,m,null),dt(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=zl(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=om);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=zl(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":qe("beforetoggle",s),qe("toggle",s),ta(s,"popover",c);break;case"xlinkActuate":xn(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":xn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":xn(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":xn(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":xn(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":xn(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":xn(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":xn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":xn(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ta(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=o_.get(l)||l,ta(s,l,c))}}function Uv(s,a,l,c,m,y){switch(l){case"style":eh(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Vr(s,c):(typeof c=="number"||typeof c=="bigint")&&Vr(s,""+c);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"onClick":c!=null&&(s.onclick=om);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[nn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):ta(s,l,c)}}}function Nn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var I=l[y];if(I!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(s,a,y,I,l,null)}}m&&dt(s,a,"srcSet",l.srcSet,l,null),c&&dt(s,a,"src",l.src,l,null);return;case"input":qe("invalid",s);var N=y=I=m=null,j=null,ee=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":I=ce;break;case"checked":j=ce;break;case"defaultChecked":ee=ce;break;case"value":y=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:dt(s,a,c,ce,l,null)}}bo(s,y,N,j,ee,I,m,!1),Fl(s);return;case"select":qe("invalid",s),c=I=y=null;for(m in l)if(l.hasOwnProperty(m)&&(N=l[m],N!=null))switch(m){case"value":y=N;break;case"defaultValue":I=N;break;case"multiple":c=N;default:dt(s,a,m,N,l,null)}a=y,l=I,s.multiple=!!c,a!=null?ls(s,!!c,a,!1):l!=null&&ls(s,!!c,l,!0);return;case"textarea":qe("invalid",s),y=m=c=null;for(I in l)if(l.hasOwnProperty(I)&&(N=l[I],N!=null))switch(I){case"value":c=N;break;case"defaultValue":m=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:dt(s,a,I,N,l,null)}wo(s,c,m,y),Fl(s);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(c=l[j],c!=null))switch(j){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:dt(s,a,j,c,l,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(c=0;c<Uh.length;c++)qe(Uh[c],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(c=l[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(s,a,ee,c,l,null)}return;default:if(th(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Uv(s,a,ce,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&dt(s,a,N,c,l,null))}function aM(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,I=null,N=null,j=null,ee=null,ce=null;for(ne in l){var de=l[ne];if(l.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":j=de;default:c.hasOwnProperty(ne)||dt(s,a,ne,null,c,de)}}for(var te in c){var ne=c[te];if(de=l[te],c.hasOwnProperty(te)&&(ne!=null||de!=null))switch(te){case"type":y=ne;break;case"name":m=ne;break;case"checked":ee=ne;break;case"defaultChecked":ce=ne;break;case"value":I=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==de&&dt(s,a,te,ne,c,de)}}mr(s,I,N,j,ee,ce,y,m);return;case"select":ne=I=N=te=null;for(y in l)if(j=l[y],l.hasOwnProperty(y)&&j!=null)switch(y){case"value":break;case"multiple":ne=j;default:c.hasOwnProperty(y)||dt(s,a,y,null,c,j)}for(m in c)if(y=c[m],j=l[m],c.hasOwnProperty(m)&&(y!=null||j!=null))switch(m){case"value":te=y;break;case"defaultValue":N=y;break;case"multiple":I=y;default:y!==j&&dt(s,a,m,y,c,j)}a=N,l=I,c=ne,te!=null?ls(s,!!l,te,!1):!!c!=!!l&&(a!=null?ls(s,!!l,a,!0):ls(s,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(N in l)if(m=l[N],l.hasOwnProperty(N)&&m!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:dt(s,a,N,null,c,m)}for(I in c)if(m=c[I],y=l[I],c.hasOwnProperty(I)&&(m!=null||y!=null))switch(I){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&dt(s,a,I,m,c,y)}ct(s,te,ne);return;case"option":for(var Ne in l)if(te=l[Ne],l.hasOwnProperty(Ne)&&te!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":s.selected=!1;break;default:dt(s,a,Ne,null,c,te)}for(j in c)if(te=c[j],ne=l[j],c.hasOwnProperty(j)&&te!==ne&&(te!=null||ne!=null))switch(j){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:dt(s,a,j,te,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in l)te=l[Pe],l.hasOwnProperty(Pe)&&te!=null&&!c.hasOwnProperty(Pe)&&dt(s,a,Pe,null,c,te);for(ee in c)if(te=c[ee],ne=l[ee],c.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:dt(s,a,ee,te,c,ne)}return;default:if(th(a)){for(var ft in l)te=l[ft],l.hasOwnProperty(ft)&&te!==void 0&&!c.hasOwnProperty(ft)&&Uv(s,a,ft,void 0,c,te);for(ce in c)te=c[ce],ne=l[ce],!c.hasOwnProperty(ce)||te===ne||te===void 0&&ne===void 0||Uv(s,a,ce,te,c,ne);return}}for(var Q in l)te=l[Q],l.hasOwnProperty(Q)&&te!=null&&!c.hasOwnProperty(Q)&&dt(s,a,Q,null,c,te);for(de in c)te=c[de],ne=l[de],!c.hasOwnProperty(de)||te===ne||te==null&&ne==null||dt(s,a,de,te,c,ne)}var Bv=null,Fv=null;function lm(s){return s.nodeType===9?s:s.ownerDocument}function $A(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function zv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var jv=null;function oM(){var s=window.event;return s&&s.type==="popstate"?s===jv?!1:(jv=s,!0):(jv=null,!1)}var KA=typeof setTimeout=="function"?setTimeout:void 0,lM=typeof clearTimeout=="function"?clearTimeout:void 0,WA=typeof Promise=="function"?Promise:void 0,uM=typeof queueMicrotask=="function"?queueMicrotask:typeof WA<"u"?function(s){return WA.resolve(null).then(s).catch(cM)}:KA;function cM(s){setTimeout(function(){throw s})}function va(s){return s==="head"}function QA(s,a){var l=a,c=0,m=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var I=s.ownerDocument;if(l&1&&Fh(I.documentElement),l&2&&Fh(I.body),l&4)for(l=I.head,Fh(l),I=l.firstChild;I;){var N=I.nextSibling,j=I.nodeName;I[yo]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&I.rel.toLowerCase()==="stylesheet"||l.removeChild(I),I=N}}if(m===0){s.removeChild(y),Wh(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Wh(a)}function qv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qv(l),ea(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function hM(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[yo])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ai(s.nextSibling),s===null)break}return null}function dM(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ai(s.nextSibling),s===null))return null;return s}function Hv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function fM(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ai(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var $v=null;function YA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function XA(s,a,l){switch(a=lm(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Fh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ea(s)}var Gr=new Map,JA=new Set;function um(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Rs=J.d;J.d={f:pM,r:mM,D:gM,C:yM,L:_M,m:vM,X:bM,S:EM,M:wM};function pM(){var s=Rs.f(),a=em();return s||a}function mM(s){var a=_i(s);a!==null&&a.tag===5&&a.type==="form"?_S(a):Rs.r(s)}var bu=typeof document>"u"?null:document;function ZA(s,a,l){var c=bu;if(c&&typeof a=="string"&&a){var m=rn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),JA.has(m)||(JA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Nn(a,"link",s),Wt(a),c.head.appendChild(a)))}}function gM(s){Rs.D(s),ZA("dns-prefetch",s,null)}function yM(s,a){Rs.C(s,a),ZA("preconnect",s,a)}function _M(s,a,l){Rs.L(s,a,l);var c=bu;if(c&&s&&a){var m='link[rel="preload"][as="'+rn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+rn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+rn(l.imageSizes)+'"]')):m+='[href="'+rn(s)+'"]';var y=m;switch(a){case"style":y=wu(s);break;case"script":y=Tu(s)}Gr.has(y)||(s=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Gr.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(zh(y))||a==="script"&&c.querySelector(jh(y))||(a=c.createElement("link"),Nn(a,"link",s),Wt(a),c.head.appendChild(a)))}}function vM(s,a){Rs.m(s,a);var l=bu;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+rn(c)+'"][href="'+rn(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Tu(s)}if(!Gr.has(y)&&(s=g({rel:"modulepreload",href:s},a),Gr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(jh(y)))return}c=l.createElement("link"),Nn(c,"link",s),Wt(c),l.head.appendChild(c)}}}function EM(s,a,l){Rs.S(s,a,l);var c=bu;if(c&&s){var m=Wn(c).hoistableStyles,y=wu(s);a=a||"default";var I=m.get(y);if(!I){var N={loading:0,preload:null};if(I=c.querySelector(zh(y)))N.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Gr.get(y))&&Gv(s,l);var j=I=c.createElement("link");Wt(j),Nn(j,"link",s),j._p=new Promise(function(ee,ce){j.onload=ee,j.onerror=ce}),j.addEventListener("load",function(){N.loading|=1}),j.addEventListener("error",function(){N.loading|=2}),N.loading|=4,cm(I,a,c)}I={type:"stylesheet",instance:I,count:1,state:N},m.set(y,I)}}}function bM(s,a){Rs.X(s,a);var l=bu;if(l&&s){var c=Wn(l).hoistableScripts,m=Tu(s),y=c.get(m);y||(y=l.querySelector(jh(m)),y||(s=g({src:s,async:!0},a),(a=Gr.get(m))&&Kv(s,a),y=l.createElement("script"),Wt(y),Nn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function wM(s,a){Rs.M(s,a);var l=bu;if(l&&s){var c=Wn(l).hoistableScripts,m=Tu(s),y=c.get(m);y||(y=l.querySelector(jh(m)),y||(s=g({src:s,async:!0,type:"module"},a),(a=Gr.get(m))&&Kv(s,a),y=l.createElement("script"),Wt(y),Nn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function eI(s,a,l,c){var m=(m=xe.current)?um(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=wu(l.href),l=Wn(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=wu(l.href);var y=Wn(m).hoistableStyles,I=y.get(s);if(I||(m=m.ownerDocument||m,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,I),(y=m.querySelector(zh(s)))&&!y._p&&(I.instance=y,I.state.loading=5),Gr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gr.set(s,l),y||TM(m,s,l,I.state))),a&&c===null)throw Error(r(528,""));return I}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Tu(l),l=Wn(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function wu(s){return'href="'+rn(s)+'"'}function zh(s){return'link[rel="stylesheet"]['+s+"]"}function tI(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function TM(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Nn(a,"link",l),Wt(a),s.head.appendChild(a))}function Tu(s){return'[src="'+rn(s)+'"]'}function jh(s){return"script[async]"+s}function nI(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+rn(l.href)+'"]');if(c)return a.instance=c,Wt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Wt(c),Nn(c,"style",m),cm(c,l.precedence,s),a.instance=c;case"stylesheet":m=wu(l.href);var y=s.querySelector(zh(m));if(y)return a.state.loading|=4,a.instance=y,Wt(y),y;c=tI(l),(m=Gr.get(m))&&Gv(c,m),y=(s.ownerDocument||s).createElement("link"),Wt(y);var I=y;return I._p=new Promise(function(N,j){I.onload=N,I.onerror=j}),Nn(y,"link",c),a.state.loading|=4,cm(y,l.precedence,s),a.instance=y;case"script":return y=Tu(l.src),(m=s.querySelector(jh(y)))?(a.instance=m,Wt(m),m):(c=l,(m=Gr.get(y))&&(c=g({},l),Kv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Wt(m),Nn(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,cm(c,l.precedence,s));return a.instance}function cm(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,I=0;I<c.length;I++){var N=c[I];if(N.dataset.precedence===a)y=N;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Gv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Kv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var hm=null;function rI(s,a,l){if(hm===null){var c=new Map,m=hm=new Map;m.set(l,c)}else m=hm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[yo]||y[fn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var I=y.getAttribute(a)||"";I=s+I;var N=c.get(I);N?N.push(y):c.set(I,[y])}}return c}function iI(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function SM(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function sI(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var qh=null;function AM(){}function IM(s,a,l){if(qh===null)throw Error(r(475));var c=qh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=wu(l.href),y=s.querySelector(zh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=dm.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,Wt(y);return}y=s.ownerDocument||s,l=tI(l),(m=Gr.get(m))&&Gv(l,m),y=y.createElement("link"),Wt(y);var I=y;I._p=new Promise(function(N,j){I.onload=N,I.onerror=j}),Nn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=dm.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function RM(){if(qh===null)throw Error(r(475));var s=qh;return s.stylesheets&&s.count===0&&Wv(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Wv(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function dm(){if(this.count--,this.count===0){if(this.stylesheets)Wv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var fm=null;function Wv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,fm=new Map,a.forEach(CM,s),fm=null,dm.call(s))}function CM(s,a){if(!(a.state.loading&4)){var l=fm.get(s);if(l)var c=l.get(null);else{l=new Map,fm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var I=m[y];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),c=I)}c&&l.set(null,c)}m=a.instance,I=m.getAttribute("data-precedence"),y=l.get(I)||c,y===c&&l.set(null,m),l.set(I,m),this.count++,c=dm.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Hh={$$typeof:V,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function xM(s,a,l,c,m,y,I,N){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.hiddenUpdates=rs(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function aI(s,a,l,c,m,y,I,N,j,ee,ce,de){return s=new xM(s,a,l,I,N,j,ee,de),a=1,y===!0&&(a|=24),y=yr(3,null,null,a),s.current=y,y.stateNode=s,a=x_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},N_(y),s}function oI(s){return s?(s=eu,s):eu}function lI(s,a,l,c,m,y){m=oI(m),c.context===null?c.context=m:c.pendingContext=m,c=aa(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=oa(s,c,a),l!==null&&(wr(l,s,a),Eh(l,s,a))}function uI(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Qv(s,a){uI(s,a),(s=s.alternate)&&uI(s,a)}function cI(s){if(s.tag===13){var a=Zl(s,67108864);a!==null&&wr(a,s,67108864),Qv(s,67108864)}}var pm=!0;function PM(s,a,l,c){var m=$.T;$.T=null;var y=J.p;try{J.p=2,Yv(s,a,l,c)}finally{J.p=y,$.T=m}}function OM(s,a,l,c){var m=$.T;$.T=null;var y=J.p;try{J.p=8,Yv(s,a,l,c)}finally{J.p=y,$.T=m}}function Yv(s,a,l,c){if(pm){var m=Xv(c);if(m===null)Lv(s,a,c,mm,l),dI(s,c);else if(NM(m,s,a,l,c))c.stopPropagation();else if(dI(s,c),a&4&&-1<DM.indexOf(s)){for(;m!==null;){var y=_i(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var I=ti(y.pendingLanes);if(I!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;I;){var j=1<<31-tn(I);N.entanglements[1]|=j,I&=~j}Di(y),(at&6)===0&&(Jp=rr()+500,Lh(0))}}break;case 13:N=Zl(y,2),N!==null&&wr(N,y,2),em(),Qv(y,2)}if(y=Xv(c),y===null&&Lv(s,a,c,mm,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Lv(s,a,c,null,l)}}function Xv(s){return s=Lr(s),Jv(s)}var mm=null;function Jv(s){if(mm=null,s=ss(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return mm=s,null}function hI(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qc()){case ho:return 2;case ns:return 8;case Fe:case vt:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var Zv=!1,Ea=null,ba=null,wa=null,$h=new Map,Gh=new Map,Ta=[],DM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dI(s,a){switch(s){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":$h.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(a.pointerId)}}function Kh(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=_i(a),a!==null&&cI(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function NM(s,a,l,c,m){switch(a){case"focusin":return Ea=Kh(Ea,s,a,l,c,m),!0;case"dragenter":return ba=Kh(ba,s,a,l,c,m),!0;case"mouseover":return wa=Kh(wa,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return $h.set(y,Kh($h.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Gh.set(y,Kh(Gh.get(y)||null,s,a,l,c,m)),!0}return!1}function fI(s){var a=ss(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,ep(s.priority,function(){if(l.tag===13){var c=br();c=Xs(c);var m=Zl(l,c);m!==null&&wr(m,l,c),Qv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Xv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);us=c,l.target.dispatchEvent(c),us=null}else return a=_i(l),a!==null&&cI(a),s.blockedOn=l,!1;a.shift()}return!0}function pI(s,a,l){gm(s)&&l.delete(a)}function kM(){Zv=!1,Ea!==null&&gm(Ea)&&(Ea=null),ba!==null&&gm(ba)&&(ba=null),wa!==null&&gm(wa)&&(wa=null),$h.forEach(pI),Gh.forEach(pI)}function ym(s,a){s.blockedOn===a&&(s.blockedOn=null,Zv||(Zv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kM)))}var _m=null;function mI(s){_m!==s&&(_m=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_m===s&&(_m=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Jv(c||l)===null)continue;break}var y=_i(l);y!==null&&(s.splice(a,3),a-=3,J_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Wh(s){function a(j){return ym(j,s)}Ea!==null&&ym(Ea,s),ba!==null&&ym(ba,s),wa!==null&&ym(wa,s),$h.forEach(a),Gh.forEach(a);for(var l=0;l<Ta.length;l++){var c=Ta[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Ta.length&&(l=Ta[0],l.blockedOn===null);)fI(l),l.blockedOn===null&&Ta.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],I=m[nn]||null;if(typeof y=="function")I||mI(l);else if(I){var N=null;if(y&&y.hasAttribute("formAction")){if(m=y,I=y[nn]||null)N=I.formAction;else if(Jv(m)!==null)continue}else N=I.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),mI(l)}}}function e0(s){this._internalRoot=s}vm.prototype.render=e0.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=br();lI(l,c,s,a,null,null)},vm.prototype.unmount=e0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;lI(s.current,2,null,s,null,null),em(),a[Mr]=null}};function vm(s){this._internalRoot=s}vm.prototype.unstable_scheduleHydration=function(s){if(s){var a=Js();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Ta.length&&a!==0&&a<Ta[l].priority;l++);Ta.splice(l,0,s),l===0&&fI(s)}};var gI=e.version;if(gI!=="19.1.0")throw Error(r(527,gI,"19.1.0"));J.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var MM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Em.isDisabled&&Em.supportsFiber)try{st=Em.inject(MM),Ue=Em}catch{}}return Yh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=DS,y=NS,I=kS,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=aI(s,1,!1,null,null,l,c,m,y,I,N,null),s[Mr]=a.current,Vv(s),new e0(a)},Yh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=DS,I=NS,N=kS,j=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),a=aI(s,1,!0,a,l??null,c,m,y,I,N,j,ee),a.context=oI(null),l=a.current,c=br(),c=Xs(c),m=aa(c),m.callback=null,oa(l,m,c),l=c,a.current.lanes=l,is(a,l),Di(a),s[Mr]=a.current,Vv(s),new vm(a)},Yh.version="19.1.0",Yh}var II;function GM(){if(II)return n0.exports;II=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),n0.exports=$M(),n0.exports}var KM=GM(),W=to();const Ke=ZE(W),$0=LM({__proto__:null,default:Ke},[W]);var Xh={},RI;function WM(){if(RI)return Xh;RI=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.parse=u,Xh.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const b=new o,A=v.length;if(A<2)return b;const x=(T==null?void 0:T.decode)||g;let U=0;do{const L=v.indexOf("=",U);if(L===-1)break;const V=v.indexOf(";",U),H=V===-1?A:V;if(L>H){U=v.lastIndexOf(";",L-1)+1;continue}const F=h(v,U,L),K=f(v,L,F),M=v.slice(F,K);if(b[M]===void 0){let R=h(v,L+1,H),P=f(v,H,R);const w=x(v.slice(R,P));b[M]=w}U=H+1}while(U<A);return b}function h(v,T,b){do{const A=v.charCodeAt(T);if(A!==32&&A!==9)return T}while(++T<b);return b}function f(v,T,b){for(;T>b;){const A=v.charCodeAt(--T);if(A!==32&&A!==9)return T+1}return b}function d(v,T,b){const A=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const x=A(T);if(!e.test(x))throw new TypeError(`argument val is invalid: ${T}`);let U=v+"="+x;if(!b)return U;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);U+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);U+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);U+="; Path="+b.path}if(b.expires){if(!_(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);U+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(U+="; HttpOnly"),b.secure&&(U+="; Secure"),b.partitioned&&(U+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return U}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Xh}WM();var CI="popstate";function QM(n={}){function e(i,o){let{pathname:u="/",search:h="",hash:f=""}=Il(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),G0("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let u=i.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof o=="string"?o:Gd(o))}function r(i,o){di(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return XM(e,t,r,n)}function Mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function di(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YM(){return Math.random().toString(36).substring(2,10)}function xI(n,e){return{usr:n.state,key:n.key,idx:e}}function G0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Il(e):e,state:t,key:e&&e.key||r||YM()}}function Gd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Il(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function XM(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let x=g(),U=x==null?null:x-d;d=x,f&&f({action:h,location:A.location,delta:U})}function v(x,U){h="PUSH";let L=G0(A.location,x,U);t&&t(L,x),d=g()+1;let V=xI(L,d),H=A.createHref(L);try{u.pushState(V,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(H)}o&&f&&f({action:h,location:A.location,delta:1})}function T(x,U){h="REPLACE";let L=G0(A.location,x,U);t&&t(L,x),d=g();let V=xI(L,d),H=A.createHref(L);u.replaceState(V,"",H),o&&f&&f({action:h,location:A.location,delta:0})}function b(x){return JM(x)}let A={get action(){return h},get location(){return n(i,u)},listen(x){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(CI,_),f=x,()=>{i.removeEventListener(CI,_),f=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let U=b(x);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:v,replace:T,go(x){return u.go(x)}};return A}function JM(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Gd(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function sx(n,e,t="/"){return ZM(n,e,t,!1)}function ZM(n,e,t,r){let i=typeof e=="string"?Il(e):e,o=Vs(i.pathname||"/",t);if(o==null)return null;let u=ax(n);eV(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=hV(o);h=uV(u[f],d,r)}return h}function ax(n,e=[],t=[],r=""){let i=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(Mt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=ks([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(Mt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ax(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:oV(d,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let f of ox(o.path))i(o,u,f)}),e}function ox(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=ox(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),i&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function eV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var tV=/^:[\w-]+$/,nV=3,rV=2,iV=1,sV=10,aV=-2,PI=n=>n==="*";function oV(n,e){let t=n.split("/"),r=t.length;return t.some(PI)&&(r+=aV),e&&(r+=rV),t.filter(i=>!PI(i)).reduce((i,o)=>i+(tV.test(o)?nV:o===""?iV:sV),r)}function lV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function uV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],d=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=hg({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),v=f.route;if(!_&&d&&t&&!r[r.length-1].route.index&&(_=hg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:ks([o,_.pathname]),pathnameBase:mV(ks([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=ks([o,_.pathnameBase]))}return u}function hg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=cV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:_},v)=>{if(g==="*"){let b=h[v]||"";u=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?d[g]=void 0:d[g]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function cV(n,e=!1,t=!0){di(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return di(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Vs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function dV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Il(n):n;return{pathname:t?t.startsWith("/")?t:fV(t,e):e,search:gV(r),hash:yV(i)}}function fV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function o0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lx(n){let e=pV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ux(n,e,t,r=!1){let i;typeof n=="string"?i=Il(n):(i={...n},Mt(!i.pathname||!i.pathname.includes("?"),o0("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),o0("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),o0("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let f=dV(i,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var ks=n=>n.join("/").replace(/\/\/+/g,"/"),mV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _V(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var cx=["POST","PUT","PATCH","DELETE"];new Set(cx);var vV=["GET",...cx];new Set(vV);var Sc=W.createContext(null);Sc.displayName="DataRouter";var Gg=W.createContext(null);Gg.displayName="DataRouterState";var hx=W.createContext({isTransitioning:!1});hx.displayName="ViewTransition";var EV=W.createContext(new Map);EV.displayName="Fetchers";var bV=W.createContext(null);bV.displayName="Await";var es=W.createContext(null);es.displayName="Navigation";var bf=W.createContext(null);bf.displayName="Location";var ts=W.createContext({outlet:null,matches:[],isDataRoute:!1});ts.displayName="Route";var eb=W.createContext(null);eb.displayName="RouteError";function wV(n,{relative:e}={}){Mt(wf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(es),{hash:i,pathname:o,search:u}=Tf(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:ks([t,o])),r.createHref({pathname:h,search:u,hash:i})}function wf(){return W.useContext(bf)!=null}function no(){return Mt(wf(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(bf).location}var dx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fx(n){W.useContext(es).static||W.useLayoutEffect(n)}function Kg(){let{isDataRoute:n}=W.useContext(ts);return n?MV():TV()}function TV(){Mt(wf(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Sc),{basename:e,navigator:t}=W.useContext(es),{matches:r}=W.useContext(ts),{pathname:i}=no(),o=JSON.stringify(lx(r)),u=W.useRef(!1);return fx(()=>{u.current=!0}),W.useCallback((f,d={})=>{if(di(u.current,dx),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=ux(f,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ks([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,i,n])}W.createContext(null);function px(){let{matches:n}=W.useContext(ts),e=n[n.length-1];return e?e.params:{}}function Tf(n,{relative:e}={}){let{matches:t}=W.useContext(ts),{pathname:r}=no(),i=JSON.stringify(lx(t));return W.useMemo(()=>ux(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function SV(n,e){return mx(n,e)}function mx(n,e,t,r){var L;Mt(wf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(es),{matches:u}=W.useContext(ts),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let V=_&&_.path||"";gx(d,!_||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let v=no(),T;if(e){let V=typeof e=="string"?Il(e):e;Mt(g==="/"||((L=V.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=v;let b=T.pathname||"/",A=b;if(g!=="/"){let V=g.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(V.length).join("/")}let x=!o&&t&&t.matches&&t.matches.length>0?t.matches:sx(n,{pathname:A});di(_||x!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),di(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=xV(x&&x.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:ks([g,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:ks([g,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,r);return e&&U?W.createElement(bf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},U):U}function AV(){let n=kV(),e=_V(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,u)}var IV=W.createElement(AV,null),RV=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(ts.Provider,{value:this.props.routeContext},W.createElement(eb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CV({routeContext:n,match:e,children:t}){let r=W.useContext(Sc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(ts.Provider,{value:n},t)}function xV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let f=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Mt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:_}=t,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((f,d,g)=>{let _,v=!1,T=null,b=null;t&&(_=o&&d.route.id?o[d.route.id]:void 0,T=d.route.errorElement||IV,u&&(h<0&&g===0?(gx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):h===g&&(v=!0,b=d.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,g+1)),x=()=>{let U;return _?U=T:v?U=b:d.route.Component?U=W.createElement(d.route.Component,null):d.route.element?U=d.route.element:U=f,W.createElement(CV,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:U})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?W.createElement(RV,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:x(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):x()},null)}function tb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PV(n){let e=W.useContext(Sc);return Mt(e,tb(n)),e}function OV(n){let e=W.useContext(Gg);return Mt(e,tb(n)),e}function DV(n){let e=W.useContext(ts);return Mt(e,tb(n)),e}function nb(n){let e=DV(n),t=e.matches[e.matches.length-1];return Mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function NV(){return nb("useRouteId")}function kV(){var r;let n=W.useContext(eb),e=OV("useRouteError"),t=nb("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function MV(){let{router:n}=PV("useNavigate"),e=nb("useNavigate"),t=W.useRef(!1);return fx(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{di(t.current,dx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var OI={};function gx(n,e,t){!e&&!OI[n]&&(OI[n]=!0,di(!1,t))}W.memo(VV);function VV({routes:n,future:e,state:t}){return mx(n,void 0,t,e)}function Pa(n){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Mt(!wf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=Il(t));let{pathname:f="/",search:d="",hash:g="",state:_=null,key:v="default"}=t,T=W.useMemo(()=>{let b=Vs(f,u);return b==null?null:{location:{pathname:b,search:d,hash:g,state:_,key:v},navigationType:r}},[u,f,d,g,_,v,r]);return di(T!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(es.Provider,{value:h},W.createElement(bf.Provider,{children:e,value:T}))}function UV({children:n,location:e}){return SV(K0(n),e)}function K0(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,K0(r.props.children,o));return}Mt(r.type===Pa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=K0(r.props.children,o)),t.push(u)}),t}var Bm="get",Fm="application/x-www-form-urlencoded";function Wg(n){return n!=null&&typeof n.tagName=="string"}function BV(n){return Wg(n)&&n.tagName.toLowerCase()==="button"}function FV(n){return Wg(n)&&n.tagName.toLowerCase()==="form"}function zV(n){return Wg(n)&&n.tagName.toLowerCase()==="input"}function jV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function qV(n,e){return n.button===0&&(!e||e==="_self")&&!jV(n)}var bm=null;function HV(){if(bm===null)try{new FormData(document.createElement("form"),0),bm=!1}catch{bm=!0}return bm}var $V=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function l0(n){return n!=null&&!$V.has(n)?(di(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fm}"`),null):n}function GV(n,e){let t,r,i,o,u;if(FV(n)){let h=n.getAttribute("action");r=h?Vs(h,e):null,t=n.getAttribute("method")||Bm,i=l0(n.getAttribute("enctype"))||Fm,o=new FormData(n)}else if(BV(n)||zV(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Vs(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Bm,i=l0(n.getAttribute("formenctype"))||l0(h.getAttribute("enctype"))||Fm,o=new FormData(h,n),!HV()){let{name:d,type:g,value:_}=n;if(g==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,_)}}else{if(Wg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bm,r=null,i=Fm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function rb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function KV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function QV(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await KV(o,t);return u.links?u.links():[]}return[]}));return ZV(r.flat(1).filter(WV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function DI(n,e,t,r,i,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>{var g;return t[d].pathname!==f.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function YV(n,e,{includeHydrateFallback:t}={}){return XV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function XV(n){return[...new Set(n)]}function JV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function ZV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(JV(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eL=new Set([100,101,204,205]);function tL(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Vs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function yx(){let n=W.useContext(Sc);return rb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nL(){let n=W.useContext(Gg);return rb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ib=W.createContext(void 0);ib.displayName="FrameworkContext";function _x(){let n=W.useContext(ib);return rb(n,"You must render this element inside a <HydratedRouter> element"),n}function rL(n,e){let t=W.useContext(ib),[r,i]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=U=>{U.forEach(L=>{u(L.isIntersecting)})},x=new IntersectionObserver(A,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[n]),W.useEffect(()=>{if(r){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[r]);let T=()=>{i(!0)},b=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Jh(h,T),onBlur:Jh(f,b),onMouseEnter:Jh(d,T),onMouseLeave:Jh(g,b),onTouchStart:Jh(_,T)}]:[!1,v,{}]}function Jh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function iL({page:n,...e}){let{router:t}=yx(),r=W.useMemo(()=>sx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(aL,{page:n,matches:r,...e}):null}function sL(n){let{manifest:e,routeModules:t}=_x(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return QV(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function aL({page:n,matches:e,...t}){let r=no(),{manifest:i,routeModules:o}=_x(),{basename:u}=yx(),{loaderData:h,matches:f}=nL(),d=W.useMemo(()=>DI(n,e,f,i,r,"data"),[n,e,f,i,r]),g=W.useMemo(()=>DI(n,e,f,i,r,"assets"),[n,e,f,i,r]),_=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,A=!1;if(e.forEach(U=>{var V;let L=i.routes[U.route.id];!L||!L.hasLoader||(!d.some(H=>H.route.id===U.route.id)&&U.route.id in h&&((V=o[U.route.id])!=null&&V.shouldRevalidate)||L.hasClientLoader?A=!0:b.add(U.route.id))}),b.size===0)return[];let x=tL(n,u);return A&&b.size>0&&x.searchParams.set("_routes",e.filter(U=>b.has(U.route.id)).map(U=>U.route.id).join(",")),[x.pathname+x.search]},[u,h,r,i,d,e,n,o]),v=W.useMemo(()=>YV(g,i),[g,i]),T=sL(g);return W.createElement(W.Fragment,null,_.map(b=>W.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>W.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),T.map(({key:b,link:A})=>W.createElement("link",{key:b,...A})))}function oL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vx&&(window.__reactRouterVersion="7.6.0")}catch{}function lL({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=QM({window:t,v5Compat:!0}));let i=r.current,[o,u]=W.useState({action:i.action,location:i.location}),h=W.useCallback(f=>{W.startTransition(()=>u(f))},[u]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(LV,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var Ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rr=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:_,...v},T){let{basename:b}=W.useContext(es),A=typeof d=="string"&&Ex.test(d),x,U=!1;if(typeof d=="string"&&A&&(x=d,vx))try{let P=new URL(window.location.href),w=d.startsWith("//")?new URL(P.protocol+d):new URL(d),O=Vs(w.pathname,b);w.origin===P.origin&&O!=null?d=O+w.search+w.hash:U=!0}catch{di(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=wV(d,{relative:i}),[V,H,F]=rL(r,v),K=dL(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:_});function M(P){e&&e(P),P.defaultPrevented||K(P)}let R=W.createElement("a",{...v,...F,href:x||L,onClick:U||o?e:M,ref:oL(T,H),target:f,"data-discover":!A&&t==="render"?"true":void 0});return V&&!A?W.createElement(W.Fragment,null,R,W.createElement(iL,{page:L})):R});Rr.displayName="Link";var uL=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let _=Tf(u,{relative:d.relative}),v=no(),T=W.useContext(Gg),{navigator:b,basename:A}=W.useContext(es),x=T!=null&&yL(_)&&h===!0,U=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,L=v.pathname,V=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),V=V?V.toLowerCase():null,U=U.toLowerCase()),V&&A&&(V=Vs(V,A)||V);const H=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let F=L===U||!i&&L.startsWith(U)&&L.charAt(H)==="/",K=V!=null&&(V===U||!i&&V.startsWith(U)&&V.charAt(U.length)==="/"),M={isActive:F,isPending:K,isTransitioning:x},R=F?e:void 0,P;typeof r=="function"?P=r(M):P=[r,F?"active":null,K?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let w=typeof o=="function"?o(M):o;return W.createElement(Rr,{...d,"aria-current":R,className:P,ref:g,style:w,to:u,viewTransition:h},typeof f=="function"?f(M):f)});uL.displayName="NavLink";var cL=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Bm,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:_,...v},T)=>{let b=mL(),A=gL(h,{relative:d}),x=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&Ex.test(h),L=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let H=V.nativeEvent.submitter,F=(H==null?void 0:H.getAttribute("formmethod"))||u;b(H||V.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:i,state:o,relative:d,preventScrollReset:g,viewTransition:_})};return W.createElement("form",{ref:T,method:x,action:A,onSubmit:r?f:L,...v,"data-discover":!U&&n==="render"?"true":void 0})});cL.displayName="Form";function hL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bx(n){let e=W.useContext(Sc);return Mt(e,hL(n)),e}function dL(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Kg(),f=no(),d=Tf(n,{relative:o});return W.useCallback(g=>{if(qV(g,e)){g.preventDefault();let _=t!==void 0?t:Gd(f)===Gd(d);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[f,h,d,t,r,e,n,i,o,u])}var fL=0,pL=()=>`__${String(++fL)}__`;function mL(){let{router:n}=bx("useSubmit"),{basename:e}=W.useContext(es),t=NV();return W.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=GV(r,e);if(i.navigate===!1){let g=i.fetcherKey||pL();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function gL(n,{relative:e}={}){let{basename:t}=W.useContext(es),r=W.useContext(ts);Mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Tf(n||".",{relative:e})},u=no();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ks([t,o.pathname])),Gd(o)}function yL(n,e={}){let t=W.useContext(hx);Mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bx("useViewTransitionState"),i=Tf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Vs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Vs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return hg(i.pathname,u)!=null||hg(i.pathname,o)!=null}[...eL];const _L="_header__container_govcl_1",vL="_fixed_govcl_17",EL="_logo__container_govcl_29",bL="_logo_govcl_29",wL="_delivery_govcl_61",TL="_icon_govcl_85",SL="_label_govcl_93",AL="_location_govcl_105",IL="_bold_govcl_107",RL="_search_govcl_119",CL="_search__select_govcl_137",xL="_search__input_govcl_155",PL="_search__button_govcl_171",OL="_order__container_govcl_205",DL="_language_govcl_239",NL="_flag_govcl_249",kL="_language__select_govcl_259",ML="_account_govcl_273",VL="_orders_govcl_275",LL="_cart_govcl_285",UL="_cart__count_govcl_297",BL="_cart__label_govcl_325",pt={header__container:_L,fixed:vL,logo__container:EL,logo:bL,delivery:wL,icon:TL,label:SL,location:AL,bold:IL,search:RL,search__select:CL,search__input:xL,search__button:PL,order__container:OL,language:DL,flag:NL,language__select:kL,account:ML,orders:VL,cart:LL,cart__count:UL,cart__label:BL};var wx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NI=Ke.createContext&&Ke.createContext(wx),FL=["attr","size","title"];function zL(n,e){if(n==null)return{};var t=jL(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function jL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function dg(){return dg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dg.apply(this,arguments)}function kI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(t),!0).forEach(function(r){qL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qL(n,e,t){return e=HL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HL(n){var e=$L(n,"string");return typeof e=="symbol"?e:e+""}function $L(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Tx(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,fg({key:t},e.attr),Tx(e.child)))}function Sf(n){return e=>Ke.createElement(GL,dg({attr:fg({},n.attr)},e),Tx(n.child))}function GL(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=zL(n,FL),h=i||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ke.createElement("svg",dg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:fg(fg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return NI!==void 0?Ke.createElement(NI.Consumer,null,t=>e(t)):e(wx)}function KL(n){return Sf({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function WL(n){return Sf({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(n)}function QL(n){return Sf({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}const YL="_lower__container_29bwt_1",XL="_nav__list_29bwt_17",JL="_nav__item_29bwt_33",ZL="_icon_29bwt_59",Cs={lower__container:YL,nav__list:XL,nav__item:JL,icon:ZL};function e4(){return z.jsx("nav",{className:Cs.lower__container,children:z.jsxs("ul",{className:Cs.nav__list,children:[z.jsxs("li",{className:Cs.nav__item,children:[z.jsx(QL,{className:Cs.icon}),z.jsx("span",{children:"All"})]}),z.jsx("li",{className:Cs.nav__item,children:"Today's Deals"}),z.jsx("li",{className:Cs.nav__item,children:"Customer Service"}),z.jsx("li",{className:Cs.nav__item,children:"Registry"}),z.jsx("li",{className:Cs.nav__item,children:"Gift Cards"}),z.jsx("li",{className:Cs.nav__item,children:"Sell"})]})})}const t4="/My-Amazon/assets/logo-DP4zLUKx.png",n4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAA2CAYAAABp26+xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQGSURBVHgB7ZtNSBVRGIa/q5amlVJRFtgPZUk/WkQbF+2KSKIoqaQgIyEKoZYtWliLaJfLNu0LowwKXBgRQREUERb9bYLK7Fe7qXVLPb1fM0MmM/eemTlz5lzvfeDhLubIOXPue78zZ2YkyhOIhBCiAp9XKRzf4NFEItFLuQImbrEIz2d4gnKIAlLDDNiIyVtAOYKqiZsKF8ImyhFUTRxTDpuQunmUA6icOCd1eykHcFbVtT7+Zjo8C1e5HEvBHrgVK+wnyvMPnmh4PM0K+wG2Up7/waQUwRrY4zFxP+E9OIsmMb5rHH6CI/jogxc8mhTDJXA3TWISFABOHT6WwQ642qUJp+5RMplsqKio6KcswT6vDfCMRxMOzX2E5ySF6CRTreuDLZRFYLzl8FKac+qHOygMErXuB7zDg6EsAOMshBth0uN8fsMuyFcVwa/jJGsd/5x3UnZQBg+RtX10YxCex3kPUlgkU3fb+ZZMxU5bPRyQSRsTaucgmbpqMj91pfAAWdtGN9SlzUEidcPwFiwjA8G4CuA6+FE2bUzovapE6krgcridzITT1gzneBxXnzYHydR1w2lkEHba6vymjVFyd0QydTVwG5kFf5H7KY60OUikbsj+9krIANra2gpSqdRKjOed37QpR6TfTYzBt9CIFRbjKIWn7HG5EX6X4GMwMqm7AYspRtA/34dcCl+LgGlTeQdYptZxTVkDt1C8cLnYA6s8jkdf2yYimbrrcaXOThs/En0VNG2M0sQxkqmrhZsoHvgLayTrnqEb+tPmIJG6QXgNFpJG7LRVwWdh0sYoTxwjmbo6uJn0wmnjlbLa43h8aXOQTN0VnalDX5Xwcdi06Rhouuu6UWFdDmhJHfophi3wl8d4fF23FVG0cOS7yLpBOPHZBJeJ2fAIBvyFooefHx+GU1yO/X2WALtJkkAPa/wgrAfezfCcy+ExOADfUPTwXZBFZL1xMBEew0HUtk6SRMfEZXoiFjectpuw0c+iEMmqOh6JFTZuAq2kkU+cjVPrnpBZ+K5tDlomzuDUBb5u05U4xrTUBU4bo23iDExdqF1C5KvqeOwVtpKsVTZueMKex7q9ypMnT9RorXEM6hzvFevhLrJqHS8aT+Fl1JuHpAhd/WgBJ1MCj8EXwnqdagSm4Ht4F+4jBejqRwucANggrBcO3eA3mx7A9RQCXf1ow7431ynSw69ZtVMIdPWjc+fAbyvVZ2hTKtHGiH50ThzfIs/0qleRRBsj+tE5caPwZYY2IxJtjOhH58QNwYsZ2gxLtDGlHz3Yq90K2CG8V7t2OJNCoKsfrQjr+qoWnhbWYzp+4fC7sK6tWuF8UoCOfuLaOcyF/H+tXKC5Jn2FvbiiT5Iiou7nDywXgldRVkwdAAAAAElFTkSuQmCC",Hs=W.createContext(),r4=({children:n,reducer:e,initialState:t})=>z.jsx(Hs.Provider,{value:W.useReducer(e,t),children:n}),i4=()=>{};var MI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},s4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],f=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Ax={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|d>>6,T=d&63;f||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Sx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):s4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||d==null||_==null)throw new a4;const v=o<<2|h>>4;if(r.push(v),d!==64){const T=h<<4&240|d>>2;if(r.push(T),_!==64){const b=d<<6&192|_;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class a4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o4=function(n){const e=Sx(n);return Ax.encodeByteArray(e,!0)},pg=function(n){return o4(n).replace(/\./g,"")},sb=function(n){try{return Ax.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!l4(t)||(n[t]=mg(n[t],e[t]));return n}function l4(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=()=>ab().__FIREBASE_DEFAULTS__,c4=()=>{if(typeof process>"u"||typeof MI>"u")return;const n=MI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},h4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&sb(n[1]);return e&&JSON.parse(e)},Qg=()=>{try{return i4()||u4()||c4()||h4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},d4=n=>{var e,t;return(t=(e=Qg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ix=()=>{var n;return(n=Qg())===null||n===void 0?void 0:n.config},Rx=n=>{var e;return(e=Qg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(n){return n.endsWith(".cloudworkstations.dev")}async function Cx(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pg(JSON.stringify(t)),pg(JSON.stringify(u)),""].join(".")}const xd={};function m4(){const n={prod:[],emulator:[]};for(const e of Object.keys(xd))xd[e]?n.emulator.push(e):n.prod.push(e);return n}function g4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let VI=!1;function xx(n,e){if(typeof window>"u"||typeof document>"u"||!Af(window.location.host)||xd[n]===e||xd[n]||VI)return;xd[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=m4().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{VI=!0,u()},v}function g(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=g4(r),T=t("text"),b=document.getElementById(T)||document.createElement("span"),A=t("learnmore"),x=document.getElementById(A)||document.createElement("a"),U=t("preprendIcon"),L=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const V=v.element;h(V),g(x,A);const H=d();f(L,U),V.append(L,b,x,H),document.body.appendChild(V)}o?(b.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function Yg(){var n;const e=(n=Qg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _4(){return typeof window<"u"||Px()}function Px(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function v4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ox(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ob(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dx(){const n=Lt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Nx(){return!Yg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kx(){return!Yg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Kd(){try{return typeof indexedDB=="object"}catch{return!1}}function E4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="FirebaseError";class er extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=b4,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?w4(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new er(i,h,r)}}function w4(n,e){return n.replace(T4,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const T4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function S4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ls(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(UI(o)&&UI(u)){if(!Ls(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function UI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ju(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function bd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Mx(n,e){const t=new A4(n,e);return t.subscribe.bind(t)}class A4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");I4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=u0),i.error===void 0&&(i.error=u0),i.complete===void 0&&(i.complete=u0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function u0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class Qi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new f4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x4(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C4(n){return n===Ko?void 0:n}function x4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new R4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=[];var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const Lx={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},P4=He.INFO,O4={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},D4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=O4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xg{constructor(e){this.name=e,this._logLevel=P4,this._logHandler=D4,this._userLogHandler=null,lb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}function N4(n){lb.forEach(e=>{e.setLogLevel(n)})}function k4(n,e){for(const t of lb){let r=null;e&&e.level&&(r=Lx[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??i.logLevel)&&n({level:He[o].toLowerCase(),message:h,args:u,type:i.name})}}}const M4=(n,e)=>e.some(t=>n instanceof t);let BI,FI;function V4(){return BI||(BI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L4(){return FI||(FI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ux=new WeakMap,W0=new WeakMap,Bx=new WeakMap,c0=new WeakMap,ub=new WeakMap;function U4(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Ma(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Ux.set(t,n)}).catch(()=>{}),ub.set(e,n),e}function B4(n){if(W0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});W0.set(n,e)}let Q0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return W0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Bx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ma(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function F4(n){Q0=n(Q0)}function z4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(h0(this),e,...t);return Bx.set(r,e.sort?e.sort():[e]),Ma(r)}:L4().includes(n)?function(...e){return n.apply(h0(this),e),Ma(Ux.get(this))}:function(...e){return Ma(n.apply(h0(this),e))}}function j4(n){return typeof n=="function"?z4(n):(n instanceof IDBTransaction&&B4(n),M4(n,V4())?new Proxy(n,Q0):n)}function Ma(n){if(n instanceof IDBRequest)return U4(n);if(c0.has(n))return c0.get(n);const e=j4(n);return e!==n&&(c0.set(n,e),ub.set(e,n)),e}const h0=n=>ub.get(n);function q4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Ma(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ma(u.result),f.oldVersion,f.newVersion,Ma(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const H4=["get","getKey","getAll","getAllKeys","count"],$4=["put","add","delete","clear"],d0=new Map;function zI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(d0.get(e))return d0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=$4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||H4.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),i&&f.done]))[0]};return d0.set(e,o),o}F4(n=>({...n,get:(e,t,r)=>zI(e,t)||n.get(e,t,r),has:(e,t)=>!!zI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(K4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function K4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gg="@firebase/app",Y0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Xg("@firebase/app"),W4="@firebase/app-compat",Q4="@firebase/analytics-compat",Y4="@firebase/analytics",X4="@firebase/app-check-compat",J4="@firebase/app-check",Z4="@firebase/auth",e3="@firebase/auth-compat",t3="@firebase/database",n3="@firebase/data-connect",r3="@firebase/database-compat",i3="@firebase/functions",s3="@firebase/functions-compat",a3="@firebase/installations",o3="@firebase/installations-compat",l3="@firebase/messaging",u3="@firebase/messaging-compat",c3="@firebase/performance",h3="@firebase/performance-compat",d3="@firebase/remote-config",f3="@firebase/remote-config-compat",p3="@firebase/storage",m3="@firebase/storage-compat",g3="@firebase/firestore",y3="@firebase/ai",_3="@firebase/firestore-compat",v3="firebase",E3="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="[DEFAULT]",b3={[gg]:"fire-core",[W4]:"fire-core-compat",[Y4]:"fire-analytics",[Q4]:"fire-analytics-compat",[J4]:"fire-app-check",[X4]:"fire-app-check-compat",[Z4]:"fire-auth",[e3]:"fire-auth-compat",[t3]:"fire-rtdb",[n3]:"fire-data-connect",[r3]:"fire-rtdb-compat",[i3]:"fire-fn",[s3]:"fire-fn-compat",[a3]:"fire-iid",[o3]:"fire-iid-compat",[l3]:"fire-fcm",[u3]:"fire-fcm-compat",[c3]:"fire-perf",[h3]:"fire-perf-compat",[d3]:"fire-rc",[f3]:"fire-rc-compat",[p3]:"fire-gcs",[m3]:"fire-gcs-compat",[g3]:"fire-fst",[_3]:"fire-fst-compat",[y3]:"fire-vertex","fire-js":"fire-js",[v3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Map,Xu=new Map,Ju=new Map;function Wd(n,e){try{n.container.addComponent(e)}catch(t){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fx(n,e){n.container.addOrOverwriteComponent(e)}function ja(n){const e=n.name;if(Ju.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;Ju.set(e,n);for(const t of za.values())Wd(t,n);for(const t of Xu.values())Wd(t,n);return!0}function Jg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function w3(n,e,t=Fa){Jg(n,e).clearInstance(t)}function zx(n){return n.options!==void 0}function Ct(n){return n==null?!1:n.settings!==void 0}function T3(){Ju.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Rl("app","Firebase",S3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n,e){const t=sb(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class A3 extends jx{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&jI(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&jI(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,hi(gg,Y0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){hb(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Yr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=E3;function cb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fa,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(t||(t=Ix()),!t)throw Yr.create("no-options");const o=za.get(i);if(o){if(Ls(t,o.options)&&Ls(r,o.config))return o;throw Yr.create("duplicate-app",{appName:i})}const u=new Vx(i);for(const f of Ju.values())u.addComponent(f);const h=new jx(t,r,u);return za.set(i,h),h}function I3(n,e){if(_4()&&!Px())throw Yr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let t;zx(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=d=>[...d].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Yr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Xu.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new Vx(o);for(const d of Ju.values())h.addComponent(d);const f=new A3(t,e,o,h);return Xu.set(o,f),f}function qx(n=Fa){const e=za.get(n);if(!e&&n===Fa&&Ix())return cb();if(!e)throw Yr.create("no-app",{appName:n});return e}function R3(){return Array.from(za.values())}async function hb(n){let e=!1;const t=n.name;za.has(t)?(e=!0,za.delete(t)):Xu.has(t)&&n.decRefCount()<=0&&(Xu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function hi(n,e,t){var r;let i=(r=b3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(h.join(" "));return}ja(new Qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Hx(n,e){if(n!==null&&typeof n!="function")throw Yr.create("invalid-log-argument");k4(n,e)}function $x(n){N4(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="firebase-heartbeat-database",x3=1,Qd="firebase-heartbeat-store";let f0=null;function Gx(){return f0||(f0=q4(C3,x3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yr.create("idb-open",{originalErrorMessage:n.message})})),f0}async function P3(n){try{const t=(await Gx()).transaction(Qd),r=await t.objectStore(Qd).get(Kx(n));return await t.done,r}catch(e){if(e instanceof er)Us.warn(e.message);else{const t=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(t.message)}}}async function qI(n,e){try{const r=(await Gx()).transaction(Qd,"readwrite");await r.objectStore(Qd).put(e,Kx(n)),await r.done}catch(t){if(t instanceof er)Us.warn(t.message);else{const r=Yr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Us.warn(r.message)}}}function Kx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=1024,D3=30;class N3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new M3(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=HI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>D3){const u=V3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=HI(),{heartbeatsToSend:r,unsentEntries:i}=k3(this._heartbeatsCache.heartbeats),o=pg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Us.warn(t),""}}}function HI(){return new Date().toISOString().substring(0,10)}function k3(n,e=O3){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),$I(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$I(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class M3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kd()?E4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await P3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return qI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return qI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $I(n){return pg(JSON.stringify({version:2,heartbeats:n})).length}function V3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(n){ja(new Qi("platform-logger",e=>new G4(e),"PRIVATE")),ja(new Qi("heartbeat",e=>new N3(e),"PRIVATE")),hi(gg,Y0,n),hi(gg,Y0,"esm2017"),hi("fire-js","")}L3("");const U3=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:er,SDK_VERSION:ro,_DEFAULT_ENTRY_NAME:Fa,_addComponent:Wd,_addOrOverwriteComponent:Fx,_apps:za,_clearComponents:T3,_components:Ju,_getProvider:Jg,_isFirebaseApp:zx,_isFirebaseServerApp:Ct,_registerComponent:ja,_removeServiceInstance:w3,_serverApps:Xu,deleteApp:hb,getApp:qx,getApps:R3,initializeApp:cb,initializeServerApp:I3,onLog:Hx,registerVersion:hi,setLogLevel:$x},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,t){this._delegate=e,this.firebase=t,Wd(e,new Qi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),hb(this._delegate)))}_getService(e,t=Fa){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Fa){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Wd(this._delegate,e)}_addOrOverwriteComponent(e){Fx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},GI=new Rl("app-compat","Firebase",F3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:hi,setLogLevel:$x,onLog:Hx,apps:null,SDK_VERSION:ro,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:U3}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(d){delete e[d]}function i(d){if(d=d||Fa,!LI(e,d))throw GI.create("no-app",{appName:d});return e[d]}i.App=n;function o(d,g={}){const _=cb(d,g);if(LI(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(d=>e[d])}function h(d){const g=d.name,_=g.replace("-compat","");if(ja(d)&&d.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw GI.create("invalid-app-argument",{appName:g});return T[_]()};d.serviceProps!==void 0&&mg(v,d.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,d.multipleInstances?T:[])}}return d.type==="PUBLIC"?t[_]:null}function f(d,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){const n=z3(B3);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:Wx,extendNamespace:e,createSubscribe:Mx,ErrorFactory:Rl,deepExtend:mg});function e(t){mg(n,t)}return n}const j3=Wx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Xg("@firebase/app-compat"),q3="@firebase/app-compat",H3="0.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(n){hi(q3,H3,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=ab();if(n.firebase!==void 0){KI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&KI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Ic=j3;$3();var G3="firebase",K3="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ic.registerVersion(G3,K3,"app-compat");function db(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const Zh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Su={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Qx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q3=W3,Y3=Qx,Yx=new Rl("auth","Firebase",Qx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new Xg("@firebase/auth");function X3(n,...e){yg.logLevel<=He.WARN&&yg.warn(`Auth (${ro}): ${n}`,...e)}function zm(n,...e){yg.logLevel<=He.ERROR&&yg.error(`Auth (${ro}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n,...e){throw pb(n,...e)}function _n(n,...e){return pb(n,...e)}function fb(n,e,t){const r=Object.assign(Object.assign({},Y3()),{[e]:t});return new Rl("auth","Firebase",r).create(e,{appName:n.name})}function Rn(n){return fb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cn(n,"argument-error"),fb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Yx.create(n,...e)}function ye(n,e,...t){if(!n)throw pb(e,...t)}function qi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zm(e),new Error(e)}function fi(n,e){n||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function mb(){return WI()==="http:"||WI()==="https:"}function WI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mb()||Ox()||"connection"in navigator)?navigator.onLine:!0}function Z3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.shortDelay=e,this.longDelay=t,fi(t>e,"Short delay should be less than long delay!"),this.isMobile=y4()||ob()}get(){return J3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n,e){fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nU=new If(3e4,6e4);function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $t(n,e,t,r,i={}){return Jx(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Ac(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},o);return v4()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Af(n.emulatorConfig.host)&&(d.credentials="include"),Xx.fetch()(await Zx(n,n.config.apiHost,t,h),d)})}async function Jx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},eU),e);try{const i=new iU(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw wd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw wd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw wd(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw fb(n,g,d);Cn(n,g)}}catch(i){if(i instanceof er)throw i;Cn(n,"network-request-failed",{message:String(i)})}}async function $s(n,e,t,r,i={}){const o=await $t(n,e,t,r,i);return"mfaPendingCredential"in o&&Cn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Zx(n,e,t,r){const i=`${e}${t}?${r}`,o=n,u=o.config.emulator?gb(n.config,i):`${n.config.apiScheme}://${i}`;return tU.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function rU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),nU.get())})}}function wd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=_n(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n){return n!==void 0&&n.getResponse!==void 0}function YI(n){return n!==void 0&&n.enterprise!==void 0}class eP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function tP(n,e){return $t(n,"GET","/v2/recaptchaConfig",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function oU(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function _g(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lU(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=Zg(r);ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Pd(p0(i.auth_time)),issuedAtTime:Pd(p0(i.iat)),expirationTime:Pd(p0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function p0(n){return Number(n)*1e3}function Zg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return zm("JWT malformed, contained fewer than 3 sections"),null;try{const i=sb(t);return i?JSON.parse(i):(zm("Failed to decode base64 JWT payload"),null)}catch(i){return zm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XI(n){const e=Zg(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof er&&uU(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function uU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pd(this.lastLoginAt),this.creationTime=Pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Bs(n,_g(t,{idToken:r}));ye(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nP(o.providerUserInfo):[],h=dU(n.providerData,u),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=f?d:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new X0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function hU(n){const e=Ce(n);await Xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nP(n){return n.map(e=>{var{providerId:t}=e,r=db(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(n,e){const t=await Jx(n,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=await Zx(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Xx.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pU(n,e){return $t(n,"POST","/v2/accounts:revokeToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=XI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await fU(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new qu;return r&&(ye(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qu,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(n,e){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=db(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new X0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Bs(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lU(this,e)}reload(){return hU(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Xd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ct(this.auth.app))return Promise.reject(Rn(this.auth));const e=await this.getIdToken();return await Bs(this,aU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,f,d,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,U=(d=t.createdAt)!==null&&d!==void 0?d:void 0,L=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:H,isAnonymous:F,providerData:K,stsTokenManager:M}=t;ye(V&&M,e,"internal-error");const R=qu.fromJSON(this.name,M);ye(typeof V=="string",e,"internal-error"),Aa(_,e.name),Aa(v,e.name),ye(typeof H=="boolean",e,"internal-error"),ye(typeof F=="boolean",e,"internal-error"),Aa(T,e.name),Aa(b,e.name),Aa(A,e.name),Aa(x,e.name),Aa(U,e.name),Aa(L,e.name);const P=new ci({uid:V,auth:e,email:v,emailVerified:H,displayName:_,isAnonymous:F,photoURL:b,phoneNumber:T,tenantId:A,stsTokenManager:R,createdAt:U,lastLoginAt:L});return K&&Array.isArray(K)&&(P.providerData=K.map(w=>Object.assign({},w))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new qu;i.updateFromServerResponse(t);const o=new ci({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?nP(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new qu;h.updateFromIdToken(r);const f=new ci({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new X0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new Map;function xr(n){fi(n instanceof Function,"Expected a class definition");let e=JI.get(n);return e?(fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rP.type="NONE";const Zu=rP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n,e,t){return`firebase:${n}:${e}:${t}`}class Hu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ll(this.userKey,i.apiKey,o),this.fullPersistenceKey=ll("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _g(this.auth,{idToken:e}).catch(()=>{});return t?ci._fromGetAccountInfoResponse(this.auth,t,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Hu(xr(Zu),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||xr(Zu);const u=ll(r,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let _;if(typeof g=="string"){const v=await _g(e,{idToken:g}).catch(()=>{});if(!v)break;_=await ci._fromGetAccountInfoResponse(e,v,g)}else _=ci._fromJSON(e,g);d!==o&&(h=_),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Hu(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Hu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lP(e))return"Blackberry";if(uP(e))return"Webos";if(sP(e))return"Safari";if((e.includes("chrome/")||aP(e))&&!e.includes("edge/"))return"Chrome";if(Rf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iP(n=Lt()){return/firefox\//i.test(n)}function sP(n=Lt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aP(n=Lt()){return/crios\//i.test(n)}function oP(n=Lt()){return/iemobile/i.test(n)}function Rf(n=Lt()){return/android/i.test(n)}function lP(n=Lt()){return/blackberry/i.test(n)}function uP(n=Lt()){return/webos/i.test(n)}function Cf(n=Lt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mU(n=Lt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function gU(n=Lt()){var e;return Cf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yU(){return Dx()&&document.documentMode===10}function cP(n=Lt()){return Cf(n)||Rf(n)||uP(n)||lP(n)||/windows phone/i.test(n)||oP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(n,e=[]){let t;switch(n){case"Browser":t=ZI(Lt());break;case"Worker":t=`${ZI(Lt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(n,e={}){return $t(n,"GET","/v2/passwordPolicy",Ht(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=6;class bU{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:EU,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eR(this),this.idTokenSubscription=new eR(this),this.beforeStateQueue=new _U(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xr(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Hu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _g(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ct(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ct(this.app))return Promise.reject(Rn(this));const t=e?Ce(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ct(this.app)?Promise.reject(Rn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ct(this.app)?Promise.reject(Rn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vU(this),t=new bU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await pU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xr(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await Hu.create(this,[xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ct(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&X3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ut(n){return Ce(n)}class eR{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mx(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TU(n){xf=n}function yb(n){return xf.loadJS(n)}function SU(){return xf.recaptchaV2Script}function AU(){return xf.recaptchaEnterpriseScript}function IU(){return xf.gapiScript}function dP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=500,CU=6e4,wm=1e12;class xU{constructor(e){this.auth=e,this.counter=wm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new DU(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||wm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||wm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||wm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class PU{constructor(){this.enterprise=new OU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class OU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class DU{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ye(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=NU(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},CU)},RU))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function NU(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const kU="recaptcha-enterprise",Od="NO_RECAPTCHA";class fP{constructor(e){this.type=kU,this.auth=Ut(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{tP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new eP(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function i(o,u,h){const f=window.grecaptcha;YI(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(Od)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PU().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&YI(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=AU();f.length!==0&&(f+=h),yb(f).then(()=>{i(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function ed(n,e,t,r=!1,i=!1){const o=new fP(n);let u;if(i)u=Od;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Va(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await ed(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await ed(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await ed(n,e,t);return r(n,h).catch(async f=>{var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await ed(n,e,t,!1,!0);return r(n,g)}return Promise.reject(f)})}else{const h=await ed(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function MU(n){const e=Ut(n),t=await tP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new eP(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new fP(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(n,e){const t=Jg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Ls(o,e??{}))return i;Cn(i,"already-initialized")}return t.initialize({options:e})}function LU(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(xr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pP(n,e,t){const r=Ut(n);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=mP(e),{host:u,port:h}=UU(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(Ls(d,r.config.emulator)&&Ls(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Af(u)?(Cx(`${o}//${u}${f}`),xx("Auth",!0)):i||BU()}function mP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UU(n){const e=mP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:tR(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:tR(u)}}}function tR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function BU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,t){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(n,e){return $t(n,"POST","/v1/accounts:resetPassword",Ht(n,e))}async function FU(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function zU(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function jU(n,e){return $t(n,"POST","/v1/accounts:update",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(n,e){return $s(n,"POST","/v1/accounts:signInWithPassword",Ht(n,e))}async function ey(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",Ht(n,e))}async function HU(n,e){return ey(n,e)}async function $U(n,e){return ey(n,e)}async function GU(n,e){return ey(n,e)}async function KU(n,e){return ey(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(n,e){return $s(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}async function QU(n,e){return $s(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends Cc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Jd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Jd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Va(e,t,"signInWithPassword",qU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return WU(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Va(e,r,"signUpPassword",zU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return QU(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(n,e){return $s(n,"POST","/v1/accounts:signInWithIdp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="http://localhost";class Yi extends Cc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=db(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Yi(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ms(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ms(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ms(e,t)}buildRequest(){const e={requestUri:YU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",Ht(n,e))}async function XU(n,e){return $s(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e))}async function JU(n,e){const t=await $s(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e));if(t.temporaryProof)throw wd(n,"account-exists-with-different-credential",t);return t}const ZU={USER_NOT_FOUND:"user-not-found"};async function e6(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return $s(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,t),ZU)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Cc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ul({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ul({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return XU(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return JU(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return e6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new ul({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n6(n){const e=ju(bd(n)).link,t=e?ju(bd(e)).deep_link_id:null,r=ju(bd(n)).deep_link_id;return(r?ju(bd(r)).link:null)||r||t||e||n}class ty{constructor(e){var t,r,i,o,u,h;const f=ju(bd(e)),d=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=t6((i=f.mode)!==null&&i!==void 0?i:null);ye(d&&g&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=n6(e);try{return new ty(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,t){return Jd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ty.parseLink(t);return ye(r,"argument-error"),Jd._fromEmailAndCode(e,r.code,r.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $u extends xc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ye("providerId"in t&&"signInMethod"in t,"argument-error"),Yi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ye(e.idToken||e.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return $u.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return $u.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new $u(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends xc{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yi._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends xc{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="http://localhost";class ec extends Cc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ms(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ms(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ms(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new ec(r,o)}static _create(e,t){return new ec(e,t)}buildRequest(){return{requestUri:r6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="saml.";class vg extends Gs{constructor(e){ye(e.startsWith(i6),"argument-error"),super(e)}static credentialFromResult(e){return vg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return vg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ec.fromJSON(e);return ye(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return ec._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends xc{constructor(){super("twitter.com")}static credential(e,t){return Yi._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ji.credential(t,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(n,e){return $s(n,"POST","/v1/accounts:signUp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ci._fromIdTokenResponse(e,r,i),u=rR(r);return new Xr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=rR(r);return new Xr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function rR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(n){var e;if(Ct(n.app))return Promise.reject(Rn(n));const t=Ut(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Xr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await yP(t,{returnSecureToken:!0}),i=await Xr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends er{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Eg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Eg(e,t,r,i)}}function _P(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Eg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(n,e){const t=Ce(n);await ny(!0,t,e);const{providerUserInfo:r}=await oU(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=vP(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function _b(n,e,t=!1){const r=await Bs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xr._forOperation(n,"link",r)}async function ny(n,e,t){await Xd(e);const r=vP(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";ye(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,e,t=!1){const{auth:r}=n;if(Ct(r.app))return Promise.reject(Rn(r));const i="reauthenticate";try{const o=await Bs(n,_P(r,i,e,n),t);ye(o.idToken,r,"internal-error");const u=Zg(o.idToken);ye(u,r,"internal-error");const{sub:h}=u;return ye(n.uid===h,r,"user-mismatch"),Xr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Cn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e,t=!1){if(Ct(n.app))return Promise.reject(Rn(n));const r="signIn",i=await _P(n,r,e),o=await Xr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function ry(n,e){return bP(Ut(n),e)}async function wP(n,e){const t=Ce(n);return await ny(!1,t,e.providerId),_b(t,e)}async function TP(n,e){return EP(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(n,e){return $s(n,"POST","/v1/accounts:signInWithCustomToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(n,e){if(Ct(n.app))return Promise.reject(Rn(n));const t=Ut(n),r=await o6(t,{token:e,returnSecureToken:!0}),i=await Xr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?vb._fromServerResponse(e,t):"totpInfo"in t?Eb._fromServerResponse(e,t):Cn(e,"internal-error")}}class vb extends Pf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new vb(t)}}class Eb extends Pf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Eb(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n,e,t){var r;ye(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ye(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ye(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ye(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ye(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(n){const e=Ut(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u6(n,e,t){const r=Ut(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&iy(r,i,t),await Va(r,i,"getOobCode",$U,"EMAIL_PASSWORD_PROVIDER")}async function c6(n,e,t){await gP(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bb(n),r})}async function h6(n,e){await jU(Ce(n),{oobCode:e})}async function SP(n,e){const t=Ce(n),r=await gP(t,{oobCode:e}),i=r.requestType;switch(ye(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(r.mfaInfo,t,"internal-error");default:ye(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Pf._fromServerResponse(Ut(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function d6(n,e){const{data:t}=await SP(Ce(n),e);return t.email}async function AP(n,e,t){if(Ct(n.app))return Promise.reject(Rn(n));const r=Ut(n),u=await Va(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yP,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&bb(n),f}),h=await Xr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function IP(n,e,t){return Ct(n.app)?Promise.reject(Rn(n)):ry(Ce(n),io.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bb(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(n,e,t){const r=Ut(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ye(h.handleCodeInApp,r,"argument-error"),h&&iy(r,u,h)}o(i,t),await Va(r,i,"getOobCode",GU,"EMAIL_PASSWORD_PROVIDER")}function p6(n,e){const t=ty.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function m6(n,e,t){if(Ct(n.app))return Promise.reject(Rn(n));const r=Ce(n),i=io.credentialWithLink(e,t||Yd());return ye(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),ry(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(n,e){const t=mb()?Yd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await g6(Ce(n),r);return i||[]}async function _6(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&iy(t.auth,i,e);const{email:o}=await HU(t.auth,i);o!==n.email&&await n.reload()}async function v6(n,e,t){const r=Ce(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&iy(r.auth,o,t);const{email:u}=await KU(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Bs(r,E6(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function w6(n,e){const t=Ce(n);return Ct(t.auth.app)?Promise.reject(Rn(t.auth)):RP(t,e,null)}function T6(n,e){return RP(Ce(n),null,e)}async function RP(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Bs(n,FU(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=Zg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new Gu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new A6(o,i);case"github.com":return new I6(o,i);case"google.com":return new R6(o,i);case"twitter.com":return new C6(o,i,n.screenName||null);case"custom":case"anonymous":return new Gu(o,null);default:return new Gu(o,r,i)}}class Gu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class CP extends Gu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class A6 extends Gu{constructor(e,t){super(e,"facebook.com",t)}}class I6 extends CP{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class R6 extends Gu{constructor(e,t){super(e,"google.com",t)}}class C6 extends CP{constructor(e,t,r){super(e,"twitter.com",t,r)}}function x6(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:S6(t)}function P6(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function O6(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new rl("enroll",e,t)}static _fromMfaPendingCredential(e){return new rl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return rl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return rl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Ut(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>Pf._fromServerResponse(r,h));ye(i.mfaPendingCredential,r,"internal-error");const u=rl._fromMfaPendingCredential(i.mfaPendingCredential);return new wb(u,o,async h=>{const f=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const d=Object.assign(Object.assign({},i),{idToken:f.idToken,refreshToken:f.refreshToken});switch(t.operationType){case"signIn":const g=await Xr._fromIdTokenResponse(r,t.operationType,d);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ye(t.user,r,"internal-error"),Xr._forOperation(t.user,t.operationType,d);default:Cn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function D6(n,e){var t;const r=Ce(n),i=e;return ye(e.customData.operationType,r,"argument-error"),ye((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),wb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",Ht(n,e))}function N6(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(n,e))}function k6(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(n,e))}class Tb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Pf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Tb(e)}async getSession(){return rl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Bs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Bs(this.user,k6(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const m0=new WeakMap;function M6(n){const e=Ce(n);return m0.has(e)||m0.set(e,Tb._fromUser(e)),m0.get(e)}const bg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bg,"1"),this.storage.removeItem(bg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=1e3,L6=10;class PP extends xP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);yU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,L6):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},V6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PP.type="LOCAL";const sy=PP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP extends xP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}OP.type="SESSION";const qa=OP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ay(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async d=>d(t.origin,o)),f=await U6(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ay.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=Of("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return window}function F6(n){un().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}async function z6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function q6(){return Sb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="firebaseLocalStorageDb",H6=1,wg="firebaseLocalStorage",NP="fbase_key";class Df{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function oy(n,e){return n.transaction([wg],e?"readwrite":"readonly").objectStore(wg)}function $6(){const n=indexedDB.deleteDatabase(DP);return new Df(n).toPromise()}function J0(){const n=indexedDB.open(DP,H6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(wg,{keyPath:NP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(wg)?e(r):(r.close(),await $6(),e(await J0()))})})}async function sR(n,e,t){const r=oy(n,!0).put({[NP]:e,value:t});return new Df(r).toPromise()}async function G6(n,e){const t=oy(n,!1).get(e),r=await new Df(t).toPromise();return r===void 0?null:r.value}function aR(n,e){const t=oy(n,!0).delete(e);return new Df(t).toPromise()}const K6=800,W6=3;class kP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await J0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>W6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ay._getInstance(q6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await z6(),!this.activeServiceWorker)return;this.sender=new B6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await J0();return await sR(e,bg,"1"),await aR(e,bg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>sR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>G6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=oy(i,!1).getAll();return new Df(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kP.type="LOCAL";const tc=kP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",Ht(n,e))}function Q6(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=dP("rcb"),Y6=new If(3e4,6e4);class X6{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=un().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ye(J6(t),e,"argument-error"),this.shouldResolveImmediately(t)&&QI(un().grecaptcha)?Promise.resolve(un().grecaptcha):new Promise((r,i)=>{const o=un().setTimeout(()=>{i(_n(e,"network-request-failed"))},Y6.get());un()[g0]=()=>{un().clearTimeout(o),delete un()[g0];const h=un().grecaptcha;if(!h||!QI(h)){i(_n(e,"internal-error"));return}const f=h.render;h.render=(d,g)=>{const _=f(d,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${SU()}?${Ac({onload:g0,render:"explicit",hl:t})}`;yb(u).catch(()=>{clearTimeout(o),i(_n(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=un().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function J6(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class Z6{async load(e){return new xU(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="recaptcha",e5={theme:"light",type:"image"};let t5=class{constructor(e,t,r=Object.assign({},e5)){this.parameters=r,this.type=Dd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ut(e),this.isInvisible=this.parameters.size==="invisible",ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;ye(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Z6:new X6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=un()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ye(mb()&&!Sb(),this.auth,"internal-error"),await n5(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await sU(this.auth);ye(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function n5(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ul._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function r5(n,e,t){if(Ct(n.app))return Promise.reject(Rn(n));const r=Ut(n),i=await ly(r,e,Ce(t));return new Ab(i,o=>ry(r,o))}async function i5(n,e,t){const r=Ce(n);await ny(!1,r,"phone");const i=await ly(r.auth,e,Ce(t));return new Ab(i,o=>wP(r,o))}async function s5(n,e,t){const r=Ce(n);if(Ct(r.auth.app))return Promise.reject(Rn(r.auth));const i=await ly(r.auth,e,Ce(t));return new Ab(i,o=>TP(r,o))}async function ly(n,e,t){var r;if(!n._getRecaptchaConfig())try{await MU(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){ye(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Va(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Od){ye((t==null?void 0:t.type)===Dd,g,"argument-error");const v=await y0(g,_,t);return iR(g,v)}return iR(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{ye(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;ye(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Va(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Od){ye((t==null?void 0:t.type)===Dd,_,"argument-error");const T=await y0(_,v,t);return oR(_,T)}return oR(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Va(n,o,"sendVerificationCode",async(d,g)=>{if(g.captchaResponse===Od){ye((t==null?void 0:t.type)===Dd,d,"argument-error");const _=await y0(d,g,t);return nR(d,_)}return nR(d,g)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t==null||t._reset()}}async function a5(n,e){const t=Ce(n);if(Ct(t.auth.app))return Promise.reject(Rn(t.auth));await _b(t,e)}async function y0(n,e,t){ye(t.type===Dd,n,"argument-error");const r=await t.verify();ye(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl=class jm{constructor(e){this.providerId=jm.PROVIDER_ID,this.auth=Ut(e)}verifyPhoneNumber(e,t){return ly(this.auth,e,Ce(t))}static credential(e,t){return ul._fromVerification(e,t)}static credentialFromResult(e){const t=e;return jm.credentialFromTaggedObject(t)}static credentialFromError(e){return jm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?ul._fromTokenResponse(t,r):null}};fl.PROVIDER_ID="phone";fl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n,e){return e?xr(e):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends Cc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ms(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function o5(n){return bP(n.auth,new Ib(n),n.bypassAuthState)}function l5(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),EP(t,new Ib(n),n.bypassAuthState)}async function u5(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),_b(t,new Ib(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o5;case"linkViaPopup":case"linkViaRedirect":return u5;case"reauthViaPopup":case"reauthViaRedirect":return l5;default:Cn(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new If(2e3,1e4);async function h5(n,e,t){if(Ct(n.app))return Promise.reject(_n(n,"operation-not-supported-in-this-environment"));const r=Ut(n);Rc(n,e,Gs);const i=Cl(r,t);return new Os(r,"signInViaPopup",e,i).executeNotNull()}async function d5(n,e,t){const r=Ce(n);if(Ct(r.auth.app))return Promise.reject(_n(r.auth,"operation-not-supported-in-this-environment"));Rc(r.auth,e,Gs);const i=Cl(r.auth,t);return new Os(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function f5(n,e,t){const r=Ce(n);Rc(r.auth,e,Gs);const i=Cl(r.auth,t);return new Os(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Os extends MP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Of();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,c5.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="pendingRedirect",Nd=new Map;class m5 extends MP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const r=await g5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g5(n,e){const t=LP(e),r=VP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function Rb(n,e){return VP(n)._set(LP(e),"true")}function y5(){Nd.clear()}function Cb(n,e){Nd.set(n._key(),e)}function VP(n){return xr(n._redirectPersistence)}function LP(n){return ll(p5,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(n,e,t){return v5(n,e,t)}async function v5(n,e,t){if(Ct(n.app))return Promise.reject(Rn(n));const r=Ut(n);Rc(n,e,Gs),await r._initializationPromise;const i=Cl(r,t);return await Rb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function E5(n,e,t){return b5(n,e,t)}async function b5(n,e,t){const r=Ce(n);if(Rc(r.auth,e,Gs),Ct(r.auth.app))return Promise.reject(Rn(r.auth));await r.auth._initializationPromise;const i=Cl(r.auth,t);await Rb(i,r.auth);const o=await UP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function w5(n,e,t){return T5(n,e,t)}async function T5(n,e,t){const r=Ce(n);Rc(r.auth,e,Gs),await r.auth._initializationPromise;const i=Cl(r.auth,t);await ny(!1,r,e.providerId),await Rb(i,r.auth);const o=await UP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function S5(n,e){return await Ut(n)._initializationPromise,uy(n,e,!1)}async function uy(n,e,t=!1){if(Ct(n.app))return Promise.reject(Rn(n));const r=Ut(n),i=Cl(r,e),u=await new m5(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function UP(n){const e=Of(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=10*60*1e3;class BP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!FP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(_n(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lR(e))}saveEventToCache(e){this.cachedEventUids.add(lR(e)),this.lastProcessedEventTime=Date.now()}}function lR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C5=/^https?/;async function x5(n){if(n.config.emulator)return;const{authorizedDomains:e}=await zP(n);for(const t of e)try{if(P5(t))return}catch{}Cn(n,"unauthorized-domain")}function P5(n){const e=Yd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!C5.test(t))return!1;if(R5.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new If(3e4,6e4);function uR(){const n=un().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function D5(n){return new Promise((e,t)=>{var r,i,o;function u(){uR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uR(),t(_n(n,"network-request-failed"))},timeout:O5.get()})}if(!((i=(r=un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=un().gapi)===null||o===void 0)&&o.load)u();else{const h=dP("iframefcb");return un()[h]=()=>{gapi.load?u():t(_n(n,"network-request-failed"))},yb(`${IU()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw qm=null,e})}let qm=null;function N5(n){return qm=qm||D5(n),qm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=new If(5e3,15e3),M5="__/auth/iframe",V5="emulator/auth/iframe",L5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B5(n){const e=n.config;ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gb(e,V5):`https://${n.config.authDomain}/${M5}`,r={apiKey:e.apiKey,appName:n.name,v:ro},i=U5.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ac(r).slice(1)}`}async function F5(n){const e=await N5(n),t=un().gapi;return ye(t,n,"internal-error"),e.open({where:document.body,url:B5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=_n(n,"network-request-failed"),h=un().setTimeout(()=>{o(u)},k5.get());function f(){un().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j5=500,q5=600,H5="_blank",$5="http://localhost";class cR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function G5(n,e,t,r=j5,i=q5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},z5),{width:r.toString(),height:i.toString(),top:o,left:u}),d=Lt().toLowerCase();t&&(h=aP(d)?H5:t),iP(d)&&(e=e||$5,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[T,b])=>`${v}${T}=${b},`,"");if(gU(d)&&h!=="_self")return K5(e||"",h),new cR(null);const _=window.open(e||"",h,g);ye(_,n,"popup-blocked");try{_.focus()}catch{}return new cR(_)}function K5(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="__/auth/handler",Q5="emulator/auth/handler",Y5=encodeURIComponent("fac");async function Z0(n,e,t,r,i,o){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ro,eventId:i};if(e instanceof Gs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",S4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof xc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${Y5}=${encodeURIComponent(f)}`:"";return`${X5(n)}?${Ac(h).slice(1)}${d}`}function X5({config:n}){return n.emulator?gb(n,Q5):`https://${n.authDomain}/${W5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="webStorageSupport";class J5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qa,this._completeRedirectFn=uy,this._overrideRedirectResult=Cb}async _openPopup(e,t,r,i){var o;fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Z0(e,t,r,Yd(),i);return G5(e,u,Of())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await Z0(e,t,r,Yd(),i);return F6(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await F5(e),r=new BP(e);return t.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_0,{type:_0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[_0];u!==void 0&&t(!!u),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=x5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cP()||sP()||Cf()}}const jP=J5;class Z5{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return qi("unexpected MultiFactorSessionType")}}}class xb extends Z5{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new xb(e)}_finalizeEnroll(e,t,r){return N6(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Q6(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class qP{constructor(){}static assertion(e){return xb._fromCredential(e)}}qP.FACTOR_ID="phone";var hR="@firebase/auth",dR="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nB(n){ja(new Qi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ye(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hP(n)},d=new wU(r,i,o,f);return LU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ja(new Qi("auth-internal",e=>{const t=Ut(e.getProvider("auth").getImmediate());return(r=>new eB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi(hR,dR,tB(n)),hi(hR,dR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=5*60,iB=Rx("authIdTokenMaxAge")||rB;let fR=null;const sB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>iB)return;const i=t==null?void 0:t.token;fR!==i&&(fR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aB(n=qx()){const e=Jg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VU(n,{popupRedirectResolver:jP,persistence:[tc,sy,qa]}),r=Rx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=sB(o.toString());O6(t,u,()=>u(t.currentUser)),P6(t,h=>u(h))}}const i=d4("auth");return i&&pP(t,`http://${i}`),t}function oB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}TU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=_n("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",oB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nB("Browser");var pR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var La,HP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function P(){}P.prototype=R.prototype,M.D=R.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(w,O,C){for(var D=Array(arguments.length-2),se=2;se<arguments.length;se++)D[se-2]=arguments[se];return R.prototype[O].apply(w,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,R,P){P||(P=0);var w=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)w[O]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(O=0;16>O;++O)w[O]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=M.g[0],P=M.g[1],O=M.g[2];var C=M.g[3],D=R+(C^P&(O^C))+w[0]+3614090360&4294967295;R=P+(D<<7&4294967295|D>>>25),D=C+(O^R&(P^O))+w[1]+3905402710&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(P^C&(R^P))+w[2]+606105819&4294967295,O=C+(D<<17&4294967295|D>>>15),D=P+(R^O&(C^R))+w[3]+3250441966&4294967295,P=O+(D<<22&4294967295|D>>>10),D=R+(C^P&(O^C))+w[4]+4118548399&4294967295,R=P+(D<<7&4294967295|D>>>25),D=C+(O^R&(P^O))+w[5]+1200080426&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(P^C&(R^P))+w[6]+2821735955&4294967295,O=C+(D<<17&4294967295|D>>>15),D=P+(R^O&(C^R))+w[7]+4249261313&4294967295,P=O+(D<<22&4294967295|D>>>10),D=R+(C^P&(O^C))+w[8]+1770035416&4294967295,R=P+(D<<7&4294967295|D>>>25),D=C+(O^R&(P^O))+w[9]+2336552879&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(P^C&(R^P))+w[10]+4294925233&4294967295,O=C+(D<<17&4294967295|D>>>15),D=P+(R^O&(C^R))+w[11]+2304563134&4294967295,P=O+(D<<22&4294967295|D>>>10),D=R+(C^P&(O^C))+w[12]+1804603682&4294967295,R=P+(D<<7&4294967295|D>>>25),D=C+(O^R&(P^O))+w[13]+4254626195&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(P^C&(R^P))+w[14]+2792965006&4294967295,O=C+(D<<17&4294967295|D>>>15),D=P+(R^O&(C^R))+w[15]+1236535329&4294967295,P=O+(D<<22&4294967295|D>>>10),D=R+(O^C&(P^O))+w[1]+4129170786&4294967295,R=P+(D<<5&4294967295|D>>>27),D=C+(P^O&(R^P))+w[6]+3225465664&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^P&(C^R))+w[11]+643717713&4294967295,O=C+(D<<14&4294967295|D>>>18),D=P+(C^R&(O^C))+w[0]+3921069994&4294967295,P=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(P^O))+w[5]+3593408605&4294967295,R=P+(D<<5&4294967295|D>>>27),D=C+(P^O&(R^P))+w[10]+38016083&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^P&(C^R))+w[15]+3634488961&4294967295,O=C+(D<<14&4294967295|D>>>18),D=P+(C^R&(O^C))+w[4]+3889429448&4294967295,P=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(P^O))+w[9]+568446438&4294967295,R=P+(D<<5&4294967295|D>>>27),D=C+(P^O&(R^P))+w[14]+3275163606&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^P&(C^R))+w[3]+4107603335&4294967295,O=C+(D<<14&4294967295|D>>>18),D=P+(C^R&(O^C))+w[8]+1163531501&4294967295,P=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(P^O))+w[13]+2850285829&4294967295,R=P+(D<<5&4294967295|D>>>27),D=C+(P^O&(R^P))+w[2]+4243563512&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^P&(C^R))+w[7]+1735328473&4294967295,O=C+(D<<14&4294967295|D>>>18),D=P+(C^R&(O^C))+w[12]+2368359562&4294967295,P=O+(D<<20&4294967295|D>>>12),D=R+(P^O^C)+w[5]+4294588738&4294967295,R=P+(D<<4&4294967295|D>>>28),D=C+(R^P^O)+w[8]+2272392833&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^P)+w[11]+1839030562&4294967295,O=C+(D<<16&4294967295|D>>>16),D=P+(O^C^R)+w[14]+4259657740&4294967295,P=O+(D<<23&4294967295|D>>>9),D=R+(P^O^C)+w[1]+2763975236&4294967295,R=P+(D<<4&4294967295|D>>>28),D=C+(R^P^O)+w[4]+1272893353&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^P)+w[7]+4139469664&4294967295,O=C+(D<<16&4294967295|D>>>16),D=P+(O^C^R)+w[10]+3200236656&4294967295,P=O+(D<<23&4294967295|D>>>9),D=R+(P^O^C)+w[13]+681279174&4294967295,R=P+(D<<4&4294967295|D>>>28),D=C+(R^P^O)+w[0]+3936430074&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^P)+w[3]+3572445317&4294967295,O=C+(D<<16&4294967295|D>>>16),D=P+(O^C^R)+w[6]+76029189&4294967295,P=O+(D<<23&4294967295|D>>>9),D=R+(P^O^C)+w[9]+3654602809&4294967295,R=P+(D<<4&4294967295|D>>>28),D=C+(R^P^O)+w[12]+3873151461&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^P)+w[15]+530742520&4294967295,O=C+(D<<16&4294967295|D>>>16),D=P+(O^C^R)+w[2]+3299628645&4294967295,P=O+(D<<23&4294967295|D>>>9),D=R+(O^(P|~C))+w[0]+4096336452&4294967295,R=P+(D<<6&4294967295|D>>>26),D=C+(P^(R|~O))+w[7]+1126891415&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~P))+w[14]+2878612391&4294967295,O=C+(D<<15&4294967295|D>>>17),D=P+(C^(O|~R))+w[5]+4237533241&4294967295,P=O+(D<<21&4294967295|D>>>11),D=R+(O^(P|~C))+w[12]+1700485571&4294967295,R=P+(D<<6&4294967295|D>>>26),D=C+(P^(R|~O))+w[3]+2399980690&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~P))+w[10]+4293915773&4294967295,O=C+(D<<15&4294967295|D>>>17),D=P+(C^(O|~R))+w[1]+2240044497&4294967295,P=O+(D<<21&4294967295|D>>>11),D=R+(O^(P|~C))+w[8]+1873313359&4294967295,R=P+(D<<6&4294967295|D>>>26),D=C+(P^(R|~O))+w[15]+4264355552&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~P))+w[6]+2734768916&4294967295,O=C+(D<<15&4294967295|D>>>17),D=P+(C^(O|~R))+w[13]+1309151649&4294967295,P=O+(D<<21&4294967295|D>>>11),D=R+(O^(P|~C))+w[4]+4149444226&4294967295,R=P+(D<<6&4294967295|D>>>26),D=C+(P^(R|~O))+w[11]+3174756917&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~P))+w[2]+718787259&4294967295,O=C+(D<<15&4294967295|D>>>17),D=P+(C^(O|~R))+w[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+C&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var P=R-this.blockSize,w=this.B,O=this.h,C=0;C<R;){if(O==0)for(;C<=P;)i(this,M,C),C+=this.blockSize;if(typeof M=="string"){for(;C<R;)if(w[O++]=M.charCodeAt(C++),O==this.blockSize){i(this,w),O=0;break}}else for(;C<R;)if(w[O++]=M[C++],O==this.blockSize){i(this,w),O=0;break}}this.h=O,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var P=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=P&255,P/=256;for(this.u(M),M=Array(16),R=P=0;4>R;++R)for(var w=0;32>w;w+=8)M[P++]=this.g[R]>>>w&255;return M};function o(M,R){var P=h;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=R(M)}function u(M,R){this.h=R;for(var P=[],w=!0,O=M.length-1;0<=O;O--){var C=M[O]|0;w&&C==R||(P[O]=C,w=!1)}this.g=P}var h={};function f(M){return-128<=M&&128>M?o(M,function(R){return new u([R|0],0>R?-1:0)}):new u([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return x(d(-M));for(var R=[],P=1,w=0;M>=P;w++)R[w]=M/P|0,P*=4294967296;return new u(R,0)}function g(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return x(g(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=d(Math.pow(R,8)),w=_,O=0;O<M.length;O+=8){var C=Math.min(8,M.length-O),D=parseInt(M.substring(O,O+C),R);8>C?(C=d(Math.pow(R,C)),w=w.j(C).add(d(D))):(w=w.j(P),w=w.add(d(D)))}return w}var _=f(0),v=f(1),T=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-x(this).m();for(var M=0,R=1,P=0;P<this.g.length;P++){var w=this.i(P);M+=(0<=w?w:4294967296+w)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(b(this))return"0";if(A(this))return"-"+x(this).toString(M);for(var R=d(Math.pow(M,6)),P=this,w="";;){var O=H(P,R).g;P=U(P,O.j(R));var C=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=O,b(P))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function b(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=U(this,M),A(M)?-1:b(M)?0:1};function x(M){for(var R=M.g.length,P=[],w=0;w<R;w++)P[w]=~M.g[w];return new u(P,~M.h).add(v)}n.abs=function(){return A(this)?x(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],w=0,O=0;O<=R;O++){var C=w+(this.i(O)&65535)+(M.i(O)&65535),D=(C>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);w=D>>>16,C&=65535,D&=65535,P[O]=D<<16|C}return new u(P,P[P.length-1]&-2147483648?-1:0)};function U(M,R){return M.add(x(R))}n.j=function(M){if(b(this)||b(M))return _;if(A(this))return A(M)?x(this).j(x(M)):x(x(this).j(M));if(A(M))return x(this.j(x(M)));if(0>this.l(T)&&0>M.l(T))return d(this.m()*M.m());for(var R=this.g.length+M.g.length,P=[],w=0;w<2*R;w++)P[w]=0;for(w=0;w<this.g.length;w++)for(var O=0;O<M.g.length;O++){var C=this.i(w)>>>16,D=this.i(w)&65535,se=M.i(O)>>>16,B=M.i(O)&65535;P[2*w+2*O]+=D*B,L(P,2*w+2*O),P[2*w+2*O+1]+=C*B,L(P,2*w+2*O+1),P[2*w+2*O+1]+=D*se,L(P,2*w+2*O+1),P[2*w+2*O+2]+=C*se,L(P,2*w+2*O+2)}for(w=0;w<R;w++)P[w]=P[2*w+1]<<16|P[2*w];for(w=R;w<2*R;w++)P[w]=0;return new u(P,0)};function L(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function V(M,R){this.g=M,this.h=R}function H(M,R){if(b(R))throw Error("division by zero");if(b(M))return new V(_,_);if(A(M))return R=H(x(M),R),new V(x(R.g),x(R.h));if(A(R))return R=H(M,x(R)),new V(x(R.g),R.h);if(30<M.g.length){if(A(M)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var P=v,w=R;0>=w.l(M);)P=F(P),w=F(w);var O=K(P,1),C=K(w,1);for(w=K(w,2),P=K(P,2);!b(w);){var D=C.add(w);0>=D.l(M)&&(O=O.add(P),C=D),w=K(w,1),P=K(P,1)}return R=U(M,O.j(R)),new V(O,R)}for(O=_;0<=M.l(R);){for(P=Math.max(1,Math.floor(M.m()/R.m())),w=Math.ceil(Math.log(P)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=d(P),D=C.j(R);A(D)||0<D.l(M);)P-=w,C=d(P),D=C.j(R);b(C)&&(C=v),O=O.add(C),M=U(M,D)}return new V(O,M)}n.A=function(M){return H(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],w=0;w<R;w++)P[w]=this.i(w)&M.i(w);return new u(P,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],w=0;w<R;w++)P[w]=this.i(w)|M.i(w);return new u(P,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],w=0;w<R;w++)P[w]=this.i(w)^M.i(w);return new u(P,this.h^M.h)};function F(M){for(var R=M.g.length+1,P=[],w=0;w<R;w++)P[w]=M.i(w)<<1|M.i(w-1)>>>31;return new u(P,M.h)}function K(M,R){var P=R>>5;R%=32;for(var w=M.g.length-P,O=[],C=0;C<w;C++)O[C]=0<R?M.i(C+P)>>>R|M.i(C+P+1)<<32-R:M.i(C+P);return new u(O,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HP=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,La=u}).apply(typeof pR<"u"?pR:typeof self<"u"?self:typeof window<"u"?window:{});var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $P,Td,GP,Hm,eE,KP,WP,QP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tm=="object"&&Tm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var Y=p[k];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],k=S[p],E=E(k),E!=k&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,k=!1,Y={next:function(){if(!k&&S<p.length){var ae=S++;return{value:E(ae,p[ae]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function d(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function b(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(k,Y,ae){for(var _e=Array(arguments.length-2),We=2;We<arguments.length;We++)_e[We-2]=arguments[We];return E.prototype[Y].apply(k,_e)}}function A(p){const E=p.length;if(0<E){const S=Array(E);for(let k=0;k<E;k++)S[k]=p[k];return S}return[]}function x(p,E){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(f(k)){const Y=p.length||0,ae=k.length||0;p.length=Y+ae;for(let _e=0;_e<ae;_e++)p[Y+_e]=k[_e]}else p.push(k)}}class U{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function L(p){return/^[\s\xa0]*$/.test(p)}function V(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var F=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function K(p,E,S){for(const k in p)E.call(S,p[k],k,p)}function M(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function R(p){const E={};for(const S in p)E[S]=p[S];return E}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(p,E){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)p[S]=k[S];for(let ae=0;ae<P.length;ae++)S=P[ae],Object.prototype.hasOwnProperty.call(k,S)&&(p[S]=k[S])}}function O(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function C(p){h.setTimeout(()=>{throw p},0)}function D(){var p=be;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class se{constructor(){this.h=this.g=null}add(E,S){const k=B.get();k.set(E,S),this.h?this.h.next=k:this.g=k,this.h=k}}var B=new U(()=>new $,p=>p.reset());class ${constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let J,le=!1,be=new se,q=()=>{const p=h.Promise.resolve(void 0);J=()=>{p.then(re)}};var re=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){C(S)}var E=B;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}le=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function ke(p,E){if(me.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(F){e:{try{H(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}b(ke,me);var xe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),rt=0;function Nr(p,E,S,k,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!k,this.ha=Y,this.key=++rt,this.da=this.fa=!1}function mi(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function kr(p){this.src=p,this.g={},this.h=0}kr.prototype.add=function(p,E,S,k,Y){var ae=p.toString();p=this.g[ae],p||(p=this.g[ae]=[],this.h++);var _e=Un(p,E,k,Y);return-1<_e?(E=p[_e],S||(E.fa=!1)):(E=new Nr(E,this.src,ae,!!k,Y),E.fa=S,p.push(E)),E};function pr(p,E){var S=E.type;if(S in p.g){var k=p.g[S],Y=Array.prototype.indexOf.call(k,E,void 0),ae;(ae=0<=Y)&&Array.prototype.splice.call(k,Y,1),ae&&(mi(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Un(p,E,S,k){for(var Y=0;Y<p.length;++Y){var ae=p[Y];if(!ae.da&&ae.listener==E&&ae.capture==!!S&&ae.ha==k)return Y}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),co={};function Nl(p,E,S,k,Y){if(Array.isArray(E)){for(var ae=0;ae<E.length;ae++)Nl(p,E[ae],S,k,Y);return null}return S=ei(S),p&&p[Gt]?p.K(E,S,d(k)?!!k.capture:!1,Y):rr(p,E,S,!1,k,Y)}function rr(p,E,S,k,Y,ae){if(!E)throw Error("Invalid event type");var _e=d(Y)?!!Y.capture:!!Y,We=Tt(p);if(We||(p[Zr]=We=new kr(p)),S=We.add(E,S,k,_e,ae),S.proxy)return S;if(k=qc(),S.proxy=k,k.src=p,k.listener=S,p.addEventListener)Te||(Y=_e),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),k,Y);else if(p.attachEvent)p.attachEvent(Fe(E.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function qc(){function p(S){return E.call(p.src,p.listener,S)}const E=vt;return p}function ho(p,E,S,k,Y){if(Array.isArray(E))for(var ae=0;ae<E.length;ae++)ho(p,E[ae],S,k,Y);else k=d(k)?!!k.capture:!!k,S=ei(S),p&&p[Gt]?(p=p.i,E=String(E).toString(),E in p.g&&(ae=p.g[E],S=Un(ae,S,k,Y),-1<S&&(mi(ae[S]),Array.prototype.splice.call(ae,S,1),ae.length==0&&(delete p.g[E],p.h--)))):p&&(p=Tt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Un(E,S,k,Y)),(S=-1<p?E[p]:null)&&ns(S))}function ns(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Gt])pr(E.i,p);else{var S=p.type,k=p.proxy;E.removeEventListener?E.removeEventListener(S,k,p.capture):E.detachEvent?E.detachEvent(Fe(S),k):E.addListener&&E.removeListener&&E.removeListener(k),(S=Tt(E))?(pr(S,p),S.h==0&&(S.src=null,E[Zr]=null)):mi(p)}}}function Fe(p){return p in co?co[p]:co[p]="on"+p}function vt(p,E){if(p.da)p=!0;else{E=new ke(E,this);var S=p.listener,k=p.ha||p.src;p.fa&&ns(p),p=S.call(k,E)}return p}function Tt(p){return p=p[Zr],p instanceof kr?p:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ei(p){return typeof p=="function"?p:(p[gi]||(p[gi]=function(E){return p.handleEvent(E)}),p[gi])}function st(){ge.call(this),this.i=new kr(this),this.M=this,this.F=null}b(st,ge),st.prototype[Gt]=!0,st.prototype.removeEventListener=function(p,E,S,k){ho(this,p,E,S,k)};function Ue(p,E){var S,k=p.F;if(k)for(S=[];k;k=k.F)S.push(k);if(p=p.M,k=E.type||E,typeof E=="string")E=new me(E,p);else if(E instanceof me)E.target=E.target||p;else{var Y=E;E=new me(k,p),w(E,Y)}if(Y=!0,S)for(var ae=S.length-1;0<=ae;ae--){var _e=E.g=S[ae];Y=Kt(_e,k,!0,E)&&Y}if(_e=E.g=p,Y=Kt(_e,k,!0,E)&&Y,Y=Kt(_e,k,!1,E)&&Y,S)for(ae=0;ae<S.length;ae++)_e=E.g=S[ae],Y=Kt(_e,k,!1,E)&&Y}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],k=0;k<S.length;k++)mi(S[k]);delete p.g[E],p.h--}}this.F=null},st.prototype.K=function(p,E,S,k){return this.i.add(String(p),E,!1,S,k)},st.prototype.L=function(p,E,S,k){return this.i.add(String(p),E,!0,S,k)};function Kt(p,E,S,k){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,ae=0;ae<E.length;++ae){var _e=E[ae];if(_e&&!_e.da&&_e.capture==S){var We=_e.listener,pn=_e.ha||_e.src;_e.fa&&pr(p.i,_e),Y=We.call(pn,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function tn(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function Zf(p){p.g=tn(()=>{p.g=null,p.i&&(p.i=!1,Zf(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class r_ extends ge{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Zf(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(p){ge.call(this),this.h=p,this.g={}}b(fo,ge);var po=[];function mo(p){K(p.g,function(E,S){this.g.hasOwnProperty(S)&&ns(E)},p),p.g={}}fo.prototype.N=function(){fo.aa.N.call(this),mo(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ti=h.JSON.stringify,kl=h.JSON.parse,go=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function Hc(){}Hc.prototype.h=null;function $c(p){return p.h||(p.h=p.i())}function Gc(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function is(){me.call(this,"d")}b(is,me);function Kc(){me.call(this,"c")}b(Kc,me);var yi={},Wc=null;function Xs(){return Wc=Wc||new st}yi.La="serverreachability";function Ml(p){me.call(this,yi.La,p)}b(Ml,me);function Js(p){const E=Xs();Ue(E,new Ml(E))}yi.STAT_EVENT="statevent";function ep(p,E){me.call(this,yi.STAT_EVENT,p),this.stat=E}b(ep,me);function St(p){const E=Xs();Ue(E,new ep(E,p))}yi.Ma="timingevent";function fn(p,E){me.call(this,yi.Ma,p),this.size=E}b(fn,me);function nn(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function Mr(){this.g=!0}Mr.prototype.xa=function(){this.g=!1};function Qc(p,E,S,k,Y,ae){p.info(function(){if(p.g)if(ae)for(var _e="",We=ae.split("&"),pn=0;pn<We.length;pn++){var Qe=We[pn].split("=");if(1<Qe.length){var bn=Qe[0];Qe=Qe[1];var mn=bn.split("_");_e=2<=mn.length&&mn[1]=="type"?_e+(bn+"="+Qe+"&"):_e+(bn+"=redacted&")}}else _e=null;else _e=ae;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+E+`
`+S+`
`+_e})}function i_(p,E,S,k,Y,ae,_e){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+E+`
`+S+`
`+ae+" "+_e})}function Zs(p,E,S,k){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+yo(p,S)+(k?" "+k:"")})}function tp(p,E){p.info(function(){return"TIMEOUT: "+E})}Mr.prototype.info=function(){};function yo(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var k=S[p];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var ae=Y[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var _e=1;_e<Y.length;_e++)Y[_e]=""}}}}return ti(S)}catch{return E}}var ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ss={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function vi(){}b(vi,Hc),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},_i=new vi;function Wn(p,E,S,k){this.j=p,this.i=E,this.l=S,this.R=k||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wt}function Wt(){this.i=null,this.g="",this.h=!1}var Yc={},Vl={};function ni(p,E,S){p.L=1,p.v=wo(mr(E)),p.m=S,p.P=!0,as(p,null)}function as(p,E){p.F=Date.now(),_o(p),p.A=mr(p.v);var S=p.A,k=p.R;Array.isArray(k)||(k=[String(k)]),nh(S.i,"t",k),p.C=0,S=p.j.J,p.h=new Wt,p.g=yp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new r_(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,k=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(po[0]=Y.toString()),Y=po);for(var ae=0;ae<Y.length;ae++){var _e=Nl(S,Y[ae],k||E.handleEvent,!1,E.h||E);if(!_e)break;E.g[_e.key]=_e}E=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Js(),Qc(p.i,p.u,p.A,p.l,p.R,p.m)}Wn.prototype.ca=function(p){p=p.target;const E=this.M;E&&Br(p)==3?E.j():this.Y(p)},Wn.prototype.Y=function(p){try{if(p==this.g)e:{const mn=Br(this.g);var E=this.g.Ba();const ps=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||up(this.g)))){this.J||mn!=4||E==7||(E==8||0>=ps?Js(3):Js(2)),ta(this);var S=this.g.Z();this.X=S;t:if(np(this)){var k=up(this.g);p="";var Y=k.length,ae=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xn(this),Ei(this);var _e="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(k[E],{stream:!(ae&&E==Y-1)});k.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,i_(this.i,this.u,this.A,this.l,this.R,mn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,pn=this.g;if((We=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(We)){var Qe=We;break t}}Qe=null}if(S=Qe)Zs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vo(this,S);else{this.o=!1,this.s=3,St(12),xn(this),Ei(this);break e}}if(this.P){S=!0;let Pn;for(;!this.J&&this.C<_e.length;)if(Pn=rp(this,_e),Pn==Vl){mn==4&&(this.s=4,St(14),S=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Yc){this.s=4,St(15),Zs(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else Zs(this.i,this.l,Pn,null),vo(this,Pn);if(np(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||_e.length!=0||this.h.h||(this.s=1,St(16),S=!1),this.o=this.o&&S,!S)Zs(this.i,this.l,_e,"[Invalid Chunked Response]"),xn(this),Ei(this);else if(0<_e.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Po(bn),bn.M=!0,St(11))}}else Zs(this.i,this.l,_e,null),vo(this,_e);mn==4&&xn(this),this.o&&!this.J&&(mn==4?pp(this.j,this):(this.o=!1,_o(this)))}else u_(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),xn(this),Ei(this)}}}catch{}finally{}};function np(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function rp(p,E){var S=p.C,k=E.indexOf(`
`,S);return k==-1?Vl:(S=Number(E.substring(S,k)),isNaN(S)?Yc:(k+=1,k+S>E.length?Vl:(E=E.slice(k,k+S),p.C=k+S,E)))}Wn.prototype.cancel=function(){this.J=!0,xn(this)};function _o(p){p.S=Date.now()+p.I,ip(p,p.I)}function ip(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=nn(v(p.ba,p),E)}function ta(p){p.B&&(h.clearTimeout(p.B),p.B=null)}Wn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(tp(this.i,this.A),this.L!=2&&(Js(),St(17)),xn(this),this.s=2,Ei(this)):ip(this,this.S-p)};function Ei(p){p.j.G==0||p.J||pp(p.j,p)}function xn(p){ta(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,mo(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function vo(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||Xc(S.h,p))){if(!p.K&&Xc(S.h,p)&&S.G==3){try{var k=S.Da.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Wl(S),Gl(S);else break e;oh(S),St(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=nn(v(S.Za,S),6e3));if(1>=Ul(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else fs(S,11)}else if((p.K||S.g==p)&&Wl(S),!L(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let Qe=Y[E];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const bn=Qe[3];bn!=null&&(S.la=bn,S.j.info("VER="+S.la));const mn=Qe[4];mn!=null&&(S.Aa=mn,S.j.info("SVER="+S.Aa));const ps=Qe[5];ps!=null&&typeof ps=="number"&&0<ps&&(k=1.5*ps,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const Pn=p.g;if(Pn){const Ri=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var ae=k.h;ae.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Bl(ae,ae.h),ae.h=null))}if(k.D){const uh=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;uh&&(k.ya=uh,ct(k.I,k.D,uh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var _e=p;if(k.qa=gp(k,k.J?k.ia:null,k.W),_e.K){Qn(k.h,_e);var We=_e,pn=k.L;pn&&(We.I=pn),We.B&&(ta(We),_o(We)),k.g=_e}else dp(k);0<S.i.length&&Kl(S)}else Qe[0]!="stop"&&Qe[0]!="close"||fs(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?fs(S,7):sh(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}Js(4)}catch{}}var sp=class{constructor(p,E){this.g=p,this.map=E}};function os(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ll(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ul(p){return p.h?1:p.g?p.g.size:0}function Xc(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Bl(p,E){p.g?p.g.add(E):p.h=E}function Qn(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}os.prototype.cancel=function(){if(this.i=Jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Jc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return A(p.i)}function s_(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var E=[],S=p.length,k=0;k<S;k++)E.push(p[k]);return E}E=[],S=0;for(k in p)E[S++]=p[k];return E}function Fl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const k in p)E[S++]=k;return E}}}function Zc(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=Fl(p),k=s_(p),Y=k.length,ae=0;ae<Y;ae++)E.call(void 0,k[ae],S&&S[ae],p)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a_(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var k=p[S].indexOf("="),Y=null;if(0<=k){var ae=p[S].substring(0,k);Y=p[S].substring(k+1)}else ae=p[S];E(ae,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function rn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof rn){this.h=p.h,bo(this,p.j),this.o=p.o,this.g=p.g,na(this,p.s),this.l=p.l;var E=p.i,S=new us;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),ls(this,S),this.m=p.m}else p&&(E=String(p).match(Eo))?(this.h=!1,bo(this,E[1]||"",!0),this.o=Vr(E[2]||""),this.g=Vr(E[3]||"",!0),na(this,E[4]),this.l=Vr(E[5]||"",!0),ls(this,E[6]||"",!0),this.m=Vr(E[7]||"")):(this.h=!1,this.i=new us(null,this.h))}rn.prototype.toString=function(){var p=[],E=this.j;E&&p.push(To(E,eh,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(To(E,eh,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(To(S,S.charAt(0)=="/"?o_:th,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",To(S,zl)),p.join("")};function mr(p){return new rn(p)}function bo(p,E,S){p.j=S?Vr(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function na(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function ls(p,E,S){E instanceof us?(p.i=E,op(p.i,p.h)):(S||(E=To(E,l_)),p.i=new us(E,p.h))}function ct(p,E,S){p.i.set(E,S)}function wo(p){return ct(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Vr(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function To(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,ap),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ap(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var eh=/[#\/\?@]/g,th=/[#\?:]/g,o_=/[#\?]/g,l_=/[#\?@]/g,zl=/#/g;function us(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Lr(p){p.g||(p.g=new Map,p.h=0,p.i&&a_(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=us.prototype,n.add=function(p,E){Lr(this),this.i=null,p=bi(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function cs(p,E){Lr(p),E=bi(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function hs(p,E){return Lr(p),E=bi(p,E),p.g.has(E)}n.forEach=function(p,E){Lr(this),this.g.forEach(function(S,k){S.forEach(function(Y){p.call(E,Y,k,this)},this)},this)},n.na=function(){Lr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let k=0;k<E.length;k++){const Y=p[k];for(let ae=0;ae<Y.length;ae++)S.push(E[k])}return S},n.V=function(p){Lr(this);let E=[];if(typeof p=="string")hs(this,p)&&(E=E.concat(this.g.get(bi(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return Lr(this),this.i=null,p=bi(this,p),hs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function nh(p,E,S){cs(p,E),0<S.length&&(p.i=null,p.g.set(bi(p,E),A(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var k=E[S];const ae=encodeURIComponent(String(k)),_e=this.V(k);for(k=0;k<_e.length;k++){var Y=ae;_e[k]!==""&&(Y+="="+encodeURIComponent(String(_e[k]))),p.push(Y)}}return this.i=p.join("&")};function bi(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function op(p,E){E&&!p.j&&(Lr(p),p.i=null,p.g.forEach(function(S,k){var Y=k.toLowerCase();k!=Y&&(cs(this,k),nh(this,Y,S))},p)),p.j=E}function So(p,E){const S=new Mr;if(h.Image){const k=new Image;k.onload=T(Ur,S,"TestLoadImage: loaded",!0,E,k),k.onerror=T(Ur,S,"TestLoadImage: error",!1,E,k),k.onabort=T(Ur,S,"TestLoadImage: abort",!1,E,k),k.ontimeout=T(Ur,S,"TestLoadImage: timeout",!1,E,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else E(!1)}function ri(p,E){const S=new Mr,k=new AbortController,Y=setTimeout(()=>{k.abort(),Ur(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:k.signal}).then(ae=>{clearTimeout(Y),ae.ok?Ur(S,"TestPingServer: ok",!0,E):Ur(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Ur(S,"TestPingServer: error",!1,E)})}function Ur(p,E,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function Ao(){this.g=new go}function wi(p,E,S){const k=S||"";try{Zc(p,function(Y,ae){let _e=Y;d(Y)&&(_e=ti(Y)),E.push(k+ae+"="+encodeURIComponent(_e))})}catch(Y){throw E.push(k+"type="+encodeURIComponent("_badmap")),Y}}function ra(p){this.l=p.Ub||null,this.j=p.eb||!1}b(ra,Hc),ra.prototype.g=function(){return new ds(this.l,this.j)},ra.prototype.i=function(p){return function(){return p}}({});function ds(p,E){st.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ds,st),n=ds.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,Si(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function rh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Ti(this):Si(this),this.readyState==3&&rh(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Ti(this))},n.Qa=function(p){this.g&&(this.response=p,Ti(this))},n.ga=function(){this.g&&Ti(this)};function Ti(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Si(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function Si(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ih(p){let E="";return K(p,function(S,k){E+=k,E+=":",E+=S,E+=`\r
`}),E}function En(p,E,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=ih(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):ct(p,E,S))}function it(p){st.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(it,st);var jl=/^https?$/i,Io=["POST","PUT"];n=it.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?$c(this.o):$c(_i),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ae){lp(this,ae);return}if(p=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ae of k.keys())S.set(ae,k.get(ae));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(ae=>ae.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Io,E,void 0))||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,_e]of S)this.g.setRequestHeader(ae,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(p),this.u=!1}catch(ae){lp(this,ae)}};function lp(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,ql(p),Ai(p)}function ql(p){p.A||(p.A=!0,Ue(p,"complete"),Ue(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ue(this,"complete"),Ue(this,"abort"),Ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Hl(this):this.bb())},n.bb=function(){Hl(this)};function Hl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Br(p)!=4||p.Z()!=2)){if(p.u&&Br(p)==4)tn(p.Ea,0,p);else if(Ue(p,"readystatechange"),Br(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var k;if(k=_e===0){var Y=String(p.D).match(Eo)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),k=!jl.test(Y?Y.toLowerCase():"")}S=k}if(S)Ue(p,"complete"),Ue(p,"success");else{p.m=6;try{var ae=2<Br(p)?p.g.statusText:""}catch{ae=""}p.l=ae+" ["+p.Z()+"]",ql(p)}}finally{Ai(p)}}}}function Ai(p,E){if(p.g){Ro(p);const S=p.g,k=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||Ue(p,"ready");try{S.onreadystatechange=k}catch{}}}function Ro(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Br(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),kl(E)}};function up(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function u_(p){const E={};p=(p.g&&2<=Br(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(L(p[k]))continue;var S=O(p[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ae=E[Y]||[];E[Y]=ae,ae.push(S)}M(E,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Co(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function $l(p){this.Aa=0,this.i=[],this.j=new Mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Co("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Co("baseRetryDelayMs",5e3,p),this.cb=Co("retryDelaySeedMs",1e4,p),this.Wa=Co("forwardChannelMaxRetries",2,p),this.wa=Co("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new os(p&&p.concurrentRequestLimit),this.Da=new Ao,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$l.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,k){St(0),this.W=p,this.H=E||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=gp(this,null,this.W),Kl(this)};function sh(p){if(cp(p),p.G==3){var E=p.U++,S=mr(p.I);if(ct(S,"SID",p.K),ct(S,"RID",E),ct(S,"TYPE","terminate"),xo(p,S),E=new Wn(p,p.j,E),E.L=2,E.v=wo(mr(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=yp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),_o(E)}mp(p)}function Gl(p){p.g&&(Po(p),p.g.cancel(),p.g=null)}function cp(p){Gl(p),p.u&&(h.clearTimeout(p.u),p.u=null),Wl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Kl(p){if(!Ll(p.h)&&!p.s){p.s=!0;var E=p.Ga;J||q(),le||(J(),le=!0),be.add(E,p),p.B=0}}function c_(p,E){return Ul(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=nn(v(p.Ga,p,E),lh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new Wn(this,this.j,p);let ae=this.o;if(this.S&&(ae?(ae=R(ae),w(ae,this.S)):ae=this.S),this.m!==null||this.O||(Y.H=ae,ae=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=hp(this,Y,E),S=mr(this.I),ct(S,"RID",p),ct(S,"CVER",22),this.D&&ct(S,"X-HTTP-Session-Id",this.D),xo(this,S),ae&&(this.O?E="headers="+encodeURIComponent(String(ih(ae)))+"&"+E:this.m&&En(S,this.m,ae)),Bl(this.h,Y),this.Ua&&ct(S,"TYPE","init"),this.P?(ct(S,"$req",E),ct(S,"SID","null"),Y.T=!0,ni(Y,S,null)):ni(Y,S,E),this.G=2}}else this.G==3&&(p?ah(this,p):this.i.length==0||Ll(this.h)||ah(this))};function ah(p,E){var S;E?S=E.l:S=p.U++;const k=mr(p.I);ct(k,"SID",p.K),ct(k,"RID",S),ct(k,"AID",p.T),xo(p,k),p.m&&p.o&&En(k,p.m,p.o),S=new Wn(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=hp(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Bl(p.h,S),ni(S,k,E)}function xo(p,E){p.H&&K(p.H,function(S,k){ct(E,k,S)}),p.l&&Zc({},function(S,k){ct(E,k,S)})}function hp(p,E,S){S=Math.min(p.i.length,S);var k=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let ae=-1;for(;;){const _e=["count="+S];ae==-1?0<S?(ae=Y[0].g,_e.push("ofs="+ae)):ae=0:_e.push("ofs="+ae);let We=!0;for(let pn=0;pn<S;pn++){let Qe=Y[pn].g;const bn=Y[pn].map;if(Qe-=ae,0>Qe)ae=Math.max(0,Y[pn].g-100),We=!1;else try{wi(bn,_e,"req"+Qe+"_")}catch{k&&k(bn)}}if(We){k=_e.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,k}function dp(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;J||q(),le||(J(),le=!0),be.add(E,p),p.v=0}}function oh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=nn(v(p.Fa,p),lh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,fp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=nn(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),Gl(this),fp(this))};function Po(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function fp(p){p.g=new Wn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=mr(p.qa);ct(E,"RID","rpc"),ct(E,"SID",p.K),ct(E,"AID",p.T),ct(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&ct(E,"TO",p.ja),ct(E,"TYPE","xmlhttp"),xo(p,E),p.m&&p.o&&En(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=wo(mr(E)),S.m=null,S.P=!0,as(S,p)}n.Za=function(){this.C!=null&&(this.C=null,Gl(this),oh(this),St(19))};function Wl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function pp(p,E){var S=null;if(p.g==E){Wl(p),Po(p),p.g=null;var k=2}else if(Xc(p.h,E))S=E.D,Qn(p.h,E),k=1;else return;if(p.G!=0){if(E.o)if(k==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;k=Xs(),Ue(k,new fn(k,S)),Kl(p)}else dp(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(k==1&&c_(p,E)||k==2&&oh(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:fs(p,5);break;case 4:fs(p,10);break;case 3:fs(p,6);break;default:fs(p,2)}}}function lh(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function fs(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),k=p.Xa;const Y=!k;k=new rn(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||bo(k,"https"),wo(k),Y?So(k.toString(),S):ri(k.toString(),S)}else St(2);p.G=0,p.l&&p.l.sa(E),mp(p),cp(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function mp(p){if(p.G=0,p.ka=[],p.l){const E=Jc(p.h);(E.length!=0||p.i.length!=0)&&(x(p.ka,E),x(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function gp(p,E,S){var k=S instanceof rn?mr(S):new rn(S);if(k.g!="")E&&(k.g=E+"."+k.g),na(k,k.s);else{var Y=h.location;k=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var ae=new rn(null);k&&bo(ae,k),E&&(ae.g=E),Y&&na(ae,Y),S&&(ae.l=S),k=ae}return S=p.D,E=p.ya,S&&E&&ct(k,S,E),ct(k,"VER",p.la),xo(p,k),k}function yp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new it(new ra({eb:S})):new it(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _p(){}n=_p.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ql(){}Ql.prototype.g=function(p,E){return new Yn(p,E)};function Yn(p,E){st.call(this),this.g=new $l(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!L(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Ii(this)}b(Yn,st),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){sh(this.g)},Yn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=ti(p),p=S);E.i.push(new sp(E.Ya++,p)),E.G==3&&Kl(E)},Yn.prototype.N=function(){this.g.l=null,delete this.j,sh(this.g),delete this.g,Yn.aa.N.call(this)};function vp(p){is.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}b(vp,is);function Ep(){Kc.call(this),this.status=1}b(Ep,Kc);function Ii(p){this.g=p}b(Ii,_p),Ii.prototype.ua=function(){Ue(this.g,"a")},Ii.prototype.ta=function(p){Ue(this.g,new vp(p))},Ii.prototype.sa=function(p){Ue(this.g,new Ep)},Ii.prototype.ra=function(){Ue(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,QP=function(){return new Ql},WP=function(){return Xs()},KP=yi,eE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,Hm=ea,ss.COMPLETE="complete",GP=ss,Gc.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",st.prototype.listen=st.prototype.K,Td=Gc,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,$P=it}).apply(typeof Tm<"u"?Tm:typeof self<"u"?self:typeof window<"u"?window:{});const mR="@firebase/firestore",gR="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let In=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Xg("@firebase/firestore");function Lu(){return Ha.logLevel}function lB(n){Ha.setLogLevel(n)}function pe(n,...e){if(Ha.logLevel<=He.DEBUG){const t=e.map(Pb);Ha.debug(`Firestore (${Pc}): ${n}`,...t)}}function Xt(n,...e){if(Ha.logLevel<=He.ERROR){const t=e.map(Pb);Ha.error(`Firestore (${Pc}): ${n}`,...t)}}function Xi(n,...e){if(Ha.logLevel<=He.WARN){const t=e.map(Pb);Ha.warn(`Firestore (${Pc}): ${n}`,...t)}}function Pb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,YP(n,r,t)}function YP(n,e,t){let r=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xt(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||YP(e,i,r)}function uB(n,e){n||we(57014,e)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends er{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class hB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dB{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ln,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ln)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new XP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class fB{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pB{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new fB(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mB{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ct(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new yR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=gB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function tE(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return De(r,i);{const o=Ob(),u=yB(o.encode(_R(n,t)),o.encode(_R(e,t)));return u!==0?u:De(r,i)}}t+=r>65535?2:1}return De(n.length,e.length)}function _R(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function yB(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function nc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function ZP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=-62135596800,ER=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ER);return new Ot(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vR)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ER}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ot(0,0))}static max(){return new Ie(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="__name__";class Mi{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&we(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Mi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return De(e.length,t.length)}static compareSegments(e,t){const r=Mi.isNumericId(e),i=Mi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Mi.extractNumericId(e).compare(Mi.extractNumericId(t)):tE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class $e extends Mi{construct(e,t,r){return new $e(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new $e(t)}static emptyPath(){return new $e([])}}const _B=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Mi{construct(e,t,r){return new xt(e,t,r)}static isValidIdentifier(e){return _B.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bR}static keyField(){return new xt([bR])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(t)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve($e.fromString(e))}static fromName(e){return new ve($e.fromString(e).popFirst(5))}static empty(){return new ve($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;class Tg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function nE(n){return n.fields.find(e=>e.kind===2)}function Wo(n){return n.fields.filter(e=>e.kind!==2)}Tg.UNKNOWN_ID=-1;class $m{constructor(e,t){this.fieldPath=e,this.kind=t}}class Zd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Zd(0,Dr.min())}}function eO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Ot(t+1,0):new Ot(t,r));return new Dr(i,ve.empty(),e)}function tO(n){return new Dr(n.readTime,n.key,rc)}class Dr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Dr(Ie.min(),ve.empty(),rc)}static max(){return new Dr(Ie.max(),ve.empty(),rc)}}function Db(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==nO)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},f=>r(f))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next(g=>{u[d]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="SimpleDb";class cy{static open(e,t,r,i){try{return new cy(t,e.transaction(i,r))}catch(o){throw new kd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Ln,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new kd(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Nb(r.target.error);this.S.reject(new kd(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(Ar,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new EB(t)}}class Gi{static delete(e){return pe(Ar,"Removing database:",e),Jo(ab().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Kd())return!1;if(Gi.F())return!0;const e=Lt(),t=Gi.M(e),r=0<t&&t<10,i=iO(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,Gi.M(Lt())===12.2&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(pe(Ar,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new kd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new fe(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new fe(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new kd(e,u))},i.onupgradeneeded=o=>{pe(Ar,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${u.version}`);this.B.q(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(Ar,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const h=cy.open(this.db,e,o?"readonly":"readwrite",r),f=i(h).next(d=>(h.v(),d)).catch(d=>(h.abort(d),X.reject(d))).toPromise();return f.catch(()=>{}),await h.D,f}catch(h){const f=h,d=f.name!=="FirebaseError"&&u<3;if(pe(Ar,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function iO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class vB{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Jo(this.K.delete())}}class kd extends fe{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ao(n){return n.name==="IndexedDbTransactionError"}class EB{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(Ar,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(Ar,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Jo(r)}add(e){return pe(Ar,"ADD",this.store.name,e,e),Jo(this.store.add(e))}get(e){return Jo(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(Ar,"GET",this.store.name,e,t),t))}delete(e){return pe(Ar,"DELETE",this.store.name,e),Jo(this.store.delete(e))}count(){return pe(Ar,"COUNT",this.store.name),Jo(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}{const o=this.cursor(r),u=[];return this.Y(o,(h,f)=>{u.push(f)}).next(()=>u)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}X(e,t){pe(Ar,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const i=this.cursor(r);return this.Y(i,(o,u,h)=>h.delete())}te(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Y(i,t)}ne(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=Nb(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Y(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const f=new vB(h),d=t(h.primaryKey,h.value,f);if(d instanceof X){const g=d.catch(_=>(f.done(),X.reject(_)));r.push(g)}f.isDone?i():f.j===null?h.continue():h.continue(f.j)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Jo(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Nb(r.target.error);t(i)}})}let wR=!1;function Nb(n){const e=Gi.M(Lt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wR||(wR=!0,setTimeout(()=>{throw r},0)),r}}return n}const Md="IndexBackfiller";class bB{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){pe(Md,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();pe(Md,`Documents written: ${t}`)}catch(t){ao(t)?pe(Md,"Ignoring IndexedDB error during index backfill: ",t):await so(t)}await this.ie(6e4)})}}class wB{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(Md,`Processing collection: ${u}`),this._e(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ae(i,o)).next(h=>(pe(Md,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ae(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=tO(o);Db(u,r)>0&&(r=u)}),new Dr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}lr.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=-1;function Nf(n){return n==null}function ef(n){return n===0&&1/n==-1/0}function sO(n){return typeof n=="number"&&Number.isInteger(n)&&!ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="";function Gn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TR(e)),e=TB(n.get(t),e);return TR(e)}function TB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case Sg:t+="";break;default:t+=o}}return t}function TR(n){return n+Sg+""}function Hi(n){const e=n.length;if(Ae(e>=2,64408,{path:n}),e===2)return Ae(n.charAt(0)===Sg&&n.charAt(1)==="",56145,{path:n}),$e.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(Sg,o);switch((u<0||u>t)&&we(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;i.length===0?f=h:(i+=h,f=i,i=""),r.push(f);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:we(61167,{path:n})}o=u+2}return new $e(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="remoteDocuments",kf="owner",Au="owner",tf="mutationQueues",SB="userId",ui="mutations",SR="batchId",il="userMutationsIndex",AR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(n,e){return[n,Gn(e)]}function aO(n,e,t){return[n,Gn(e),t]}const AB={},ic="documentMutations",Ag="remoteDocumentsV14",IB=["prefixPath","collectionGroup","readTime","documentId"],Km="documentKeyIndex",RB=["prefixPath","collectionGroup","documentId"],oO="collectionGroupIndex",CB=["collectionGroup","readTime","prefixPath","documentId"],nf="remoteDocumentGlobal",rE="remoteDocumentGlobalKey",sc="targets",lO="queryTargetsIndex",xB=["canonicalId","targetId"],ac="targetDocuments",PB=["targetId","path"],kb="documentTargetsIndex",OB=["path","targetId"],Ig="targetGlobalKey",cl="targetGlobal",rf="collectionParents",DB=["collectionId","parent"],oc="clientMetadata",NB="clientId",hy="bundles",kB="bundleId",dy="namedQueries",MB="name",Mb="indexConfiguration",VB="indexId",iE="collectionGroupIndex",LB="collectionGroup",Vd="indexState",UB=["indexId","uid"],uO="sequenceNumberIndex",BB=["uid","sequenceNumber"],Ld="indexEntries",FB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cO="documentKeyIndex",zB=["indexId","uid","orderedDocumentKey"],fy="documentOverlays",jB=["userId","collectionPath","documentId"],sE="collectionPathOverlayIndex",qB=["userId","collectionPath","largestBatchId"],hO="collectionGroupOverlayIndex",HB=["userId","collectionGroup","largestBatchId"],Vb="globals",$B="name",dO=[tf,ui,ic,Qo,sc,kf,cl,ac,oc,nf,rf,hy,dy],GB=[...dO,fy],fO=[tf,ui,ic,Ag,sc,kf,cl,ac,oc,nf,rf,hy,dy,fy],pO=fO,Lb=[...pO,Mb,Vd,Ld],KB=Lb,mO=[...Lb,Vb],WB=mO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends rO{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function vn(n,e){const t=Ee(n);return Gi.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function oo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sm(this.root,e,this.comparator,!0)}}class Sm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new kn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new RR(this.data.getIterator())}getIteratorFrom(e){return new RR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ut(this.comparator);return t.data=e,t}}class RR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Iu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new ur([])}unionWith(e){let t=new ut(xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yO("Invalid base64 string: "+o):o}}(e);return new qt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const YB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(n){if(Ae(!!n,39018),typeof n=="string"){let e=0;const t=YB.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="server_timestamp",vO="__type__",EO="__previous_value__",bO="__local_write_time__";function py(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vO])===null||t===void 0?void 0:t.stringValue)===_O}function my(n){const e=n.mapValue.fields[EO];return py(e)?my(e):e}function sf(n){const e=Fs(n.mapValue.fields[bO].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,t,r,i,o,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const oE="(default)";class $a{constructor(e,t){this.projectId=e,this.database=t||oE}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database===oE}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="__type__",wO="__max__",Da={mapValue:{fields:{__type__:{stringValue:wO}}}},Bb="__vector__",lc="value",Wm={nullValue:"NULL_VALUE"};function Ga(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?py(n)?4:TO(n)?9007199254740991:gy(n)?10:11:we(28295,{value:n})}function Ji(n,e){if(n===e)return!0;const t=Ga(n);if(t!==Ga(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sf(n).isEqual(sf(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Fs(i.timestampValue),h=Fs(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return zs(i.bytesValue).isEqual(zs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Rt(i.geoPointValue.latitude)===Rt(o.geoPointValue.latitude)&&Rt(i.geoPointValue.longitude)===Rt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Rt(i.integerValue)===Rt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=Rt(i.doubleValue),h=Rt(o.doubleValue);return u===h?ef(u)===ef(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return nc(n.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(IR(u)!==IR(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ji(u[f],h[f])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function af(n,e){return(n.values||[]).find(t=>Ji(t,e))!==void 0}function Ka(n,e){if(n===e)return 0;const t=Ga(n),r=Ga(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Rt(o.integerValue||o.doubleValue),f=Rt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return CR(n.timestampValue,e.timestampValue);case 4:return CR(sf(n),sf(e));case 5:return tE(n.stringValue,e.stringValue);case 6:return function(o,u){const h=zs(o),f=zs(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=De(h[d],f[d]);if(g!==0)return g}return De(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=De(Rt(o.latitude),Rt(u.latitude));return h!==0?h:De(Rt(o.longitude),Rt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xR(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,d,g;const _=o.fields||{},v=u.fields||{},T=(h=_[lc])===null||h===void 0?void 0:h.arrayValue,b=(f=v[lc])===null||f===void 0?void 0:f.arrayValue,A=De(((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0,((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:xR(T,b)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Da.mapValue&&u===Da.mapValue)return 0;if(o===Da.mapValue)return 1;if(u===Da.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const v=tE(f[_],g[_]);if(v!==0)return v;const T=Ka(h[f[_]],d[g[_]]);if(T!==0)return T}return De(f.length,g.length)}(n.mapValue,e.mapValue);default:throw we(23264,{Pe:t})}}function CR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Fs(n),r=Fs(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function xR(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ka(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function uc(n){return lE(n)}function lE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=lE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${lE(t.fields[u])}`;return i+"}"}(n.mapValue):we(61005,{value:n})}function Qm(n){switch(Ga(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=my(n);return e?16+Qm(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Qm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return oo(r.fields,(o,u)=>{i+=o.length+Qm(u)}),i}(n.mapValue);default:throw we(13486,{value:n})}}function pl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uE(n){return!!n&&"integerValue"in n}function of(n){return!!n&&"arrayValue"in n}function PR(n){return!!n&&"nullValue"in n}function OR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ym(n){return!!n&&"mapValue"in n}function gy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ub])===null||t===void 0?void 0:t.stringValue)===Bb}function Ud(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return oo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ud(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ud(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wO}const SO={mapValue:{fields:{[Ub]:{stringValue:Bb},[lc]:{arrayValue:{}}}}};function JB(n){return"nullValue"in n?Wm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?pl($a.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?gy(n)?SO:{mapValue:{}}:we(35942,{value:n})}function ZB(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?pl($a.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?SO:"mapValue"in n?gy(n)?{mapValue:{}}:Da:we(61959,{value:n})}function DR(n,e){const t=Ka(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function NR(n,e){const t=Ka(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ym(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ud(t)}setAll(e){let t=xt.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Ud(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Ym(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ym(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){oo(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Vn(Ud(this.value))}}function AO(n){const e=[];return oo(n.fields,(t,r)=>{const i=new xt([t]);if(Ym(r)){const o=AO(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new wt(e,0,Ie.min(),Ie.min(),Ie.min(),Vn.empty(),0)}static newFoundDocument(e,t,r,i){return new wt(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new wt(e,2,t,Ie.min(),Ie.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new wt(e,3,t,Ie.min(),Ie.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t){this.position=e,this.inclusive=t}}function kR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=Ka(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function MR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t="asc"){this.field=e,this.dir=t}}function e9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{}class Ge extends IO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new t9(e,t,r):t==="array-contains"?new i9(e,r):t==="in"?new DO(e,r):t==="not-in"?new s9(e,r):t==="array-contains-any"?new a9(e,r):new Ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new n9(e,r):new r9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ka(t,this.value)):t!==null&&Ga(this.value)===Ga(t)&&this.matchesComparison(Ka(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends IO{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new lt(e,t)}matches(e){return cc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cc(n){return n.op==="and"}function cE(n){return n.op==="or"}function Fb(n){return RO(n)&&cc(n)}function RO(n){for(const e of n.filters)if(e instanceof lt)return!1;return!0}function hE(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+uc(n.value);if(Fb(n))return n.filters.map(e=>hE(e)).join(",");{const e=n.filters.map(t=>hE(t)).join(",");return`${n.op}(${e})`}}function CO(n,e){return n instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Ji(r.value,i.value)}(n,e):n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&CO(u,i.filters[h]),!0):!1}(n,e):void we(19439)}function xO(n,e){const t=n.filters.concat(e);return lt.create(t,n.op)}function PO(n){return n instanceof Ge?function(t){return`${t.field.canonicalString()} ${t.op} ${uc(t.value)}`}(n):n instanceof lt?function(t){return t.op.toString()+" {"+t.getFilters().map(PO).join(" ,")+"}"}(n):"Filter"}class t9 extends Ge{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class n9 extends Ge{constructor(e,t){super(e,"in",t),this.keys=OO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r9 extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=OO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function OO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class i9 extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return of(t)&&af(t.arrayValue,this.value)}}class DO extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&af(this.value.arrayValue,t)}}class s9 extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!af(this.value.arrayValue,t)}}class a9 extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!of(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>af(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function dE(n,e=null,t=[],r=[],i=null,o=null,u=null){return new o9(n,e,t,r,i,o,u)}function ml(n){const e=Ee(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>hE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uc(r)).join(",")),e.Ie=t}return e.Ie}function Mf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!e9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MR(n.startAt,e.startAt)&&MR(n.endAt,e.endAt)}function Rg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Cg(n,e){return n.filters.filter(t=>t instanceof Ge&&t.field.isEqual(e))}function VR(n,e,t){let r=Wm,i=!0;for(const o of Cg(n,e)){let u=Wm,h=!0;switch(o.op){case"<":case"<=":u=JB(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Wm}DR({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];DR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function LR(n,e,t){let r=Da,i=!0;for(const o of Cg(n,e)){let u=Da,h=!0;switch(o.op){case">=":case">":u=ZB(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Da}NR({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];NR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function NO(n,e,t,r,i,o,u,h){return new Ks(n,e,t,r,i,o,u,h)}function Oc(n){return new Ks(n)}function UR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zb(n){return n.collectionGroup!==null}function Ku(n){const e=Ee(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ut(xt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new lf(o,r))}),t.has(xt.keyField().canonicalString())||e.Ee.push(new lf(xt.keyField(),r))}return e.Ee}function tr(n){const e=Ee(n);return e.de||(e.de=l9(e,Ku(n))),e.de}function l9(n,e){if(n.limitType==="F")return dE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new lf(i.field,o)});const t=n.endAt?new Wa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Wa(n.startAt.position,n.startAt.inclusive):null;return dE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function fE(n,e){const t=n.filters.concat([e]);return new Ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xg(n,e,t){return new Ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vf(n,e){return Mf(tr(n),tr(e))&&n.limitType===e.limitType}function kO(n){return`${ml(tr(n))}|lt:${n.limitType}`}function Uu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>PO(i)).join(", ")}]`),Nf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>uc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>uc(i)).join(",")),`Target(${r})`}(tr(n))}; limitType=${n.limitType})`}function Lf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Ku(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,f){const d=kR(u,h,f);return u.inclusive?d<=0:d<0}(r.startAt,Ku(r),i)||r.endAt&&!function(u,h,f){const d=kR(u,h,f);return u.inclusive?d>=0:d>0}(r.endAt,Ku(r),i))}(n,e)}function MO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VO(n){return(e,t)=>{let r=!1;for(const i of Ku(n)){const o=u9(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function u9(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Ka(f,d):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=new bt(ve.comparator);function cr(){return c9}const LO=new bt(ve.comparator);function Sd(...n){let e=LO;for(const t of n)e=e.insert(t.key,t);return e}function UO(n){let e=LO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $i(){return Bd()}function BO(){return Bd()}function Bd(){return new Ws(n=>n.toString(),(n,e)=>n.isEqual(e))}const h9=new bt(ve.comparator),d9=new ut(ve.comparator);function Ve(...n){let e=d9;for(const t of n)e=e.add(t);return e}const f9=new ut(De);function jb(){return f9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function FO(n){return{integerValue:""+n}}function zO(n,e){return sO(e)?FO(e):qb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this._=void 0}}function p9(n,e,t){return n instanceof hc?function(i,o){const u={fields:{[vO]:{stringValue:_O},[bO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&py(o)&&(o=my(o)),o&&(u.fields[EO]=o),{mapValue:u}}(t,e):n instanceof gl?qO(n,e):n instanceof yl?HO(n,e):function(i,o){const u=jO(i,o),h=BR(u)+BR(i.Re);return uE(u)&&uE(i.Re)?FO(h):qb(i.serializer,h)}(n,e)}function m9(n,e,t){return n instanceof gl?qO(n,e):n instanceof yl?HO(n,e):t}function jO(n,e){return n instanceof dc?function(r){return uE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class hc extends yy{}class gl extends yy{constructor(e){super(),this.elements=e}}function qO(n,e){const t=$O(e);for(const r of n.elements)t.some(i=>Ji(i,r))||t.push(r);return{arrayValue:{values:t}}}class yl extends yy{constructor(e){super(),this.elements=e}}function HO(n,e){let t=$O(e);for(const r of n.elements)t=t.filter(i=>!Ji(i,r));return{arrayValue:{values:t}}}class dc extends yy{constructor(e,t){super(),this.serializer=e,this.Re=t}}function BR(n){return Rt(n.integerValue||n.doubleValue)}function $O(n){return of(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this.field=e,this.transform=t}}function g9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof gl&&i instanceof gl||r instanceof yl&&i instanceof yl?nc(r.elements,i.elements,Ji):r instanceof dc&&i instanceof dc?Ji(r.Re,i.Re):r instanceof hc&&i instanceof hc}(n.transform,e.transform)}class y9{constructor(e,t){this.version=e,this.transformResults=t}}class Pt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pt}static exists(e){return new Pt(void 0,e)}static updateTime(e){return new Pt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _y{}function GO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nc(n.key,Pt.none()):new Dc(n.key,n.data,Pt.none());{const t=n.data,r=Vn.empty();let i=new ut(xt.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Qs(n.key,r,new ur(i.toArray()),Pt.none())}}function _9(n,e,t){n instanceof Dc?function(i,o,u){const h=i.value.clone(),f=zR(i.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Qs?function(i,o,u){if(!Xm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=zR(i.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(KO(i)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Fd(n,e,t,r){return n instanceof Dc?function(o,u,h,f){if(!Xm(o.precondition,u))return h;const d=o.value.clone(),g=jR(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qs?function(o,u,h,f){if(!Xm(o.precondition,u))return h;const d=jR(o.fieldTransforms,f,u),g=u.data;return g.setAll(KO(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return Xm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function v9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=jO(r.transform,i||null);o!=null&&(t===null&&(t=Vn.empty()),t.set(r.field,o))}return t||null}function FR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nc(r,i,(o,u)=>g9(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dc extends _y{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qs extends _y{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function zR(n,e,t){const r=new Map;Ae(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,m9(u,h,t[i]))}return r}function jR(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,p9(o,u,e))}return r}class Nc extends _y{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hb extends _y{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&_9(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=BO();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const f=GO(u,h);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,(t,r)=>FR(t,r))&&nc(this.baseMutations,e.baseMutations,(t,r)=>FR(t,r))}}class Gb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return h9}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Gb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,Xe;function WO(n){switch(n){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function QO(n){if(n===void 0)return Xt("GRPC error has no .code"),ie.UNKNOWN;switch(n){case ln.OK:return ie.OK;case ln.CANCELLED:return ie.CANCELLED;case ln.UNKNOWN:return ie.UNKNOWN;case ln.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case ln.INTERNAL:return ie.INTERNAL;case ln.UNAVAILABLE:return ie.UNAVAILABLE;case ln.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case ln.NOT_FOUND:return ie.NOT_FOUND;case ln.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case ln.ABORTED:return ie.ABORTED;case ln.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case ln.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:n})}}(Xe=ln||(ln={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=new La([4294967295,4294967295],0);function qR(n){const e=Ob().encode(n),t=new HP;return t.update(e),new Uint8Array(t.digest())}function HR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new La([t,r],0),new La([i,o],0)]}class Wb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ad(`Invalid padding: ${t}`);if(r<0)throw new Ad(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ad(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ad(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=La.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(La.fromNumber(r)));return i.compare(b9)===1&&(i=new La([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=qR(e),[r,i]=HR(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);if(!this.Se(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Wb(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=qR(e),[r,i]=HR(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ff.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Bf(Ie.min(),i,new bt(De),cr(),Ve())}}class Ff{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ff(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class YO{constructor(e,t){this.targetId=e,this.Ce=t}}class XO{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class $R{constructor(){this.Fe=0,this.Me=GR(),this.xe=qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),r=Ve();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we(38017,{changeType:o})}}),new Ff(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=GR()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class w9{constructor(e){this.ze=e,this.je=new Map,this.He=cr(),this.Je=Am(),this.Ye=Am(),this.Ze=new bt(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(Rg(o))if(r===0){const u=new ve(o.path);this.tt(t,u,wt.newNoDocument(u,Ie.min()))}else Ae(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=zs(r).toUint8Array()}catch(f){if(f instanceof yO)return Xi("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Wb(u,i,o)}catch(f){return Xi(f instanceof Ad?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&Rg(h.target)){const f=new ve(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,wt.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=Ve();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const i=new Bf(e,t,this.Ze,this.He,r);return this.He=cr(),this.Je=Am(),this.Ye=Am(),this.Ze=new bt(De),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new $R,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ut(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ut(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $R),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Am(){return new bt(ve.comparator)}function GR(){return new bt(ve.comparator)}const T9={asc:"ASCENDING",desc:"DESCENDING"},S9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A9={and:"AND",or:"OR"};class I9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pE(n,e){return n.useProto3Json||Nf(e)?e:{value:e}}function fc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function R9(n,e){return fc(n,e.toTimestamp())}function Jt(n){return Ae(!!n,49232),Ie.fromTimestamp(function(t){const r=Fs(t);return new Ot(r.seconds,r.nanos)}(n))}function Qb(n,e){return mE(n,e).canonicalString()}function mE(n,e){const t=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZO(n){const e=$e.fromString(n);return Ae(uD(e),10190,{key:e.toString()}),e}function uf(n,e){return Qb(n.databaseId,e.path)}function Ki(n,e){const t=ZO(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(nD(t))}function eD(n,e){return Qb(n.databaseId,e)}function tD(n){const e=ZO(n);return e.length===4?$e.emptyPath():nD(e)}function gE(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nD(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function KR(n,e,t){return{name:uf(n,e),fields:t.value.mapValue.fields}}function rD(n,e,t){const r=Ki(n,e.name),i=Jt(e.updateTime),o=e.createTime?Jt(e.createTime):Ie.min(),u=new Vn({mapValue:{fields:e.fields}}),h=wt.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function C9(n,e){return"found"in e?function(r,i){Ae(!!i.found,43571),i.found.name,i.found.updateTime;const o=Ki(r,i.found.name),u=Jt(i.found.updateTime),h=i.found.createTime?Jt(i.found.createTime):Ie.min(),f=new Vn({mapValue:{fields:i.found.fields}});return wt.newFoundDocument(o,u,h,f)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing,3894),Ae(!!i.readTime,22933);const o=Ki(r,i.missing),u=Jt(i.readTime);return wt.newNoDocument(o,u)}(n,e):we(7234,{result:e})}function x9(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:we(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(Ae(g===void 0||typeof g=="string",58123),qt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),qt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(d){const g=d.code===void 0?ie.UNKNOWN:QO(d.code);return new fe(g,d.message||"")}(u);t=new XO(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ki(n,r.document.name),o=Jt(r.document.updateTime),u=r.document.createTime?Jt(r.document.createTime):Ie.min(),h=new Vn({mapValue:{fields:r.document.fields}}),f=wt.newFoundDocument(i,o,u,h),d=r.targetIds||[],g=r.removedTargetIds||[];t=new Jm(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ki(n,r.document),o=r.readTime?Jt(r.readTime):Ie.min(),u=wt.newNoDocument(i,o),h=r.removedTargetIds||[];t=new Jm([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ki(n,r.document),o=r.removedTargetIds||[];t=new Jm([],o,i,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new E9(i,o),h=r.targetId;t=new YO(h,u)}}return t}function cf(n,e){let t;if(e instanceof Dc)t={update:KR(n,e.key,e.value)};else if(e instanceof Nc)t={delete:uf(n,e.key)};else if(e instanceof Qs)t={update:KR(n,e.key,e.data),updateMask:M9(e.fieldMask)};else{if(!(e instanceof Hb))return we(16599,{ft:e.type});t={verify:uf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof hc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof gl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof yl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dc)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw we(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:R9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we(27497)}(n,e.precondition)),t}function yE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?Pt.updateTime(Jt(o.updateTime)):o.exists!==void 0?Pt.exists(o.exists):Pt.none()}(e.currentDocument):Pt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let f=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new hc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];f=new gl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];f=new yl(g)}else"increment"in h?f=new dc(u,h.increment):we(16584,{proto:h});const d=xt.fromServerFormat(h.fieldPath);return new Uf(d,f)}(n,i)):[];if(e.update){e.update.name;const i=Ki(n,e.update.name),o=new Vn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const d=f.fieldPaths||[];return new ur(d.map(g=>xt.fromServerFormat(g)))}(e.updateMask);return new Qs(i,o,u,t,r)}return new Dc(i,o,t,r)}if(e.delete){const i=Ki(n,e.delete);return new Nc(i,t)}if(e.verify){const i=Ki(n,e.verify);return new Hb(i,t)}return we(1463,{proto:e})}function P9(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map(t=>function(i,o){let u=i.updateTime?Jt(i.updateTime):Jt(o);return u.isEqual(Ie.min())&&(u=Jt(o)),new y9(u,i.transformResults||[])}(t,e))):[]}function iD(n,e){return{documents:[eD(n,e.path)]}}function sD(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=eD(n,i);const o=function(d){if(d.length!==0)return lD(lt.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:Bu(v.field),direction:D9(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=pE(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function aD(n){let e=tD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=oD(_);return v instanceof lt&&Fb(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(b){return new lf(Fu(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,Nf(v)?null:v}(t.limit));let f=null;t.startAt&&(f=function(_){const v=!!_.before,T=_.values||[];return new Wa(T,v)}(t.startAt));let d=null;return t.endAt&&(d=function(_){const v=!_.before,T=_.values||[];return new Wa(T,v)}(t.endAt)),NO(e,i,u,o,h,"F",f,d)}function O9(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oD(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fu(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fu(t.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fu(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fu(t.unaryFilter.field);return Ge.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ge.create(Fu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return lt.create(t.compositeFilter.filters.map(r=>oD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function D9(n){return T9[n]}function N9(n){return S9[n]}function k9(n){return A9[n]}function Bu(n){return{fieldPath:n.canonicalString()}}function Fu(n){return xt.fromServerFormat(n.fieldPath)}function lD(n){return n instanceof Ge?function(t){if(t.op==="=="){if(OR(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NAN"}};if(PR(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OR(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NAN"}};if(PR(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(t.field),op:N9(t.op),value:t.value}}}(n):n instanceof lt?function(t){const r=t.getFilters().map(i=>lD(i));return r.length===1?r[0]:{compositeFilter:{op:k9(t.op),filters:r}}}(n):we(54877,{filter:n})}function M9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t,r,i,o=Ie.min(),u=Ie.min(),h=qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.wt=e}}function V9(n,e){let t;if(e.document)t=rD(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=vl(e.noDocument.readTime);t=wt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=vl(e.unknownDocument.version);t=wt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Ot(i[0],i[1]);return Ie.fromTimestamp(o)}(e.readTime)),t}function WR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:uf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:fc(o,u.version.toTimestamp()),createTime:fc(o,u.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:_l(e.version)};else{if(!e.isUnknownDocument())return we(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:_l(e.version)}}return r}function Pg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function _l(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vl(n){const e=new Ot(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function Zo(n,e){const t=(e.baseMutations||[]).map(o=>yE(n.wt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>yE(n.wt,o)),i=Ot.fromMillis(e.localWriteTimeMs);return new $b(e.batchId,i,t,r)}function Id(n){const e=vl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?vl(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){const u=o.documents.length;return Ae(u===1,1966,{count:u}),tr(Oc(tD(o.documents[0])))}(n.query):function(o){return tr(aD(o))}(n.query),new Ds(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,qt.fromBase64String(n.resumeToken))}function hD(n,e){const t=_l(e.snapshotVersion),r=_l(e.lastLimboFreeSnapshotVersion);let i;i=Rg(e.target)?iD(n.wt,e.target):sD(n.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ml(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Yb(n){const e=aD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xg(e,e.limit,"L"):e}function v0(n,e){return new Kb(e.largestBatchId,yE(n.wt,e.overlayMutation))}function QR(n,e){const t=e.path.lastSegment();return[n,Gn(e.path.popLast()),t]}function YR(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:_l(r.readTime),documentKey:Gn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{getBundleMetadata(e,t){return XR(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:vl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return XR(e).put(function(i){return{bundleId:i.id,createTime:_l(Jt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return JR(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Yb(o.bundledQuery),readTime:vl(o.readTime)}}(r)})}saveNamedQuery(e,t){return JR(e).put(function(i){return{name:i.name,readTime:_l(Jt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function XR(n){return vn(n,hy)}function JR(n){return vn(n,dy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,t){this.serializer=e,this.userId=t}static St(e,t){const r=t.uid||"";return new vy(e,r)}getOverlay(e,t){return td(e).get(QR(this.userId,t)).next(r=>r?v0(this.serializer,r):null)}getOverlays(e,t){const r=$i();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new Kb(t,u);i.push(this.bt(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Gn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(td(e).X(sE,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=$i(),o=Gn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return td(e).J(sE,u).next(h=>{for(const f of h){const d=v0(this.serializer,f);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=$i();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return td(e).te({index:hO,range:h},(f,d,g)=>{const _=v0(this.serializer,d);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}bt(e,t){return td(e).put(function(i,o,u){const[h,f,d]=QR(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:cf(i.wt,u.mutation)}}(this.serializer,this.userId,t))}}function td(n){return vn(n,fy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{Dt(e){return vn(e,Vb)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?qt.fromUint8Array(r):qt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Rt(e.integerValue));else if("doubleValue"in e){const r=Rt(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),ef(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Fs(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(zs(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?TO(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):gy(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):we(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;const o=e.fields||{};this.Mt(t,53);const u=lc,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Rt(h)),this.Nt(u,t),this.Ct(o[u],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ve.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}el.Wt=new el;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=255;function B9(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function ZR(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=B9(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class F9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=t.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(e){const t=this.tn(e),r=ZR(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}rn(e){const t=this.tn(e),r=ZR(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}sn(){this._n(Ru),this._n(255)}an(){this.un(Ru),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===Ru?(this._n(Ru),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===Ru?(this.un(Ru),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class z9{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class j9{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class nd{constructor(){this.ln=new F9,this.hn=new z9(this.ln),this.Pn=new j9(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t,r,i){this.In=e,this.En=t,this.dn=r,this.An=i}Rn(){const e=this.An.length,t=e===0||this.An[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.An,0),t!==e?r.set([0],this.An.length):++r[r.length-1],new tl(this.In,this.En,this.dn,r)}Vn(e,t,r){return{indexId:this.In,uid:e,arrayValue:Zm(this.dn),directionalValue:Zm(this.An),orderedDocumentKey:Zm(t),documentKey:r.path.toArray()}}mn(e,t,r){const i=this.Vn(e,t,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Ia(n,e){let t=n.In-e.In;return t!==0?t:(t=e1(n.dn,e.dn),t!==0?t:(t=e1(n.An,e.An),t!==0?t:ve.comparator(n.En,e.En)))}function e1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function Zm(n){return kx()?function(t){let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return r}(n):n}function t1(n){return typeof n!="string"?n:function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(n)}class n1{constructor(e){this.fn=new ut((t,r)=>xt.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const t of e.filters){const r=t;r.isInequality()?this.fn=this.fn.add(r):this.pn.push(r)}}get yn(){return this.fn.size>1}wn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const t=nE(e);if(t!==void 0&&!this.Sn(t))return!1;const r=Wo(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.Sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.fn.size>0){const h=this.fn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const f=r[o];if(!this.bn(h,f)||!this.Dn(this.gn[u++],f))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.gn.length||!this.Dn(this.gn[u++],h))return!1}return!0}vn(){if(this.yn)return null;let e=new ut(xt.comparator);const t=[];for(const r of this.pn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new $m(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new $m(r.field,0))}for(const r of this.gn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new $m(r.field,r.dir==="asc"?0:1)));return new Tg(Tg.UNKNOWN_ID,this.collectionId,t,Zd.empty())}Sn(e){for(const t of this.pn)if(this.bn(t,e))return!0;return!1}bn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}Dn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(n){var e,t;if(Ae(n instanceof Ge||n instanceof lt,20012),n instanceof Ge){if(n instanceof DO){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Ge.create(n.field,"==",o)))||[];return lt.create(i,"or")}return n}const r=n.filters.map(i=>dD(i));return lt.create(r,n.op)}function q9(n){if(n.getFilters().length===0)return[];const e=EE(dD(n));return Ae(fD(e),7391),_E(e)||vE(e)?[e]:e.getFilters()}function _E(n){return n instanceof Ge}function vE(n){return n instanceof lt&&Fb(n)}function fD(n){return _E(n)||vE(n)||function(t){if(t instanceof lt&&cE(t)){for(const r of t.getFilters())if(!_E(r)&&!vE(r))return!1;return!0}return!1}(n)}function EE(n){if(Ae(n instanceof Ge||n instanceof lt,34018),n instanceof Ge)return n;if(n.filters.length===1)return EE(n.filters[0]);const e=n.filters.map(r=>EE(r));let t=lt.create(e,n.op);return t=Og(t),fD(t)?t:(Ae(t instanceof lt,64498),Ae(cc(t),40251),Ae(t.filters.length>1,57927),t.filters.reduce((r,i)=>Xb(r,i)))}function Xb(n,e){let t;return Ae(n instanceof Ge||n instanceof lt,38388),Ae(e instanceof Ge||e instanceof lt,25473),t=n instanceof Ge?e instanceof Ge?function(i,o){return lt.create([i,o],"and")}(n,e):r1(n,e):e instanceof Ge?r1(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0,48005),cc(i)&&cc(o))return xO(i,o.getFilters());const u=cE(i)?i:o,h=cE(i)?o:i,f=u.filters.map(d=>Xb(d,h));return lt.create(f,"or")}(n,e),Og(t)}function r1(n,e){if(cc(e))return xO(e,n.getFilters());{const t=e.filters.map(r=>Xb(n,r));return lt.create(t,"or")}}function Og(n){if(Ae(n instanceof Ge||n instanceof lt,11850),n instanceof Ge)return n;const e=n.getFilters();if(e.length===1)return Og(e[0]);if(RO(n))return n;const t=e.map(i=>Og(i)),r=[];return t.forEach(i=>{i instanceof Ge?r.push(i):i instanceof lt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:lt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(){this.Cn=new Jb}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Dr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Jb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ut($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="IndexedDbIndexManager",Im=new Uint8Array(0);class $9{constructor(e,t){this.databaseId=t,this.Fn=new Jb,this.Mn=new Ws(r=>ml(r),(r,i)=>Mf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Fn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Fn.add(t)});const o={collectionId:r,parent:Gn(i)};return s1(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[ZP(t),""],!1,!0);return s1(e).J(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Hi(u.parent))}return r})}addFieldIndex(e,t){const r=rd(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=xu(e);return o.next(h=>{u.put(YR(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=rd(e),i=xu(e),o=Cu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=rd(e),r=Cu(e),i=xu(e);return t.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,t){return X.forEach(this.xn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new n1(r).vn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Cu(e);let i=!0;const o=new Map;return X.forEach(this.xn(t),u=>this.On(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Ve();const h=[];return X.forEach(o,(f,d)=>{pe(i1,`Using index ${function(V){return`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map(H=>`${H.fieldPath}:${H.kind}`).join(",")}`}(f)} to execute ${ml(t)}`);const g=function(V,H){const F=nE(H);if(F===void 0)return null;for(const K of Cg(V,F.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null}(d,f),_=function(V,H){const F=new Map;for(const K of Wo(H))for(const M of Cg(V,K.fieldPath))switch(M.op){case"==":case"in":F.set(K.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return F.set(K.fieldPath.canonicalString(),M.value),Array.from(F.values())}return null}(d,f),v=function(V,H){const F=[];let K=!0;for(const M of Wo(H)){const R=M.kind===0?VR(V,M.fieldPath,V.startAt):LR(V,M.fieldPath,V.startAt);F.push(R.value),K&&(K=R.inclusive)}return new Wa(F,K)}(d,f),T=function(V,H){const F=[];let K=!0;for(const M of Wo(H)){const R=M.kind===0?LR(V,M.fieldPath,V.endAt):VR(V,M.fieldPath,V.endAt);F.push(R.value),K&&(K=R.inclusive)}return new Wa(F,K)}(d,f),b=this.Nn(f,d,v),A=this.Nn(f,d,T),x=this.Bn(f,d,_),U=this.Ln(f.indexId,g,b,v.inclusive,A,T.inclusive,x);return X.forEach(U,L=>r.Z(L,t.limit).next(V=>{V.forEach(H=>{const F=ve.fromSegments(H.documentKey);u.has(F)||(u=u.add(F),h.push(F))})}))}).next(()=>h)}return X.resolve(null)})}xn(e){let t=this.Mn.get(e);return t||(e.filters.length===0?t=[e]:t=q9(lt.create(e.filters,"and")).map(r=>dE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,t),t)}Ln(e,t,r,i,o,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),d=f/(t!=null?t.length:1),g=[];for(let _=0;_<f;++_){const v=t?this.kn(t[_/d]):Im,T=this.qn(e,v,r[_%d],i),b=this.Qn(e,v,o[_%d],u),A=h.map(x=>this.qn(e,v,x,!0));g.push(...this.createRange(T,b,A))}return g}qn(e,t,r,i){const o=new tl(e,ve.empty(),t,r);return i?o:o.Rn()}Qn(e,t,r,i){const o=new tl(e,ve.empty(),t,r);return i?o.Rn():o}On(e,t){const r=new n1(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.wn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.xn(t);return X.forEach(i,o=>this.On(e,o).next(u=>{u?r!==0&&u.fields.length<function(f){let d=new ut(xt.comparator),g=!1;for(const _ of f.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:d=d.add(v.field));for(const _ of f.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}$n(e,t){const r=new nd;for(const i of Wo(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.Tn(i.kind);el.Wt.vt(o,u)}return r.cn()}kn(e){const t=new nd;return el.Wt.vt(e,t.Tn(0)),t.cn()}Un(e,t){const r=new nd;return el.Wt.vt(pl(this.databaseId,t),r.Tn(function(o){const u=Wo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.cn()}Bn(e,t,r){if(r===null)return[];let i=[];i.push(new nd);let o=0;for(const u of Wo(e)){const h=r[o++];for(const f of i)if(this.Kn(t,u.fieldPath)&&of(h))i=this.Wn(i,u,h);else{const d=f.Tn(u.kind);el.Wt.vt(h,d)}}return this.Gn(i)}Nn(e,t,r){return this.Bn(e,t,r.position)}Gn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}Wn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const f=new nd;f.seed(h.cn()),el.Wt.vt(u,f.Tn(t.kind)),o.push(f)}return o}Kn(e,t){return!!e.filters.find(r=>r instanceof Ge&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=rd(e),i=xu(e);return(t?r.J(iE,IDBKeyRange.bound(t,t)):r.J()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(f=>{u.push(function(g,_){const v=_?new Zd(_.sequenceNumber,new Dr(vl(_.readTime),new ve(Hi(_.documentKey)),_.largestBatchId)):Zd.empty(),T=g.fields.map(([b,A])=>new $m(xt.fromServerFormat(b),A));return new Tg(g.indexId,g.collectionGroup,T,v)}(h,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=rd(e),o=xu(e);return this.zn(e).next(u=>i.J(iE,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,f=>o.put(YR(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,f=>this.jn(e,i,f).next(d=>{const g=this.Hn(o,f);return d.isEqual(g)?X.resolve():this.Jn(e,o,f,d,g)}))))})}Yn(e,t,r,i){return Cu(e).put(i.Vn(this.uid,this.Un(r,t.key),t.key))}Zn(e,t,r,i){return Cu(e).delete(i.mn(this.uid,this.Un(r,t.key),t.key))}jn(e,t,r){const i=Cu(e);let o=new ut(Ia);return i.te({index:cO,range:IDBKeyRange.only([r.indexId,this.uid,Zm(this.Un(r,t))])},(u,h)=>{o=o.add(new tl(r.indexId,t,t1(h.arrayValue),t1(h.directionalValue)))}).next(()=>o)}Hn(e,t){let r=new ut(Ia);const i=this.$n(t,e);if(i==null)return r;const o=nE(t);if(o!=null){const u=e.data.field(o.fieldPath);if(of(u))for(const h of u.arrayValue.values||[])r=r.add(new tl(t.indexId,e.key,this.kn(h),i))}else r=r.add(new tl(t.indexId,e.key,Im,i));return r}Jn(e,t,r,i,o){pe(i1,"Updating index entries for document '%s'",t.key);const u=[];return function(f,d,g,_,v){const T=f.getIterator(),b=d.getIterator();let A=Iu(T),x=Iu(b);for(;A||x;){let U=!1,L=!1;if(A&&x){const V=g(A,x);V<0?L=!0:V>0&&(U=!0)}else A!=null?L=!0:U=!0;U?(_(x),x=Iu(b)):L?(v(A),A=Iu(T)):(A=Iu(T),x=Iu(b))}}(i,o,Ia,h=>{u.push(this.Yn(e,t,r,h))},h=>{u.push(this.Zn(e,t,r,h))}),X.waitFor(u)}zn(e){let t=1;return xu(e).te({index:uO,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Ia(u,h)).filter((u,h,f)=>!h||Ia(u,f[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=Ia(u,e),f=Ia(u,t);if(h===0)i[0]=e.Rn();else if(h>0&&f<0)i.push(u),i.push(u.Rn());else if(f>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Xn(i[u],i[u+1]))return[];const h=i[u].mn(this.uid,Im,ve.empty()),f=i[u+1].mn(this.uid,Im,ve.empty());o.push(IDBKeyRange.bound(h,f))}return o}Xn(e,t){return Ia(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(a1)}getMinOffset(e,t){return X.mapArray(this.xn(t),r=>this.On(e,r).next(i=>i||we(44426))).next(a1)}}function s1(n){return vn(n,rf)}function Cu(n){return vn(n,Ld)}function rd(n){return vn(n,Mb)}function xu(n){return vn(n,Vd)}function a1(n){Ae(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Db(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Dr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pD=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n,e,t){const r=n.store(ui),i=n.store(ic),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.te({range:u},(g,_,v)=>(h++,v.delete()));o.push(f.next(()=>{Ae(h===1,47070,{batchId:t.batchId})}));const d=[];for(const g of t.mutations){const _=aO(e,g.key.path,t.batchId);o.push(i.delete(_)),d.push(g.key)}return X.waitFor(o).next(()=>d)}function Dg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(pD,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class Ey{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.er={}}static St(e,t,r,i){Ae(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Ey(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ra(e).te({index:il,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=zu(e),u=Ra(e);return u.add({}).next(h=>{Ae(typeof h=="number",49019);const f=new $b(h,t,r,i),d=function(T,b,A){const x=A.baseMutations.map(L=>cf(T.wt,L)),U=A.mutations.map(L=>cf(T.wt,L));return{userId:b,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:x,mutations:U}}(this.serializer,this.userId,f),g=[];let _=new ut((v,T)=>De(v.canonicalString(),T.canonicalString()));for(const v of i){const T=aO(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(d)),g.push(o.put(T,AB))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.er[h]=f.keys()}),X.waitFor(g).next(()=>f)})}lookupMutationBatch(e,t){return Ra(e).get(t).next(r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Zo(this.serializer,r)):null)}tr(e,t){return this.er[t]?X.resolve(this.er[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.er[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ra(e).te({index:il,range:i},(u,h,f)=>{h.userId===this.userId&&(Ae(h.batchId>=r,47524,{nr:r}),o=Zo(this.serializer,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ua;return Ra(e).te({index:il,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ua],[this.userId,Number.POSITIVE_INFINITY]);return Ra(e).J(il,t).next(r=>r.map(i=>Zo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Gm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return zu(e).te({range:i},(u,h,f)=>{const[d,g,_]=u,v=Hi(g);if(d===this.userId&&t.path.isEqual(v))return Ra(e).get(_).next(T=>{if(!T)throw we(61480,{rr:u,batchId:_});Ae(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:_}),o.push(Zo(this.serializer,T))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(De);const i=[];return t.forEach(o=>{const u=Gm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=zu(e).te({range:h},(d,g,_)=>{const[v,T,b]=d,A=Hi(T);v===this.userId&&o.path.isEqual(A)?r=r.add(b):_.done()});i.push(f)}),X.waitFor(i).next(()=>this.ir(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Gm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new ut(De);return zu(e).te({range:u},(f,d,g)=>{const[_,v,T]=f,b=Hi(v);_===this.userId&&r.isPrefixOf(b)?b.length===i&&(h=h.add(T)):g.done()}).next(()=>this.ir(e,h))}ir(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Ra(e).get(o).next(u=>{if(u===null)throw we(35274,{batchId:o});Ae(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(Zo(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return mD(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.sr(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return zu(e).te({range:r},(o,u,h)=>{if(o[0]===this.userId){const f=Hi(o[1]);i.push(f)}else h.done()}).next(()=>{Ae(i.length===0,56720,{_r:i.map(o=>o.canonicalString())})})})}containsKey(e,t){return gD(e,this.userId,t)}ar(e){return yD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ua,lastStreamToken:""})}}function gD(n,e,t){const r=Gm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return zu(n).te({range:o,ee:!0},(h,f,d)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),d.done()}).next(()=>u)}function Ra(n){return vn(n,ui)}function zu(n){return vn(n,ic)}function yD(n){return vn(n,tf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new El(0)}static lr(){return new El(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.hr(e).next(t=>{const r=new El(t.highestTargetId);return t.highestTargetId=r.next(),this.Pr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(t=>Ie.fromTimestamp(new Ot(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.hr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pr(e,i)))}addTargetData(e,t){return this.Tr(e,t).next(()=>this.hr(e).next(r=>(r.targetCount+=1,this.Ir(t,r),this.Pr(e,r))))}updateTargetData(e,t){return this.Tr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Pu(e).delete(t.targetId)).next(()=>this.hr(e)).next(r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this.Pr(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Pu(e).te((u,h)=>{const f=Id(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(i++,o.push(this.removeTargetData(e,f)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Pu(e).te((r,i)=>{const o=Id(i);t(o)})}hr(e){return l1(e).get(Ig).next(t=>(Ae(t!==null,2888),t))}Pr(e,t){return l1(e).put(Ig,t)}Tr(e,t){return Pu(e).put(hD(this.serializer,t))}Ir(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.hr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ml(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Pu(e).te({range:i,index:lO},(u,h,f)=>{const d=Id(h);Mf(t,d.target)&&(o=d,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Oa(e);return t.forEach(u=>{const h=Gn(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=Oa(e);return X.forEach(t,o=>{const u=Gn(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Oa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Oa(e);let o=Ve();return i.te({range:r,ee:!0},(u,h,f)=>{const d=Hi(u[1]),g=new ve(d);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Gn(t.path),i=IDBKeyRange.bound([r],[ZP(r)],!1,!0);let o=0;return Oa(e).te({index:kb,ee:!0,range:i},([u,h],f,d)=>{u!==0&&(o++,d.done())}).next(()=>o>0)}Rt(e,t){return Pu(e).get(t).next(r=>r?Id(r):null)}}function Pu(n){return vn(n,sc)}function l1(n){return vn(n,cl)}function Oa(n){return vn(n,ac)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="LruGarbageCollector",K9=1048576;function c1([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class W9{constructor(e){this.Er=e,this.buffer=new ut(c1),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();c1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _D{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){pe(u1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ao(t)?pe(u1,"Ignoring IndexedDB error during garbage collection: ",t):await so(t)}await this.mr(3e5)})}}class Q9{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(lr.le);const r=new W9(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(o1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o1):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(d=Date.now(),Lu()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function vD(n,e){return new Q9(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,t){this.db=e,this.garbageCollector=vD(this,t)}pr(e){const t=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}yr(e,t){return this.br(e,(r,i)=>t(i))}addReference(e,t,r){return Rm(e,r)}removeReference(e,t,r){return Rm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Rm(e,t)}Dr(e,t){return function(i,o){let u=!1;return yD(i).ne(h=>gD(i,h,o).next(f=>(f&&(u=!0),X.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.br(e,(u,h)=>{if(h<=t){const f=this.Dr(e,u).next(d=>{if(!d)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ie.min()),Oa(e).delete(function(_){return[0,Gn(_.path)]}(u))))});i.push(f)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Rm(e,t)}br(e,t){const r=Oa(e);let i,o=lr.le;return r.te({index:kb},([u,h],{path:f,sequenceNumber:d})=>{u===0?(o!==lr.le&&t(new ve(Hi(i)),o),o=d,i=f):o=lr.le}).next(()=>{o!==lr.le&&t(new ve(Hi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rm(n,e){return Oa(n).put(function(r,i){return{targetId:0,path:Gn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.changes=new Ws(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Go(e).put(r)}removeEntry(e,t,r){return Go(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Pg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.vr(e,r)))}getEntry(e,t){let r=wt.newInvalidDocument(t);return Go(e).te({index:Km,range:IDBKeyRange.only(id(t))},(i,o)=>{r=this.Cr(t,o)}).next(()=>r)}Fr(e,t){let r={size:0,document:wt.newInvalidDocument(t)};return Go(e).te({index:Km,range:IDBKeyRange.only(id(t))},(i,o)=>{r={document:this.Cr(t,o),size:Dg(o)}}).next(()=>r)}getEntries(e,t){let r=cr();return this.Mr(e,t,(i,o)=>{const u=this.Cr(i,o);r=r.insert(i,u)}).next(()=>r)}Or(e,t){let r=cr(),i=new bt(ve.comparator);return this.Mr(e,t,(o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),i=i.insert(o,Dg(u))}).next(()=>({documents:r,Nr:i}))}Mr(e,t,r){if(t.isEmpty())return X.resolve();let i=new ut(f1);t.forEach(f=>i=i.add(f));const o=IDBKeyRange.bound(id(i.first()),id(i.last())),u=i.getIterator();let h=u.getNext();return Go(e).te({index:Km,range:o},(f,d,g)=>{const _=ve.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;h&&f1(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,d),h=u.hasNext()?u.getNext():null),h?g.H(id(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Pg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Go(e).J(IDBKeyRange.bound(h,f,!0)).next(d=>{o==null||o.incrementDocumentReadCount(d.length);let g=cr();for(const _ of d){const v=this.Cr(ve.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Lf(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=cr();const u=d1(t,r),h=d1(t,Dr.max());return Go(e).te({index:oO,range:IDBKeyRange.bound(u,h,!0)},(f,d,g)=>{const _=this.Cr(ve.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new J9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return h1(e).get(rE).next(t=>(Ae(!!t,20021),t))}vr(e,t){return h1(e).put(rE,t)}Cr(e,t){if(t){const r=V9(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return wt.newInvalidDocument(e)}}function bD(n){return new X9(n)}class J9 extends ED{constructor(e,t){super(),this.Br=e,this.trackRemovals=t,this.Lr=new Ws(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ut((o,u)=>De(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Lr.get(o);if(t.push(this.Br.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=WR(this.Br.serializer,u);i=i.add(o.path.popLast());const d=Dg(f);r+=d-h.size,t.push(this.Br.addEntry(e,o,f))}else if(r-=h.size,this.trackRemovals){const f=WR(this.Br.serializer,u.convertToNoDocument(Ie.min()));t.push(this.Br.addEntry(e,o,f))}}),i.forEach(o=>{t.push(this.Br.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Br.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Br.Fr(e,t).next(r=>(this.Lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Br.Or(e,t).next(({documents:r,Nr:i})=>(i.forEach((o,u)=>{this.Lr.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function h1(n){return vn(n,nf)}function Go(n){return vn(n,Ag)}function id(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function d1(n,e){const t=e.documentKey.path.toArray();return[n,Pg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function f1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Fd(r.mutation,i,ur.empty(),Ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=$i();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Sd();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=$i();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=cr();const u=Bd(),h=function(){return Bd()}();return t.forEach((f,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Qs)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Fd(g.mutation,d,g.mutation.getFieldMask(),Ot.now())):u.set(d.key,ur.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,g)=>u.set(d,g)),t.forEach((d,g)=>{var _;return h.set(d,new Z9(g,(_=u.get(d))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Bd();let i=new bt((u,h)=>u-h),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||ur.empty();g=h.applyToLocalView(d,g),r.set(f,g);const _=(i.get(h.batchId)||Ve()).add(f);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,_=BO();g.forEach(v=>{if(!o.has(v)){const T=GO(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve($i());let h=rc,f=o;return u.next(d=>X.forEach(d,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{f=f.insert(g,v)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,Ve())).next(g=>({batchId:h,changes:UO(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=Sd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=Sd();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,f=>{const d=function(_,v){return new Ks(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,wt.newInvalidDocument(g)))});let h=Sd();return u.forEach((f,d)=>{const g=o.get(f);g!==void 0&&Fd(g.mutation,d,ur.empty(),Ot.now()),Lf(t,d)&&(h=h.insert(f,d))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return X.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Jt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:Yb(i.bundledQuery),readTime:Jt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(){this.overlays=new bt(ve.comparator),this.Qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=$i();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=$i(),o=t.length+1,u=new ve(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new bt((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=$i(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=$i(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>h.set(d,g)),!(h.size()>=i)););return X.resolve(h)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Kb(t,r));let o=this.Qr.get(t);o===void 0&&(o=Ve(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.$r=new ut(An.Ur),this.Kr=new ut(An.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new An(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new An(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new ve(new $e([])),r=new An(t,e),i=new An(t,e+1),o=[];return this.Kr.forEachInRange([r,i],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ve(new $e([])),r=new An(t,e),i=new An(t,e+1);let o=Ve();return this.Kr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new An(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class An{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ve.comparator(e.key,t.key)||De(e.Zr,t.Zr)}static Wr(e,t){return De(e.Zr,t.Zr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new ut(An.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $b(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Xr=this.Xr.add(new An(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ua:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new An(t,0),i=new An(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],u=>{const h=this.ei(u.Zr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(De);return t.forEach(i=>{const o=new An(i,0),u=new An(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],h=>{r=r.add(h.Zr)})}),X.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const u=new An(new ve(o),0);let h=new ut(De);return this.Xr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(h=h.add(f.Zr)),!0)},u),X.resolve(this.ni(h))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return X.forEach(t.mutations,i=>{const o=new An(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new An(t,0),i=this.Xr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.ii=e,this.docs=function(){return new bt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(t))}getEntries(e,t){let r=cr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():wt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=cr();const u=t.path,h=new ve(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||Db(tO(g),r)<=0||(i.has(g.key)||Lf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we(9500)}si(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sF(this)}getSize(e){return X.resolve(this.size)}}class sF extends ED{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.persistence=e,this.oi=new Ws(t=>ml(t),Mf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this._i=0,this.ai=new Zb,this.targetCount=0,this.ui=El.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),X.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new El(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Tr(t),X.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t){this.ci={},this.overlays={},this.li=new lr(0),this.hi=!1,this.hi=!0,this.Pi=new nF,this.referenceDelegate=e(this),this.Ti=new aF(this),this.indexManager=new H9,this.remoteDocumentCache=function(i){return new iF(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new cD(t),this.Ei=new eF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new rF(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new oF(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return X.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class oF extends rO{constructor(e){super(),this.currentSequenceNumber=e}}class by{constructor(e){this.persistence=e,this.Vi=new Zb,this.mi=null}static fi(e){return new by(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,r=>{const i=ve.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,Ie.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return X.or([()=>X.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Ng{constructor(e,t){this.persistence=e,this.yi=new Ws(r=>Gn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vD(this,t)}static fi(e,t){return new Ng(e,t)}di(){}Ai(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return X.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,u=>this.Dr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qm(e.data.value)),t}Dr(e,t,r){return X.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.serializer=e}q(e,t,r,i){const o=new cy("createOrUpgrade",t);r<1&&i>=1&&(function(f){f.createObjectStore(kf)}(e),function(f){f.createObjectStore(tf,{keyPath:SB}),f.createObjectStore(ui,{keyPath:SR,autoIncrement:!0}).createIndex(il,AR,{unique:!0}),f.createObjectStore(ic)}(e),p1(e),function(f){f.createObjectStore(Qo)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(f){f.deleteObjectStore(ac),f.deleteObjectStore(sc),f.deleteObjectStore(cl)}(e),p1(e)),u=u.next(()=>function(f){const d=f.store(cl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return d.put(Ig,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(f,d){return d.store(ui).J().next(_=>{f.deleteObjectStore(ui),f.createObjectStore(ui,{keyPath:SR,autoIncrement:!0}).createIndex(il,AR,{unique:!0});const v=d.store(ui),T=_.map(b=>v.put(b));return X.waitFor(T)})}(e,o))),u=u.next(()=>{(function(f){f.createObjectStore(oc,{keyPath:NB})})(e)})),r<5&&i>=5&&(u=u.next(()=>this.wi(o))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore(nf)}(e),this.Si(o)))),r<7&&i>=7&&(u=u.next(()=>this.bi(o))),r<8&&i>=8&&(u=u.next(()=>this.Di(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.Ci(o))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(hy,{keyPath:kB})})(e),function(f){f.createObjectStore(dy,{keyPath:MB})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(f){const d=f.createObjectStore(fy,{keyPath:jB});d.createIndex(sE,qB,{unique:!1}),d.createIndex(hO,HB,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const d=f.createObjectStore(Ag,{keyPath:IB});d.createIndex(Km,RB),d.createIndex(oO,CB)}(e)).next(()=>this.Fi(e,o)).next(()=>e.deleteObjectStore(Qo))),r<14&&i>=14&&(u=u.next(()=>this.Mi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore(Mb,{keyPath:VB,autoIncrement:!0}).createIndex(iE,LB,{unique:!1}),f.createObjectStore(Vd,{keyPath:UB}).createIndex(uO,BB,{unique:!1}),f.createObjectStore(Ld,{keyPath:FB}).createIndex(cO,zB,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(Vd).clear()}).next(()=>{t.objectStore(Ld).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(Vb,{keyPath:$B})})(e)})),r<18&&i>=18&&kx()&&(u=u.next(()=>{t.objectStore(Vd).clear()}).next(()=>{t.objectStore(Ld).clear()})),u}Si(e){let t=0;return e.store(Qo).te((r,i)=>{t+=Dg(i)}).next(()=>{const r={byteSize:t};return e.store(nf).put(rE,r)})}wi(e){const t=e.store(tf),r=e.store(ui);return t.J().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,Ua],[o.userId,o.lastAcknowledgedBatchId]);return r.J(il,u).next(h=>X.forEach(h,f=>{Ae(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=Zo(this.serializer,f);return mD(e,o.userId,d).next(()=>{})}))}))}bi(e){const t=e.store(ac),r=e.store(Qo);return e.store(cl).get(Ig).next(i=>{const o=[];return r.te((u,h)=>{const f=new $e(u),d=function(_){return[0,Gn(_)]}(f);o.push(t.get(d).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:Gn(_),sequenceNumber:i.highestListenSequenceNumber}))(f)))}).next(()=>X.waitFor(o))})}Di(e,t){e.createObjectStore(rf,{keyPath:DB});const r=t.store(rf),i=new Jb,o=u=>{if(i.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:Gn(f)})}};return t.store(Qo).te({ee:!0},(u,h)=>{const f=new $e(u);return o(f.popLast())}).next(()=>t.store(ic).te({ee:!0},([u,h,f],d)=>{const g=Hi(h);return o(g.popLast())}))}Ci(e){const t=e.store(sc);return t.te((r,i)=>{const o=Id(i),u=hD(this.serializer,o);return t.put(u)})}Fi(e,t){const r=t.store(Qo),i=[];return r.te((o,u)=>{const h=t.store(Ag),f=function(_){return _.document?new ve($e.fromString(_.document.name).popFirst(5)):_.noDocument?ve.fromSegments(_.noDocument.path):_.unknownDocument?ve.fromSegments(_.unknownDocument.path):we(36783)}(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(d))}).next(()=>X.waitFor(i))}Mi(e,t){const r=t.store(ui),i=bD(this.serializer),o=new ew(by.fi,this.serializer.wt);return r.J().next(u=>{const h=new Map;return u.forEach(f=>{var d;let g=(d=h.get(f.userId))!==null&&d!==void 0?d:Ve();Zo(this.serializer,f).keys().forEach(_=>g=g.add(_)),h.set(f.userId,g)}),X.forEach(h,(f,d)=>{const g=new In(d),_=vy.St(this.serializer,g),v=o.getIndexManager(g),T=Ey.St(g,this.serializer,v,o.referenceDelegate);return new wD(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new aE(t,lr.le),f).next()})})}}function p1(n){n.createObjectStore(ac,{keyPath:PB}).createIndex(kb,OB,{unique:!0}),n.createObjectStore(sc,{keyPath:"targetId"}).createIndex(lO,xB,{unique:!0}),n.createObjectStore(cl)}const Ca="IndexedDbPersistence",E0=18e5,b0=5e3,w0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",TD="main";class tw{constructor(e,t,r,i,o,u,h,f,d,g,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.xi=o,this.window=u,this.document=h,this.Oi=d,this.Ni=g,this.Bi=_,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=v=>Promise.resolve(),!tw.C())throw new fe(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Y9(this,i),this.Ui=t+TD,this.serializer=new cD(f),this.Ki=new Gi(this.Ui,this.Bi,new lF(this.serializer)),this.Pi=new U9,this.Ti=new G9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bD(this.serializer),this.Ei=new L9,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,g===!1&&Xt(Ca,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,w0);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new lr(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Cm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(t=>{t||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(t=>this.isPrimary&&!t?this.Xi(e).next(()=>!1):!!t&&this.es(e).next(()=>!0))).catch(e=>{if(ao(e))return pe(Ca,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Ca,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return sd(e).get(Au).next(t=>X.resolve(this.ts(t)))}ns(e){return Cm(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,E0)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=vn(t,oc);return r.J().next(i=>{const o=this._s(i,E0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.Wi)for(const t of e)this.Wi.removeItem(this.us(t.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?X.resolve(!0):sd(e).get(Au).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,b0)&&!this.cs(t.ownerId)){if(this.ts(t)&&this.networkEnabled)return!0;if(!this.ts(t)){if(!t.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,w0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cm(e).J().next(r=>this._s(r,b0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(Ca,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[kf,oc],e=>{const t=new aE(e,lr.le);return this.Xi(t).next(()=>this.ns(t))}),this.Ki.close(),this.Ts()}_s(e,t){return e.filter(r=>this.ss(r.updateTimeMs,t)&&!this.cs(r.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Cm(e).J().next(t=>this._s(t,E0).map(r=>r.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,t){return Ey.St(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $9(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return vy.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,t,r){pe(Ca,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(f){return f===18?WB:f===17?mO:f===16?KB:f===15?Lb:f===14?pO:f===13?fO:f===12?GB:f===11?dO:void we(60245)}(this.Bi);let u;return this.Ki.runTransaction(e,i,o,h=>(u=new aE(h,this.li?this.li.next():lr.le),t==="readwrite-primary"?this.Yi(u).next(f=>!!f||this.Zi(u)).next(f=>{if(!f)throw Xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new fe(ie.FAILED_PRECONDITION,nO);return r(u)}).next(f=>this.es(u).next(()=>f)):this.Es(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}Es(e){return sd(e).get(Au).next(t=>{if(t!==null&&this.ss(t.leaseTimestampMs,b0)&&!this.cs(t.ownerId)&&!this.ts(t)&&!(this.Ni||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fe(ie.FAILED_PRECONDITION,w0)})}es(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sd(e).put(Au,t)}static C(){return Gi.C()}Xi(e){const t=sd(e);return t.get(Au).next(r=>this.ts(r)?(pe(Ca,"Releasing primary lease."),t.delete(Au)):X.resolve())}ss(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Xt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const t=/(?:Version|Mobile)\/1[456]/;Nx()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var t;try{const r=((t=this.Wi)===null||t===void 0?void 0:t.getItem(this.us(e)))!==null;return pe(Ca,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xt(Ca,"Failed to get zombied client id.",r),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sd(n){return vn(n,kf)}function Cm(n){return vn(n,oc)}function nw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new rw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Nx()?8:iO(Lt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new uF;return this.bs(e,t,u).next(h=>{if(o.result=h,this.fs)return this.Ds(e,t,u,h.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Lu()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Uu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(Lu()<=He.DEBUG&&pe("QueryEngine","Query:",Uu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Lu()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Uu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(t))):X.resolve())}ws(e,t){if(UR(t))return X.resolve(null);let r=tr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=xg(t,null,"F"),r=tr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Ve(...o);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.vs(t,h);return this.Cs(t,d,u,f.readTime)?this.ws(e,xg(t,null,"F")):this.Fs(e,d,t,f)}))})))}Ss(e,t,r,i){return UR(t)||i.isEqual(Ie.min())?X.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,i)?X.resolve(null):(Lu()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uu(t)),this.Fs(e,u,t,eO(i,rc)).next(h=>h))})}vs(e,t){let r=new ut(VO(e));return t.forEach((i,o)=>{Lf(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return Lu()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Uu(t)),this.ys.getDocumentsMatchingQuery(e,t,Dr.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="LocalStore",cF=3e8;class hF{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new bt(De),this.Os=new Ws(o=>ml(o),Mf),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function AD(n,e,t,r){return new hF(n,e,t,r)}async function ID(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=Ve();for(const d of i){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:h}))})})}function dF(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,d,g){const _=d.batch,v=_.keys();let T=X.resolve();return v.forEach(b=>{T=T.next(()=>g.getEntry(f,b)).next(A=>{const x=d.docVersions.get(b);Ae(x!==null,48541),A.version.compareTo(x)<0&&(_.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ve();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function RD(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function fF(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Ti.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(qt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(A,x,U){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=cF?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(v,T,g)&&h.push(t.Ti.updateTargetData(o,T))});let f=cr(),d=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(CD(o,u,e.documentUpdates).next(g=>{f=g.qs,d=g.Qs})),!r.isEqual(Ie.min())){const g=t.Ti.getLastRemoteSnapshotVersion(o).next(_=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(t.xs=i,o))}function CD(n,e,t){let r=Ve(),i=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=cr();return t.forEach((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):pe(iw,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)}),{qs:u,Qs:i}})}function pF(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ua),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Ti.allocateTargetId(r).next(u=>(i=new Ds(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function mc(n,e,t){const r=Ee(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!ao(u))throw u;pe(iw,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function kg(n,e,t){const r=Ee(n);let i=Ie.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const _=Ee(f),v=_.Os.get(g);return v!==void 0?X.resolve(_.xs.get(v)):_.Ti.getTargetData(d,g)}(r,u,tr(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?i:Ie.min(),t?o:Ve())).next(h=>(OD(r,MO(e),h),{documents:h,$s:o})))}function xD(n,e){const t=Ee(n),r=Ee(t.Ti),i=t.xs.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Rt(o,e).next(u=>u?u.target:null))}function PD(n,e){const t=Ee(n),r=t.Ns.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Bs.getAllFromCollectionGroup(i,e,eO(r,rc),Number.MAX_SAFE_INTEGER)).then(i=>(OD(t,e,i),i))}function OD(n,e,t){let r=n.Ns.get(e)||Ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}async function mF(n,e,t,r){const i=Ee(n);let o=Ve(),u=cr();for(const d of t){const g=e.Us(d.metadata.name);d.document&&(o=o.add(g));const _=e.Ks(d);_.setReadTime(e.Ws(d.metadata.readTime)),u=u.insert(g,_)}const h=i.Bs.newChangeBuffer({trackRemovals:!0}),f=await pc(i,function(g){return tr(Oc($e.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>CD(d,h,u).next(g=>(h.apply(d),g)).next(g=>i.Ti.removeMatchingKeysForTargetId(d,f.targetId).next(()=>i.Ti.addMatchingKeys(d,o,f.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,g.qs,g.Qs)).next(()=>g.qs)))}async function gF(n,e,t=Ve()){const r=await pc(n,tr(Yb(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Jt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ei.saveNamedQuery(o,e);const h=r.withResumeToken(qt.EMPTY_BYTE_STRING,u);return i.xs=i.xs.insert(h.targetId,h),i.Ti.updateTargetData(o,h).next(()=>i.Ti.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Ti.addMatchingKeys(o,t,r.targetId)).next(()=>i.Ei.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="firestore_clients";function m1(n,e){return`${DD}_${n}_${e}`}const ND="firestore_mutations";function g1(n,e,t){let r=`${ND}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const kD="firestore_targets";function T0(n,e){return`${kD}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="SharedClientState";class Mg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Gs(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new fe(i.error.code,i.error.message))),u?new Mg(e,t,i.state,o):(Xt(Vi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Gs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new fe(r.error.code,r.error.message))),o?new zd(e,r.state,i):(Xt(Vi,`Failed to parse target state for ID '${e}': ${t}`),null)}zs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Gs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=jb();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=sO(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Vg(e,o):(Xt(Vi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class sw{constructor(e,t){this.clientId=e,this.onlineState=t}static Gs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new sw(t.clientId,t.onlineState):(Xt(Vi,`Failed to parse online state: ${e}`),null)}}class bE{constructor(){this.activeTargetIds=jb()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S0{constructor(e,t,r,i,o){this.window=e,this.xi=t,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ys=this.Zs.bind(this),this.Xs=new bt(De),this.started=!1,this.eo=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.no=m1(this.persistenceKey,this.Js),this.ro=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.Xs=this.Xs.insert(this.Js,new bE),this.io=new RegExp(`^${DD}_${u}_([^_]*)$`),this.so=new RegExp(`^${ND}_${u}_(\\d+)(?:_(.*))?$`),this.oo=new RegExp(`^${kD}_${u}_(\\d+)$`),this._o=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.ao=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ys)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Is();for(const r of e){if(r===this.Js)continue;const i=this.getItem(m1(this.persistenceKey,r));if(i){const o=Vg.Gs(r,i);o&&(this.Xs=this.Xs.insert(o.clientId,o))}}this.uo();const t=this.storage.getItem(this._o);if(t){const r=this.co(t);r&&this.lo(r)}for(const r of this.eo)this.Zs(r);this.eo=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ro,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ho(this.Xs)}isActiveQueryTarget(e){let t=!1;return this.Xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Po(e,"pending")}updateMutationState(e,t,r){this.Po(e,t,r),this.To(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(T0(this.persistenceKey,e));if(i){const o=zd.Gs(e,i);o&&(r=o.state)}}return t&&this.Io.js(e),this.uo(),r}removeLocalQueryTarget(e){this.Io.Hs(e),this.uo()}isLocalQueryTarget(e){return this.Io.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(T0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Eo(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.To(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ao(e)}notifyBundleLoaded(e){this.Ro(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ys),this.removeItem(this.no),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Vi,"READ",e,t),t}setItem(e,t){pe(Vi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Vi,"REMOVE",e),this.storage.removeItem(e)}Zs(e){const t=e;if(t.storageArea===this.storage){if(pe(Vi,"EVENT",t.key,t.newValue),t.key===this.no)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.xi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.io.test(t.key)){if(t.newValue==null){const r=this.Vo(t.key);return this.mo(r,null)}{const r=this.fo(t.key,t.newValue);if(r)return this.mo(r.clientId,r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.po(t.key,t.newValue);if(r)return this.yo(r)}}else if(this.oo.test(t.key)){if(t.newValue!==null){const r=this.wo(t.key,t.newValue);if(r)return this.So(r)}}else if(t.key===this._o){if(t.newValue!==null){const r=this.co(t.newValue);if(r)return this.lo(r)}}else if(t.key===this.ro){const r=function(o){let u=lr.le;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number",30636,{bo:o}),u=h}catch(h){Xt(Vi,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==lr.le&&this.sequenceNumberHandler(r)}else if(t.key===this.ao){const r=this.Do(t.newValue);await Promise.all(r.map(i=>this.syncEngine.vo(i)))}}}else this.eo.push(t)})}}get Io(){return this.Xs.get(this.Js)}uo(){this.setItem(this.no,this.Io.zs())}Po(e,t,r){const i=new Mg(this.currentUser,e,t,r),o=g1(this.persistenceKey,this.currentUser,e);this.setItem(o,i.zs())}To(e){const t=g1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ao(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this._o,JSON.stringify(t))}Eo(e,t,r){const i=T0(this.persistenceKey,e),o=new zd(e,t,r);this.setItem(i,o.zs())}Ro(e){const t=JSON.stringify(Array.from(e));this.setItem(this.ao,t)}Vo(e){const t=this.io.exec(e);return t?t[1]:null}fo(e,t){const r=this.Vo(e);return Vg.Gs(r,t)}po(e,t){const r=this.so.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Mg.Gs(new In(o),i,t)}wo(e,t){const r=this.oo.exec(e),i=Number(r[1]);return zd.Gs(i,t)}co(e){return sw.Gs(e)}Do(e){return JSON.parse(e)}async yo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);pe(Vi,`Ignoring mutation for non-active user ${e.user.uid}`)}So(e){return this.syncEngine.Fo(e.targetId,e.state,e.error)}mo(e,t){const r=t?this.Xs.insert(e,t):this.Xs.remove(e),i=this.ho(this.Xs),o=this.ho(r),u=[],h=[];return o.forEach(f=>{i.has(f)||u.push(f)}),i.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.Mo(u,h).then(()=>{this.Xs=r})}lo(e){this.Xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ho(e){let t=jb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class MD{constructor(){this.xo=new bE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new bE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="ConnectivityMonitor";class _1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pe(y1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){pe(y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm=null;function wE(){return xm===null?xm=function(){return 268435456+Math.round(2147483648*Math.random())}():xm++,"0x"+xm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="RestConnection",_F={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vF{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===oE?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){const u=wE(),h=this.jo(e,t.toUriEncodedString());pe(A0,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,o);const{host:d}=new URL(h),g=Af(d);return this.Jo(e,h,f,r,g).then(_=>(pe(A0,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Xi(A0,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_})}Yo(e,t,r,i,o,u){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){const r=_F[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class bF extends vF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const u=wE();return new Promise((h,f)=>{const d=new $P;d.setWithCredentials(!0),d.listenOnce(GP.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Hm.NO_ERROR:const _=d.getResponseJson();pe(zn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Hm.TIMEOUT:pe(zn,`RPC '${e}' ${u} timed out`),f(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Hm.HTTP_ERROR:const v=d.getStatus();if(pe(zn,`RPC '${e}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const b=T==null?void 0:T.error;if(b&&b.status&&b.message){const A=function(U){const L=U.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(L)>=0?L:ie.UNKNOWN}(b.status);f(new fe(A,b.message))}else f(new fe(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{pe(zn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(i);pe(zn,`RPC '${e}' ${u} sending request:`,i),d.send(t,"POST",g,r,15)})}T_(e,t,r){const i=wE(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=QP(),h=WP(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");pe(zn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=u.createWebChannel(g,f);let v=!1,T=!1;const b=new EF({Zo:x=>{T?pe(zn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(pe(zn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(zn,`RPC '${e}' stream ${i} sending:`,x),_.send(x))},Xo:()=>_.close()}),A=(x,U,L)=>{x.listen(U,V=>{try{L(V)}catch(H){setTimeout(()=>{throw H},0)}})};return A(_,Td.EventType.OPEN,()=>{T||(pe(zn,`RPC '${e}' stream ${i} transport opened.`),b.__())}),A(_,Td.EventType.CLOSE,()=>{T||(T=!0,pe(zn,`RPC '${e}' stream ${i} transport closed`),b.u_())}),A(_,Td.EventType.ERROR,x=>{T||(T=!0,Xi(zn,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),b.u_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))}),A(_,Td.EventType.MESSAGE,x=>{var U;if(!T){const L=x.data[0];Ae(!!L,16349);const V=L,H=(V==null?void 0:V.error)||((U=V[0])===null||U===void 0?void 0:U.error);if(H){pe(zn,`RPC '${e}' stream ${i} received error:`,H);const F=H.status;let K=function(P){const w=ln[P];if(w!==void 0)return QO(w)}(F),M=H.message;K===void 0&&(K=ie.INTERNAL,M="Unknown error status: "+F+" with message "+H.message),T=!0,b.u_(new fe(K,M)),_.close()}else pe(zn,`RPC '${e}' stream ${i} received:`,L),b.c_(L)}}),A(h,KP.STAT_EVENT,x=>{x.stat===eE.PROXY?pe(zn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===eE.NOPROXY&&pe(zn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){return typeof window<"u"?window:null}function eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n){return new I9(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="PersistentStream";class LD{constructor(e,t,r,i,o,u,h,f){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new aw(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Xt(t.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return pe(v1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(pe(v1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wF extends LD{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=x9(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Jt(u.readTime):Ie.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=gE(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=Rg(f)?{documents:iD(o,f)}:{query:sD(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=JO(o,u.resumeToken);const d=pE(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=fc(o,u.snapshotVersion.toTimestamp());const d=pE(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,e);const r=O9(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=gE(this.serializer),t.removeTarget=e,this.L_(t)}}class TF extends LD{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=P9(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=gE(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>cf(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{}class AF extends SF{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,mE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,mE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class IF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Xt(t),this.oa=!1):pe("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="RemoteStore";class RF{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(u=>{r.enqueueAndForget(async()=>{lo(this)&&(pe(bl,"Restarting streams for network reachability change."),await async function(f){const d=Ee(f);d.Ta.add(4),await kc(d),d.da.set("Unknown"),d.Ta.delete(4),await jf(d)}(this))})}),this.da=new IF(r,i)}}async function jf(n){if(lo(n))for(const e of n.Ia)await e(!0)}async function kc(n){for(const e of n.Ia)await e(!1)}function wy(n,e){const t=Ee(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),uw(t)?lw(t):Vc(t).M_()&&ow(t,e))}function gc(n,e){const t=Ee(n),r=Vc(t);t.Pa.delete(e),r.M_()&&UD(t,e),t.Pa.size===0&&(r.M_()?r.N_():lo(t)&&t.da.set("Unknown"))}function ow(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vc(n).H_(e)}function UD(n,e){n.Aa.Ke(e),Vc(n).J_(e)}function lw(n){n.Aa=new w9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Vc(n).start(),n.da._a()}function uw(n){return lo(n)&&!Vc(n).F_()&&n.Pa.size>0}function lo(n){return Ee(n).Ta.size===0}function BD(n){n.Aa=void 0}async function CF(n){n.da.set("Online")}async function xF(n){n.Pa.forEach((e,t)=>{ow(n,e)})}async function PF(n,e){BD(n),uw(n)?(n.da.ca(e),lw(n)):n.da.set("Unknown")}async function OF(n,e,t){if(n.da.set("Online"),e instanceof XO&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.Pa.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Pa.delete(h),i.Aa.removeTarget(h))}(n,e)}catch(r){pe(bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lg(n,r)}else if(e instanceof Jm?n.Aa.Xe(e):e instanceof YO?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Ie.min()))try{const r=await RD(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.Aa.It(u);return h.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Pa.get(d);g&&o.Pa.set(d,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,d)=>{const g=o.Pa.get(f);if(!g)return;o.Pa.set(f,g.withResumeToken(qt.EMPTY_BYTE_STRING,g.snapshotVersion)),UD(o,f);const _=new Ds(g.target,f,d,g.sequenceNumber);ow(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(bl,"Failed to raise snapshot:",r),await Lg(n,r)}}async function Lg(n,e,t){if(!ao(e))throw e;n.Ta.add(1),await kc(n),n.da.set("Offline"),t||(t=()=>RD(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(bl,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await jf(n)})}function FD(n,e){return e().catch(t=>Lg(n,t,e))}async function Mc(n){const e=Ee(n),t=Qa(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Ua;for(;DF(e);)try{const i=await pF(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,NF(e,i)}catch(i){await Lg(e,i)}zD(e)&&jD(e)}function DF(n){return lo(n)&&n.ha.length<10}function NF(n,e){n.ha.push(e);const t=Qa(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function zD(n){return lo(n)&&!Qa(n).F_()&&n.ha.length>0}function jD(n){Qa(n).start()}async function kF(n){Qa(n).ta()}async function MF(n){const e=Qa(n);for(const t of n.ha)e.Z_(t.mutations)}async function VF(n,e,t){const r=n.ha.shift(),i=Gb.from(r,e,t);await FD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Mc(n)}async function LF(n,e){e&&Qa(n).Y_&&await async function(r,i){if(function(u){return WO(u)&&u!==ie.ABORTED}(i.code)){const o=r.ha.shift();Qa(r).O_(),await FD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Mc(r)}}(n,e),zD(n)&&jD(n)}async function E1(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(bl,"RemoteStore received new credentials");const r=lo(t);t.Ta.add(3),await kc(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await jf(t)}async function TE(n,e){const t=Ee(n);e?(t.Ta.delete(2),await jf(t)):e||(t.Ta.add(2),await kc(t),t.da.set("Unknown"))}function Vc(n){return n.Ra||(n.Ra=function(t,r,i){const o=Ee(t);return o.ra(),new wF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:CF.bind(null,n),n_:xF.bind(null,n),i_:PF.bind(null,n),j_:OF.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),uw(n)?lw(n):n.da.set("Unknown")):(await n.Ra.stop(),BD(n))})),n.Ra}function Qa(n){return n.Va||(n.Va=function(t,r,i){const o=Ee(t);return o.ra(),new TF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:kF.bind(null,n),i_:LF.bind(null,n),X_:MF.bind(null,n),ea:VF.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await Mc(n)):(await n.Va.stop(),n.ha.length>0&&(pe(bl,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new cw(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lc(n,e){if(Xt("AsyncQueue",`${e}: ${n}`),ao(n))return new fe(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{static emptySet(e){return new Wu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Sd(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.ma=new bt(ve.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class yc{constructor(e,t,r,i,o,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new yc(e,t,Wu.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class BF{constructor(){this.queries=w1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=w1(),o.forEach((u,h)=>{for(const f of h.ya)f.onError(r)})})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function w1(){return new Ws(n=>kO(n),Vf)}async function hw(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new UF,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await t.onListen(i,!0);break;case 1:o.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Lc(u,`Initialization of query '${Uu(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&fw(t)}async function dw(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ya.indexOf(e);u>=0&&(o.ya.splice(u,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function FF(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ya)h.va(i)&&(r=!0);u.pa=i}}r&&fw(t)}function zF(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ya)o.onError(t);r.queries.delete(e)}function fw(n){n.ba.forEach(e=>{e.next()})}var SE,T1;(T1=SE||(SE={})).Ca="default",T1.Cache="cache";class pw{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==SE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,t){this.ka=e,this.byteLength=t}qa(){return"metadata"in this.ka}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.serializer=e}Us(e){return Ki(this.serializer,e)}Ks(e){return e.metadata.exists?rD(this.serializer,e.document,!1):wt.newNoDocument(this.Us(e.metadata.name),this.Ws(e.metadata.readTime))}Ws(e){return Jt(e)}}class qF{constructor(e,t,r){this.Qa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qD(e)}$a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ka.namedQuery)this.queries.push(e.ka.namedQuery);else if(e.ka.documentMetadata){this.documents.push({metadata:e.ka.documentMetadata}),e.ka.documentMetadata.exists||++t;const r=$e.fromString(e.ka.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ka.document&&(this.documents[this.documents.length-1].document=e.ka.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ua(e){const t=new Map,r=new S1(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Us(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Ve()).add(o);t.set(u,h)}}return t}async complete(){const e=await mF(this.localStore,new S1(this.serializer),this.documents,this.Qa.id),t=this.Ua(this.documents);for(const r of this.queries)await gF(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ka:this.collectionGroups,Wa:e}}}function qD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.key=e}}class $D{constructor(e){this.key=e}}class GD{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ve(),this.mutatedKeys=Ve(),this.Ha=VO(e),this.Ja=new Wu(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new b1,i=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Lf(this.query,_)?_:null,b=!!v&&this.mutatedKeys.has(v.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let x=!1;v&&T?v.data.isEqual(T.data)?b!==A&&(r.track({type:3,doc:T}),x=!0):this.eu(v,T)||(r.track({type:2,doc:T}),x=!0,(f&&this.Ha(T,f)>0||d&&this.Ha(T,d)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),x=!0):v&&!T&&(r.track({type:1,doc:v}),x=!0,(f||d)&&(h=!0)),x&&(T?(u=u.add(T),o=A?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ja:u,Xa:r,Cs:h,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((g,_)=>function(T,b){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:x})}};return A(T)-A(b)}(g.type,_.type)||this.Ha(g.doc,_.doc)),this.tu(r),i=i!=null&&i;const h=t&&!i?this.nu():[],f=this.ja.size===0&&this.current&&!i?1:0,d=f!==this.za;return this.za=f,u.length!==0||d?{snapshot:new yc(this.query,e.Ja,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:h}:{ru:h}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new b1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ve(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new $D(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new HD(r))}),t}su(e){this.Ga=e.$s,this.ja=Ve();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return yc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const uo="SyncEngine";class HF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $F{constructor(e){this.key=e,this._u=!1}}class GF{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new Ws(h=>kO(h),Vf),this.cu=new Map,this.lu=new Set,this.hu=new bt(ve.comparator),this.Pu=new Map,this.Tu=new Zb,this.Iu={},this.Eu=new Map,this.du=El.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function KF(n,e,t=!0){const r=Ty(n);let i;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=await KD(r,e,t,!0),i}async function WF(n,e){const t=Ty(n);await KD(t,e,!0,!1)}async function KD(n,e,t,r){const i=await pc(n.localStore,tr(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await mw(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&wy(n.remoteStore,i),h}async function mw(n,e,t,r,i){n.Ru=(_,v,T)=>async function(A,x,U,L){let V=x.view.Za(U);V.Cs&&(V=await kg(A.localStore,x.query,!1).then(({documents:M})=>x.view.Za(M,V)));const H=L&&L.targetChanges.get(x.targetId),F=L&&L.targetMismatches.get(x.targetId)!=null,K=x.view.applyChanges(V,A.isPrimaryClient,H,F);return AE(A,x.targetId,K.ru),K.snapshot}(n,_,v,T);const o=await kg(n.localStore,e,!0),u=new GD(e,o.$s),h=u.Za(o.documents),f=Ff.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=u.applyChanges(h,n.isPrimaryClient,f);AE(n,t,d.ru);const g=new HF(e,t,u);return n.uu.set(e,g),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),d.snapshot}async function QF(n,e,t){const r=Ee(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(u=>!Vf(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&gc(r.remoteStore,i.targetId),_c(r,i.targetId)}).catch(so)):(_c(r,i.targetId),await mc(r.localStore,i.targetId,!0))}async function YF(n,e){const t=Ee(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gc(t.remoteStore,r.targetId))}async function XF(n,e,t){const r=vw(n);try{const i=await function(u,h){const f=Ee(u),d=Ot.now(),g=h.reduce((T,b)=>T.add(b.key),Ve());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=cr(),A=Ve();return f.Bs.getEntries(T,g).next(x=>{b=x,b.forEach((U,L)=>{L.isValidDocument()||(A=A.add(U))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,b)).next(x=>{_=x;const U=[];for(const L of h){const V=v9(L,_.get(L.key).overlayedDocument);V!=null&&U.push(new Qs(L.key,V,AO(V.value.mapValue),Pt.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,U,h)}).next(x=>{v=x;const U=x.applyToLocalDocumentSet(_,A);return f.documentOverlayCache.saveOverlays(T,x.batchId,U)})}).then(()=>({batchId:v.batchId,changes:UO(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,f){let d=u.Iu[u.currentUser.toKey()];d||(d=new bt(De)),d=d.insert(h,f),u.Iu[u.currentUser.toKey()]=d}(r,i.batchId,t),await Ys(r,i.changes),await Mc(r.remoteStore)}catch(i){const o=Lc(i,"Failed to persist write");t.reject(o)}}async function WD(n,e){const t=Ee(n);try{const r=await fF(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Pu.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u._u=!0:i.modifiedDocuments.size>0?Ae(u._u,14607):i.removedDocuments.size>0&&(Ae(u._u,42227),u._u=!1))}),await Ys(t,r,e)}catch(r){await so(r)}}function A1(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((o,u)=>{const h=u.view.Da(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const f=Ee(u);f.onlineState=h;let d=!1;f.queries.forEach((g,_)=>{for(const v of _.ya)v.Da(h)&&(d=!0)}),d&&fw(f)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JF(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),o=i&&i.key;if(o){let u=new bt(ve.comparator);u=u.insert(o,wt.newNoDocument(o,Ie.min()));const h=Ve().add(o),f=new Bf(Ie.min(),new Map,new bt(De),u,h);await WD(r,f),r.hu=r.hu.remove(o),r.Pu.delete(e),_w(r)}else await mc(r.localStore,e,!1).then(()=>_c(r,e,t)).catch(so)}async function ZF(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await dF(t.localStore,e);yw(t,r,null),gw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ys(t,i)}catch(i){await so(i)}}async function ez(n,e,t){const r=Ee(n);try{const i=await function(u,h){const f=Ee(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next(_=>(Ae(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(d,_))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(r.localStore,e);yw(r,e,t),gw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ys(r,i)}catch(i){await so(i)}}async function tz(n,e){const t=Ee(n);lo(t.remoteStore)||pe(uo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(r===Ua)return void e.resolve();const i=t.Eu.get(r)||[];i.push(e),t.Eu.set(r,i)}catch(r){const i=Lc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function gw(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function yw(n,e,t){const r=Ee(n);let i=r.Iu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function _c(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||QD(n,r)})}function QD(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(gc(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),_w(n))}function AE(n,e,t){for(const r of t)r instanceof HD?(n.Tu.addReference(r.key,e),nz(n,r)):r instanceof $D?(pe(uo,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||QD(n,r.key)):we(19791,{mu:r})}function nz(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(pe(uo,"New document in limbo: "+t),n.lu.add(r),_w(n))}function _w(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new ve($e.fromString(e)),r=n.du.next();n.Pu.set(r,new $F(t)),n.hu=n.hu.insert(t,r),wy(n.remoteStore,new Ds(tr(Oc(t.path)),r,"TargetPurposeLimboResolution",lr.le))}}async function Ys(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.uu.isEmpty()||(r.uu.forEach((h,f)=>{u.push(r.Ru(f,e,t).then(d=>{var g;if((d||t)&&r.isPrimaryClient){const _=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){i.push(d);const _=rw.Rs(f.targetId,d);o.push(_)}}))}),await Promise.all(u),r.au.j_(i),await async function(f,d){const g=Ee(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(d,v=>X.forEach(v.ds,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.As,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!ao(_))throw _;pe(iw,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const T=g.xs.get(v),b=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(b);g.xs=g.xs.insert(v,A)}}}(r.localStore,o))}async function rz(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(uo,"User change. New user:",e.toKey());const r=await ID(t.localStore,e);t.currentUser=e,function(o,u){o.Eu.forEach(h=>{h.forEach(f=>{f.reject(new fe(ie.CANCELLED,u))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ys(t,r.ks)}}function iz(n,e){const t=Ee(n),r=t.Pu.get(e);if(r&&r._u)return Ve().add(r.key);{let i=Ve();const o=t.cu.get(e);if(!o)return i;for(const u of o){const h=t.uu.get(u);i=i.unionWith(h.view.Ya)}return i}}async function sz(n,e){const t=Ee(n),r=await kg(t.localStore,e.query,!0),i=e.view.su(r);return t.isPrimaryClient&&AE(t,e.targetId,i.ru),i}async function az(n,e){const t=Ee(n);return PD(t.localStore,e).then(r=>Ys(t,r))}async function oz(n,e,t,r){const i=Ee(n),o=await function(h,f){const d=Ee(h),g=Ee(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.tr(_,f).next(v=>v?d.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Mc(i.remoteStore):t==="acknowledged"||t==="rejected"?(yw(i,e,r||null),gw(i,e),function(h,f){Ee(Ee(h).mutationQueue).sr(f)}(i.localStore,e)):we(6720,"Unknown batchState",{fu:t}),await Ys(i,o)):pe(uo,"Cannot apply mutation batch with id: "+e)}async function lz(n,e){const t=Ee(n);if(Ty(t),vw(t),e===!0&&t.Au!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await I1(t,r.toArray());t.Au=!0,await TE(t.remoteStore,!0);for(const o of i)wy(t.remoteStore,o)}else if(e===!1&&t.Au!==!1){const r=[];let i=Promise.resolve();t.cu.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(_c(t,u),mc(t.localStore,u,!0))),gc(t.remoteStore,u)}),await i,await I1(t,r),function(u){const h=Ee(u);h.Pu.forEach((f,d)=>{gc(h.remoteStore,d)}),h.Tu.Jr(),h.Pu=new Map,h.hu=new bt(ve.comparator)}(t),t.Au=!1,await TE(t.remoteStore,!1)}}async function I1(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const f=r.cu.get(u);if(f&&f.length!==0){h=await pc(r.localStore,tr(f[0]));for(const d of f){const g=r.uu.get(d),_=await sz(r,g);_.snapshot&&o.push(_.snapshot)}}else{const d=await xD(r.localStore,u);h=await pc(r.localStore,d),await mw(r,YD(d),u,!1,h.resumeToken)}i.push(h)}return r.au.j_(o),i}function YD(n){return NO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function uz(n){return function(t){return Ee(Ee(t).persistence).Is()}(Ee(n).localStore)}async function cz(n,e,t,r){const i=Ee(n);if(i.Au)return void pe(uo,"Ignoring unexpected query state notification.");const o=i.cu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await PD(i.localStore,MO(o[0])),h=Bf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",qt.EMPTY_BYTE_STRING);await Ys(i,u,h);break}case"rejected":await mc(i.localStore,e,!0),_c(i,e,r);break;default:we(64155,t)}}async function hz(n,e,t){const r=Ty(n);if(r.Au){for(const i of e){if(r.cu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(uo,"Adding an already active target "+i);continue}const o=await xD(r.localStore,i),u=await pc(r.localStore,o);await mw(r,YD(o),u.targetId,!1,u.resumeToken),wy(r.remoteStore,u)}for(const i of t)r.cu.has(i)&&await mc(r.localStore,i,!1).then(()=>{gc(r.remoteStore,i),_c(r,i)}).catch(so)}}function Ty(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JF.bind(null,e),e.au.j_=FF.bind(null,e.eventManager),e.au.Vu=zF.bind(null,e.eventManager),e}function vw(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ez.bind(null,e),e}function dz(n,e,t){const r=Ee(n);(async function(o,u,h){try{const f=await u.getMetadata();if(await function(T,b){const A=Ee(T),x=Jt(b.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",U=>A.Ei.getBundleMetadata(U,b.id)).then(U=>!!U&&U.createTime.compareTo(x)>=0)}(o.localStore,f))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(f)),Promise.resolve(new Set);h._updateProgress(qD(f));const d=new qF(f,o.localStore,u.serializer);let g=await u.gu();for(;g;){const v=await d.$a(g);v&&h._updateProgress(v),g=await u.gu()}const _=await d.complete();return await Ys(o,_.Wa,void 0),await function(T,b){const A=Ee(T);return A.persistence.runTransaction("Save bundle","readwrite",x=>A.Ei.saveBundleMetadata(x,b))}(o.localStore,f),h._completeWith(_.progress),Promise.resolve(_.Ka)}catch(f){return Xi(uo,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zf(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return AD(this.persistence,new SD,e.initialUser,this.serializer)}yu(e){return new ew(by.fi,this.serializer)}pu(e){return new MD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class fz extends hf{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Ae(this.persistence.referenceDelegate instanceof Ng,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _D(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new ew(r=>Ng.fi(r,t),this.serializer)}}class XD extends hf{constructor(e,t,r){super(),this.Du=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await vw(this.Du.syncEngine),await Mc(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return AD(this.persistence,new SD,e.initialUser,this.serializer)}Su(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new _D(r,e.asyncQueue,t)}bu(e,t){const r=new wB(t,this.persistence);return new bB(e.asyncQueue,r)}yu(e){const t=nw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new tw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,VD(),eg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new MD}}class pz extends XD{constructor(e,t){super(e,t,!1),this.Du=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Du.syncEngine;this.sharedClientState instanceof S0&&(this.sharedClientState.syncEngine={Co:oz.bind(null,t),Fo:cz.bind(null,t),Mo:hz.bind(null,t),Is:uz.bind(null,t),vo:az.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji(async r=>{await lz(this.Du.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}pu(e){const t=VD();if(!S0.C(t))throw new fe(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=nw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new S0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class df{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rz.bind(null,this.syncEngine),await TE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BF}()}createDatastore(e){const t=zf(e.databaseInfo.databaseId),r=function(o){return new bF(o)}(e.databaseInfo);return function(o,u,h,f){return new AF(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new RF(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>A1(this.syncEngine,t,0),function(){return _1.C()?new _1:new yF}())}createSyncEngine(e,t){return function(i,o,u,h,f,d,g){const _=new GF(i,o,u,h,f,d);return g&&(_.Au=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(bl,"RemoteStore shutting down."),o.Ta.add(5),await kc(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}df.provider={build:()=>new df};function R1(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Xt("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,t){this.Fu=e,this.serializer=t,this.metadata=new Ln,this.buffer=new Uint8Array,this.Mu=function(){return new TextDecoder("utf-8")}(),this.xu().then(r=>{r&&r.qa()?this.metadata.resolve(r.ka.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ka)}`))},r=>this.metadata.reject(r))}close(){return this.Fu.cancel()}async getMetadata(){return this.metadata.promise}async gu(){return await this.getMetadata(),this.xu()}async xu(){const e=await this.Ou();if(e===null)return null;const t=this.Mu.decode(e),r=Number(t);isNaN(r)&&this.Nu(`length string (${t}) is not valid number`);const i=await this.Bu(r);return new jF(JSON.parse(i),e.length+r)}Lu(){return this.buffer.findIndex(e=>e===123)}async Ou(){for(;this.Lu()<0&&!await this.ku(););if(this.buffer.length===0)return null;const e=this.Lu();e<0&&this.Nu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Bu(e){for(;this.buffer.length<e;)await this.ku()&&this.Nu("Reached the end of bundle when more is expected.");const t=this.Mu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Nu(e){throw this.Fu.cancel(),new Error(`Invalid bundle format: ${e}`)}async ku(){const e=await this.Fu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>uf(u.serializer,_))},f=await u.Yo("BatchGetDocuments",u.serializer.databaseId,$e.emptyPath(),h,o.length),d=new Map;f.forEach(_=>{const v=C9(u.serializer,_);d.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=d.get(_.toString());Ae(!!v,55234,{key:_}),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=ve.fromPath(r);this.mutations.push(new Hb(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>cf(o.serializer,h))};await o.zo("Commit",o.serializer.databaseId,$e.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we(50498,{qu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new fe(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?Pt.exists(!1):Pt.updateTime(t):Pt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new fe(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pt.updateTime(t)}return Pt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Qu=r.maxAttempts,this.C_=new aw(this.asyncQueue,"transaction_retry")}$u(){this.Qu-=1,this.Uu()}Uu(){this.C_.f_(async()=>{const e=new gz(this.datastore),t=this.Ku(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Wu(i)}))}).catch(r=>{this.Wu(r)})})}Ku(e){try{const t=this.updateFunction(e);return!Nf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Wu(e){this.Qu>0&&this.Gu(e)?(this.Qu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Uu(),Promise.resolve()))):this.deferred.reject(e)}Gu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!WO(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="FirestoreClient";class _z{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=In.UNAUTHENTICATED,this.clientId=JP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(Ya,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(Ya,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Lc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function I0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Ya,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ID(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function C1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Ew(n);pe(Ya,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>E1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>E1(e.remoteStore,i)),n._onlineComponents=e}async function Ew(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Ya,"Using user provided OfflineComponentProvider");try{await I0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Xi("Error using user provided cache. Falling back to memory cache: "+t),await I0(n,new hf)}}else pe(Ya,"Using default OfflineComponentProvider"),await I0(n,new fz(void 0));return n._offlineComponents}async function Ay(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Ya,"Using user provided OnlineComponentProvider"),await C1(n,n._uninitializedComponentsProvider._online)):(pe(Ya,"Using default OnlineComponentProvider"),await C1(n,new df))),n._onlineComponents}function JD(n){return Ew(n).then(e=>e.persistence)}function bw(n){return Ew(n).then(e=>e.localStore)}function ZD(n){return Ay(n).then(e=>e.remoteStore)}function ww(n){return Ay(n).then(e=>e.syncEngine)}function vz(n){return Ay(n).then(e=>e.datastore)}async function vc(n){const e=await Ay(n),t=e.eventManager;return t.onListen=KF.bind(null,e.syncEngine),t.onUnlisten=QF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YF.bind(null,e.syncEngine),t}function Ez(n){return n.asyncQueue.enqueue(async()=>{const e=await JD(n),t=await ZD(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.Ta.delete(0),jf(o)}(t)})}function bz(n){return n.asyncQueue.enqueue(async()=>{const e=await JD(n),t=await ZD(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.Ta.add(0),await kc(o),o.da.set("Offline")}(t)})}function wz(n,e){const t=new Ln;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(d,g){const _=Ee(d);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new fe(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Lc(h,`Failed to get document '${o} from cache`);u.reject(f)}}(await bw(n),e,t)),t.promise}function eN(n,e,t={}){const r=new Ln;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new Sy({next:v=>{g.Cu(),u.enqueueAndForget(()=>dw(o,_));const T=v.docs.has(h);!T&&v.fromCache?d.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&f&&f.source==="server"?d.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new pw(Oc(h.path),g,{includeMetadataChanges:!0,La:!0});return hw(o,_)}(await vc(n),n.asyncQueue,e,t,r)),r.promise}function Tz(n,e){const t=new Ln;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await kg(i,o,!0),f=new GD(o,h.$s),d=f.Za(h.documents),g=f.applyChanges(d,!1);u.resolve(g.snapshot)}catch(h){const f=Lc(h,`Failed to execute query '${o} against cache`);u.reject(f)}}(await bw(n),e,t)),t.promise}function tN(n,e,t={}){const r=new Ln;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new Sy({next:v=>{g.Cu(),u.enqueueAndForget(()=>dw(o,_)),v.fromCache&&f.source==="server"?d.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new pw(h,g,{includeMetadataChanges:!0,La:!0});return hw(o,_)}(await vc(n),n.asyncQueue,e,t,r)),r.promise}function Sz(n,e){const t=new Sy(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ba.add(o),o.next()}(await vc(n),t)),()=>{t.Cu(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ba.delete(o)}(await vc(n),t))}}function Az(n,e,t,r){const i=function(u,h){let f;return f=typeof u=="string"?Ob().encode(u):u,function(g,_){return new mz(g,_)}(function(g,_){if(g instanceof Uint8Array)return R1(g,_);if(g instanceof ArrayBuffer)return R1(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),h)}(t,zf(e));n.asyncQueue.enqueueAndForget(async()=>{dz(await ww(n),i,r)})}function Iz(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ei.getNamedQuery(u,i))}(await bw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(n,e,t){if(!t)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rN(n,e,t,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function P1(n){if(!ve.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function O1(n){if(ve.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Iy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Ze(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Iy(n);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iN(n,e){if(e<=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firestore.googleapis.com",D1=!0;class N1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sN,this.ssl=D1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:D1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<K9)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cB;switch(r.type){case"firstParty":return new pB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=x1.get(t);r&&(pe("ComponentProvider","Removing Datastore"),x1.delete(t),r.terminate())}(this),Promise.resolve()}}function Rz(n,e,t,r={}){var i;n=Ze(n,qf);const o=Af(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o&&(Cx(`https://${f}`),xx("Firestore",!0)),u.host!==sN&&u.host!==f&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!Ls(d,h)&&(n._setSettings(d),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=In.MOCK_USER;else{g=p4(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new In(v)}n._authCredentials=new hB(new XP(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nr=class aN{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aN(this.firestore,e,this._query)}},Vt=class oN{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oN(this.firestore,e,this._key)}},Ba=class lN extends nr{constructor(e,t,r){super(e,t,Oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ve(e))}withConverter(e){return new lN(this.firestore,e,this._path)}};function uN(n,e,...t){if(n=Ce(n),Tw("collection","path",e),n instanceof qf){const r=$e.fromString(e,...t);return O1(r),new Ba(n,null,r)}{if(!(n instanceof Vt||n instanceof Ba))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return O1(r),new Ba(n.firestore,null,r)}}function Cz(n,e){if(n=Ze(n,qf),Tw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nr(n,null,function(r){return new Ks($e.emptyPath(),r)}(e))}function Ug(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=JP.newId()),Tw("doc","path",e),n instanceof qf){const r=$e.fromString(e,...t);return P1(r),new Vt(n,null,new ve(r))}{if(!(n instanceof Vt||n instanceof Ba))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child($e.fromString(e,...t));return P1(r),new Vt(n.firestore,n instanceof Ba?n.converter:null,new ve(r))}}function cN(n,e){return n=Ce(n),e=Ce(e),(n instanceof Vt||n instanceof Ba)&&(e instanceof Vt||e instanceof Ba)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function hN(n,e){return n=Ce(n),e=Ce(e),n instanceof nr&&e instanceof nr&&n.firestore===e.firestore&&Vf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="AsyncQueue";class M1{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new aw(this,"async_queue_retry"),this.ec=()=>{const r=eg();r&&pe(k1,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=eg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=eg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Ln;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ao(e))throw e;pe(k1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Xt("INTERNAL UNHANDLED ERROR: ",V1(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=cw.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&we(47125,{_c:V1(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function V1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class xz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ln,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=-1;let Zt=class extends qf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new M1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M1(e),this._firestoreClient=void 0,await e}}};function Kn(n){if(n._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dN(n),n._firestoreClient}function dN(n){var e,t,r;const i=n._freezeSettings(),o=function(h,f,d,g){return new XB(h,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,nN(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new _z(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}function Oz(n,e){Xi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return fN(n,df.provider,{build:r=>new XD(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function Dz(n){Xi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();fN(n,df.provider,{build:t=>new pz(t,e.cacheSizeBytes)})}function fN(n,e,t){if((n=Ze(n,Zt))._firestoreClient||n._terminated)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new fe(ie.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},dN(n)}function Nz(n){if(n._initialized&&!n._terminated)throw new fe(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ln;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Gi.C())return Promise.resolve();const i=r+TD;await Gi.delete(i)}(nw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function kz(n){return function(t){const r=new Ln;return t.asyncQueue.enqueueAndForget(async()=>tz(await ww(t),r)),r.promise}(Kn(n=Ze(n,Zt)))}function Mz(n){return Ez(Kn(n=Ze(n,Zt)))}function Vz(n){return bz(Kn(n=Ze(n,Zt)))}function Lz(n,e){const t=Kn(n=Ze(n,Zt)),r=new xz;return Az(t,n._databaseId,e,r),r}function Uz(n,e){return Iz(Kn(n=Ze(n,Zt)),e).then(t=>t?new nr(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zi(qt.fromBase64String(e))}catch(t){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zi(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=/^__.*__$/;class Fz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dc(e,this.data,t,this.fieldTransforms)}}class pN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{hc:n})}}class Cy{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Cy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Bg(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(mN(this.hc)&&Bz.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class zz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||zf(e)}gc(e,t,r,i=!1){return new Cy({hc:e,methodName:t,fc:r,path:xt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pl(n){const e=n._freezeSettings(),t=zf(n._databaseId);return new zz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xy(n,e,t,r,i,o={}){const u=n.gc(o.merge||o.mergeFields?2:0,e,t,i);Ow("Data must be an object, but it was:",u,r);const h=_N(r,u);let f,d;if(o.merge)f=new ur(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=RE(e,_,t);if(!u.contains(v))throw new fe(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);EN(g,v)||g.push(v)}f=new ur(g),d=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,d=u.fieldTransforms;return new Fz(new Vn(h),f,d)}class Hf extends xl{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hf}}function gN(n,e,t){return new Cy({hc:3,fc:e.settings.fc,methodName:n._methodName,Ec:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Aw extends xl{_toFieldTransform(e){return new Uf(e.path,new hc)}isEqual(e){return e instanceof Aw}}class Iw extends xl{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=gN(this,e,!0),r=this.yc.map(o=>Ol(o,t)),i=new gl(r);return new Uf(e.path,i)}isEqual(e){return e instanceof Iw&&Ls(this.yc,e.yc)}}class Rw extends xl{constructor(e,t){super(e),this.yc=t}_toFieldTransform(e){const t=gN(this,e,!0),r=this.yc.map(o=>Ol(o,t)),i=new yl(r);return new Uf(e.path,i)}isEqual(e){return e instanceof Rw&&Ls(this.yc,e.yc)}}class Cw extends xl{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new dc(e.serializer,zO(e.serializer,this.wc));return new Uf(e.path,t)}isEqual(e){return e instanceof Cw&&this.wc===e.wc}}function xw(n,e,t,r){const i=n.gc(1,e,t);Ow("Data must be an object, but it was:",i,r);const o=[],u=Vn.empty();oo(r,(f,d)=>{const g=Dw(e,f,t);d=Ce(d);const _=i.Ac(g);if(d instanceof Hf)o.push(g);else{const v=Ol(d,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new ur(o);return new pN(u,h,i.fieldTransforms)}function Pw(n,e,t,r,i,o){const u=n.gc(1,e,t),h=[RE(e,r,t)],f=[i];if(o.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(RE(e,o[v])),f.push(o[v+1]);const d=[],g=Vn.empty();for(let v=h.length-1;v>=0;--v)if(!EN(d,h[v])){const T=h[v];let b=f[v];b=Ce(b);const A=u.Ac(T);if(b instanceof Hf)d.push(T);else{const x=Ol(b,A);x!=null&&(d.push(T),g.set(T,x))}}const _=new ur(d);return new pN(g,_,u.fieldTransforms)}function yN(n,e,t,r=!1){return Ol(t,n.gc(r?4:3,e))}function Ol(n,e){if(vN(n=Ce(n)))return Ow("Unsupported field value:",e,n),_N(n,e);if(n instanceof xl)return function(r,i){if(!mN(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let f=Ol(h,i.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ot.fromDate(r);return{timestampValue:fc(i.serializer,o)}}if(r instanceof Ot){const o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fc(i.serializer,o)}}if(r instanceof Ry)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zi)return{bytesValue:JO(i.serializer,r._byteString)};if(r instanceof Vt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Sw)return function(u,h){return{mapValue:{fields:{[Ub]:{stringValue:Bb},[lc]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.Vc("VectorValues must only contain numeric values.");return qb(h.serializer,d)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Iy(r)}`)}(n,e)}function _N(n,e){const t={};return gO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(n,(r,i)=>{const o=Ol(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function vN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ot||n instanceof Ry||n instanceof Zi||n instanceof Vt||n instanceof xl||n instanceof Sw)}function Ow(n,e,t){if(!vN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Iy(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function RE(n,e,t){if((e=Ce(e))instanceof Xa)return e._internalPath;if(typeof e=="string")return Dw(n,e);throw Bg("Field path arguments must be of type string or ",n,!1,void 0,t)}const jz=new RegExp("[~\\*/\\[\\]]");function Dw(n,e,t){if(e.search(jz)>=0)throw Bg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xa(...e.split("."))._internalPath}catch{throw Bg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bg(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new fe(ie.INVALID_ARGUMENT,h+n+f)}function EN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Py("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qz extends ff{data(){return super.data()}}function Py(n,e){return typeof e=="string"?Dw(n,e):e instanceof Xa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nw{}class $f extends Nw{}function xa(n,e,...t){let r=[];e instanceof Nw&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof kw).length,h=o.filter(f=>f instanceof Oy).length;if(u>1||u>0&&h>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Oy extends $f{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Oy(e,t,r)}_apply(e){const t=this._parse(e);return TN(e._query,t),new nr(e.firestore,e.converter,fE(e._query,t))}_parse(e){const t=Pl(e.firestore);return function(o,u,h,f,d,g,_){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){U1(_,g);const b=[];for(const A of _)b.push(L1(f,o,A));v={arrayValue:{values:b}}}else v=L1(f,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||U1(_,g),v=yN(h,u,_,g==="in"||g==="not-in");return Ge.create(d,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Hz(n,e,t){const r=e,i=Py("where",n);return Oy._create(i,r,t)}class kw extends Nw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:lt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const f of h)TN(u,f),u=fE(u,f)}(e._query,t),new nr(e.firestore,e.converter,fE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mw extends $f{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Mw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lf(o,u)}(e._query,this._field,this._direction);return new nr(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new Ks(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function $z(n,e="asc"){const t=e,r=Py("orderBy",n);return Mw._create(r,t)}class Dy extends $f{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Dy(e,t,r)}_apply(e){return new nr(e.firestore,e.converter,xg(e._query,this._limit,this._limitType))}}function Gz(n){return iN("limit",n),Dy._create("limit",n,"F")}function Kz(n){return iN("limitToLast",n),Dy._create("limitToLast",n,"L")}class Ny extends $f{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ny(e,t,r)}_apply(e){const t=wN(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,function(i,o){return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function Wz(...n){return Ny._create("startAt",n,!0)}function Qz(...n){return Ny._create("startAfter",n,!1)}class ky extends $f{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ky(e,t,r)}_apply(e){const t=wN(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,function(i,o){return new Ks(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function Yz(...n){return ky._create("endBefore",n,!1)}function Xz(...n){return ky._create("endAt",n,!0)}function wN(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof ff)return function(o,u,h,f,d){if(!f)throw new fe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of Ku(o))if(_.field.isKeyField())g.push(pl(u,f.key));else{const v=f.data.field(_.field);if(py(v))throw new fe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new fe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new Wa(g,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Pl(n.firestore);return function(u,h,f,d,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new fe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let b=0;b<g.length;b++){const A=g[b];if(v[b].field.isKeyField()){if(typeof A!="string")throw new fe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof A}`);if(!zb(u)&&A.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${A}' contains a slash.`);const x=u.path.child($e.fromString(A));if(!ve.isDocumentKey(x))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const U=new ve(x);T.push(pl(h,U))}else{const x=yN(f,d,A);T.push(x)}}return new Wa(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function L1(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zb(e)&&t.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child($e.fromString(t));if(!ve.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pl(n,new ve(r))}if(t instanceof Vt)return pl(n,t._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Iy(t)}.`)}function U1(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TN(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Vw{convertValue(e,t="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return oo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[lc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>Rt(u.doubleValue));return new Sw(o)}convertGeoPoint(e){return new Ry(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=my(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sf(e));default:return null}}convertTimestamp(e){const t=Fs(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=$e.fromString(e);Ae(uD(r),9688,{name:e});const i=new $a(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(t)||Xt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Jz extends Vw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let js=class extends ff{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},jd=class extends js{data(e={}){return super.data(e)}},Ja=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new sl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jd(this._firestore,this._userDataWriter,r.key,r,new sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const f=new jd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new sl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new jd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new sl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:Zz(h.type),doc:f,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Zz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}function SN(n,e){return n instanceof js&&e instanceof js?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ja&&e instanceof Ja&&n._firestore===e._firestore&&hN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n){n=Ze(n,Vt);const e=Ze(n.firestore,Zt);return eN(Kn(e),n._key).then(t=>Lw(e,n,t))}class Dl extends Vw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}}function tj(n){n=Ze(n,Vt);const e=Ze(n.firestore,Zt),t=Kn(e),r=new Dl(e);return wz(t,n._key).then(i=>new js(e,r,n._key,i,new sl(i!==null&&i.hasLocalMutations,!0),n.converter))}function nj(n){n=Ze(n,Vt);const e=Ze(n.firestore,Zt);return eN(Kn(e),n._key,{source:"server"}).then(t=>Lw(e,n,t))}function rj(n){n=Ze(n,nr);const e=Ze(n.firestore,Zt),t=Kn(e),r=new Dl(e);return bN(n._query),tN(t,n._query).then(i=>new Ja(e,r,n,i))}function ij(n){n=Ze(n,nr);const e=Ze(n.firestore,Zt),t=Kn(e),r=new Dl(e);return Tz(t,n._query).then(i=>new Ja(e,r,n,i))}function sj(n){n=Ze(n,nr);const e=Ze(n.firestore,Zt),t=Kn(e),r=new Dl(e);return tN(t,n._query,{source:"server"}).then(i=>new Ja(e,r,n,i))}function B1(n,e,t){n=Ze(n,Vt);const r=Ze(n.firestore,Zt),i=My(n.converter,e,t);return Gf(r,[xy(Pl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Pt.none())])}function F1(n,e,t,...r){n=Ze(n,Vt);const i=Ze(n.firestore,Zt),o=Pl(i);let u;return u=typeof(e=Ce(e))=="string"||e instanceof Xa?Pw(o,"updateDoc",n._key,e,t,r):xw(o,"updateDoc",n._key,e),Gf(i,[u.toMutation(n._key,Pt.exists(!0))])}function aj(n){return Gf(Ze(n.firestore,Zt),[new Nc(n._key,Pt.none())])}function oj(n,e){const t=Ze(n.firestore,Zt),r=Ug(n),i=My(n.converter,e);return Gf(t,[xy(Pl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Pt.exists(!1))]).then(()=>r)}function AN(n,...e){var t,r,i;n=Ce(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||IE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(IE(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let f,d,g;if(n instanceof Vt)d=Ze(n.firestore,Zt),g=Oc(n._key.path),f={next:_=>{e[u]&&e[u](Lw(d,n,_))},error:e[u+1],complete:e[u+2]};else{const _=Ze(n,nr);d=Ze(_.firestore,Zt),g=_._query;const v=new Dl(d);f={next:T=>{e[u]&&e[u](new Ja(d,v,_,T))},error:e[u+1],complete:e[u+2]},bN(n._query)}return function(v,T,b,A){const x=new Sy(A),U=new pw(T,x,b);return v.asyncQueue.enqueueAndForget(async()=>hw(await vc(v),U)),()=>{x.Cu(),v.asyncQueue.enqueueAndForget(async()=>dw(await vc(v),U))}}(Kn(d),g,h,f)}function lj(n,e){return Sz(Kn(n=Ze(n,Zt)),IE(e)?e:{next:e})}function Gf(n,e){return function(r,i){const o=new Ln;return r.asyncQueue.enqueueAndForget(async()=>XF(await ww(r),i,o)),o.promise}(Kn(n),e)}function Lw(n,e,t){const r=t.docs.get(e._key),i=new Dl(n);return new js(n,i,e._key,r,new sl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cj=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pl(e)}set(e,t,r){this._verifyNotCommitted();const i=Na(e,this._firestore),o=My(i.converter,t,r),u=xy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,Pt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Na(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof Xa?Pw(this._dataReader,"WriteBatch.update",o._key,t,r,i):xw(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Pt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Na(e,this._firestore);return this._mutations=this._mutations.concat(new Nc(t._key,Pt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Na(n,e){if((n=Ce(n)).firestore!==e)throw new fe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Pl(e)}get(e){const t=Na(e,this._firestore),r=new Jz(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we(24041);const o=i[0];if(o.isFoundDocument())return new ff(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new ff(this._firestore,r,t._key,null,t.converter);throw we(18433,{doc:o})})}set(e,t,r){const i=Na(e,this._firestore),o=My(i.converter,t,r),u=xy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Na(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof Xa?Pw(this._dataReader,"Transaction.update",o._key,t,r,i):xw(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Na(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dj=class extends hj{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Na(e,this._firestore),r=new Dl(this._firestore);return super.get(e).then(i=>new js(this._firestore,r,t._key,i._document,new sl(!1,!1),t.converter))}};function fj(n,e,t){n=Ze(n,Zt);const r=Object.assign(Object.assign({},uj),t);return function(o){if(o.maxAttempts<1)throw new fe(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const f=new Ln;return o.asyncQueue.enqueueAndForget(async()=>{const d=await vz(o);new yz(o.asyncQueue,d,h,u,f).$u()}),f.promise}(Kn(n),i=>e(new dj(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(){return new Hf("deleteField")}function mj(){return new Aw("serverTimestamp")}function gj(...n){return new Iw("arrayUnion",n)}function yj(...n){return new Rw("arrayRemove",n)}function _j(n){return new Cw("increment",n)}(function(e,t=!0){(function(i){Pc=i})(ro),ja(new Qi("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Zt(new dB(r.getProvider("auth-internal")),new mB(u,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(d.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),hi(mR,gR,e),hi(mR,gR,"esm2017")})();const vj="@firebase/firestore-compat",Ej="0.3.51";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){if(typeof Uint8Array>"u")throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function j1(){if(!QB())throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let IN=class CE{constructor(e){this._delegate=e}static fromBase64String(e){return j1(),new CE(Zi.fromBase64String(e))}static fromUint8Array(e){return z1(),new CE(Zi.fromUint8Array(e))}toBase64(){return j1(),this._delegate.toBase64()}toUint8Array(){return z1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(n){return bj(n,["next","error","complete"])}function bj(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{enableIndexedDbPersistence(e,t){return Oz(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return Dz(e._delegate)}clearIndexedDbPersistence(e){return Nz(e._delegate)}}class RN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $a||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){Rz(this._delegate,e,t,r)}enableNetwork(){return Mz(this._delegate)}disableNetwork(){return Vz(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return kz(this._delegate)}onSnapshotsInSync(e){return lj(this._delegate,e)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ec(this,uN(this._delegate,e))}catch(t){throw Zn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Wr(this,Ug(this._delegate,e))}catch(t){throw Zn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Jn(this,Cz(this._delegate,e))}catch(t){throw Zn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return fj(this._delegate,t=>e(new CN(this,t)))}batch(){return Kn(this._delegate),new xN(new cj(this._delegate,e=>Gf(this._delegate,e)))}loadBundle(e){return Lz(this._delegate,e)}namedQuery(e){return Uz(this._delegate,e).then(t=>t?new Jn(this,t):null)}}class Vy extends Vw{constructor(e){super(),this.firestore=e}convertBytes(e){return new IN(new Zi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Wr.forKey(t,this.firestore,null)}}function Tj(n){lB(n)}class CN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Vy(e)}get(e){const t=al(e);return this._delegate.get(t).then(r=>new pf(this._firestore,new js(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=al(e);return r?(Uw("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=al(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=al(e);return this._delegate.delete(t),this}}class xN{constructor(e){this._delegate=e}set(e,t,r){const i=al(e);return r?(Uw("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=al(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=al(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new jd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=wl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new wl(e,new Vy(e),t),i.set(t,o)),o}}wl.INSTANCES=new WeakMap;class Wr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vy(e)}static forPath(e,t,r){if(e.length%2!==0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wr(t,new Vt(t._delegate,r,new ve(e)))}static forKey(e,t,r){return new Wr(t,new Vt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ec(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ec(this.firestore,uN(this._delegate,e))}catch(t){throw Zn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Vt?cN(this._delegate,e):!1}set(e,t){t=Uw("DocumentReference.set",t);try{return t?B1(this._delegate,e,t):B1(this._delegate,e)}catch(r){throw Zn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?F1(this._delegate,e):F1(this._delegate,e,t,...r)}catch(i){throw Zn(i,"updateDoc()","DocumentReference.update()")}}delete(){return aj(this._delegate)}onSnapshot(...e){const t=PN(e),r=ON(e,i=>new pf(this.firestore,new js(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return AN(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=tj(this._delegate):(e==null?void 0:e.source)==="server"?t=nj(this._delegate):t=ej(this._delegate),t.then(r=>new pf(this.firestore,new js(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Wr(this.firestore,e?this._delegate.withConverter(wl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Zn(n,e,t){return n.message=n.message.replace(e,t),n}function PN(n){for(const e of n)if(typeof e=="object"&&!xE(e))return e;return{}}function ON(n,e){var t,r;let i;return xE(n[0])?i=n[0]:xE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class pf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Wr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return SN(this._delegate,e._delegate)}}class mf extends pf{data(e){const t=this._delegate.data(e);return this._delegate._converter||uB(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Jn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vy(e)}where(e,t,r){try{return new Jn(this.firestore,xa(this._delegate,Hz(e,t,r)))}catch(i){throw Zn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Jn(this.firestore,xa(this._delegate,$z(e,t)))}catch(r){throw Zn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Jn(this.firestore,xa(this._delegate,Gz(e)))}catch(t){throw Zn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Jn(this.firestore,xa(this._delegate,Kz(e)))}catch(t){throw Zn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Jn(this.firestore,xa(this._delegate,Wz(...e)))}catch(t){throw Zn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Jn(this.firestore,xa(this._delegate,Qz(...e)))}catch(t){throw Zn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Jn(this.firestore,xa(this._delegate,Yz(...e)))}catch(t){throw Zn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Jn(this.firestore,xa(this._delegate,Xz(...e)))}catch(t){throw Zn(t,"endAt()","Query.endAt()")}}isEqual(e){return hN(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=ij(this._delegate):(e==null?void 0:e.source)==="server"?t=sj(this._delegate):t=rj(this._delegate),t.then(r=>new PE(this.firestore,new Ja(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=PN(e),r=ON(e,i=>new PE(this.firestore,new Ja(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return AN(this._delegate,t,r)}withConverter(e){return new Jn(this.firestore,e?this._delegate.withConverter(wl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Sj{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new mf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class PE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Jn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new mf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Sj(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new mf(this._firestore,r))})}isEqual(e){return SN(this._delegate,e._delegate)}}class Ec extends Jn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wr(this.firestore,e):null}doc(e){try{return e===void 0?new Wr(this.firestore,Ug(this._delegate)):new Wr(this.firestore,Ug(this._delegate,e))}catch(t){throw Zn(t,"doc()","CollectionReference.doc()")}}add(e){return oj(this._delegate,e).then(t=>new Wr(this.firestore,t))}isEqual(e){return cN(this._delegate,e._delegate)}withConverter(e){return new Ec(this.firestore,e?this._delegate.withConverter(wl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function al(n){return Ze(n,Vt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(...e){this._delegate=new Xa(...e)}static documentId(){return new Bw(xt.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof Xa?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static serverTimestamp(){const e=mj();return e._methodName="FieldValue.serverTimestamp",new nl(e)}static delete(){const e=pj();return e._methodName="FieldValue.delete",new nl(e)}static arrayUnion(...e){const t=gj(...e);return t._methodName="FieldValue.arrayUnion",new nl(t)}static arrayRemove(...e){const t=yj(...e);return t._methodName="FieldValue.arrayRemove",new nl(t)}static increment(e){const t=_j(e);return t._methodName="FieldValue.increment",new nl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj={Firestore:RN,GeoPoint:Ry,Timestamp:Ot,Blob:IN,Transaction:CN,WriteBatch:xN,DocumentReference:Wr,DocumentSnapshot:pf,Query:Jn,QueryDocumentSnapshot:mf,QuerySnapshot:PE,CollectionReference:Ec,FieldPath:Bw,FieldValue:nl,setLogLevel:Tj,CACHE_SIZE_UNLIMITED:Pz};function Ij(n,e){n.INTERNAL.registerComponent(new Qi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Aj)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(n){Ij(n,(e,t)=>new RN(e,t,new wj)),n.registerVersion(vj,Ej)}Rj(Ic);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=2e3;async function xj(n,e,t){var r;const{BuildInfo:i}=Tl();fi(e.sessionId,"AuthEvent did not contain a session ID");const o=await kj(e.sessionId),u={};return Cf()?u.ibi=i.packageName:Rf()?u.apn=i.packageName:Cn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,Z0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function Pj(n){const{BuildInfo:e}=Tl(),t={};Cf()?t.iosBundleId=e.packageName:Rf()?t.androidPackageName=e.packageName:Cn(n,"operation-not-supported-in-this-environment"),await zP(n,t)}function Oj(n){const{cordova:e}=Tl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,mU()?"_blank":"_system","location=yes"),t(i)})})}async function Dj(n,e,t){const{cordova:r}=Tl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function f(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function d(){h||(h=window.setTimeout(()=>{u(_n(n,"redirect-cancelled-by-user"))},Cj))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(f),document.addEventListener("resume",d,!1),Rf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function Nj(n){var e,t,r,i,o,u,h,f,d,g;const _=Tl();ye(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((f=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((g=(d=_==null?void 0:_.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function kj(n){const e=Mj(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Mj(n){if(fi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=20;class Lj extends BP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Uj(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:zj(),postBody:null,tenantId:n.tenantId,error:_n(n,"no-auth-event")}}function Bj(n,e){return OE()._set(DE(n),e)}async function q1(n){const e=await OE()._get(DE(n));return e&&await OE()._remove(DE(n)),e}function Fj(n,e){var t,r;const i=qj(e);if(i.includes("/__/auth/callback")){const o=tg(i),u=o.firebaseError?jj(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],f=h?_n(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function zj(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<Vj;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function OE(){return xr(sy)}function DE(n){return ll("authEvent",n.config.apiKey,n.name)}function jj(n){try{return JSON.parse(n)}catch{return null}}function qj(n){const e=tg(n),t=e.link?decodeURIComponent(e.link):void 0,r=tg(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return tg(i).link||i||r||t||n}function tg(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return ju(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=500;class $j{constructor(){this._redirectPersistence=qa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=uy,this._overrideRedirectResult=Cb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new Lj(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Cn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){Nj(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),y5(),await this._originValidation(e);const u=Uj(e,r,i);await Bj(e,u);const h=await xj(e,u,t),f=await Oj(h);return Dj(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Pj(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Tl(),u=setTimeout(async()=>{await q1(e),t.onEvent(H1())},Hj),h=async g=>{clearTimeout(u);const _=await q1(e);let v=null;_&&(g!=null&&g.url)&&(v=Fj(_,g.url)),t.onEvent(v||H1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=i,d=`${o.packageName.toLowerCase()}://`;Tl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(d)&&h({url:g}),typeof f=="function")try{f(g)}catch(_){console.error(_)}}}}const Gj=$j;function H1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_n("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(n,e){Ut(n)._logFramework(e)}var Wj="@firebase/auth-compat",Qj="0.5.26";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=1e3;function qd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function Xj(){return qd()==="http:"||qd()==="https:"}function DN(n=Lt()){return!!((qd()==="file:"||qd()==="ionic:"||qd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jj(){return ob()||Yg()}function Zj(){return Dx()&&(document==null?void 0:document.documentMode)===11}function eq(n=Lt()){return/Edge\/\d+/.test(n)}function tq(n=Lt()){return Zj()||eq(n)}function NN(){try{const n=self.localStorage,e=Of();if(n)return n.setItem(e,"1"),n.removeItem(e),tq()?Kd():!0}catch{return Fw()&&Kd()}return!1}function Fw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function R0(){return(Xj()||Ox()||DN())&&!Jj()&&NN()&&!Fw()}function kN(){return DN()&&typeof document<"u"}async function nq(){return kN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},Yj);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function rq(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={LOCAL:"local",NONE:"none",SESSION:"session"},ad=ye,MN="persistence";function iq(n,e){if(ad(Object.values(Ir).includes(e),n,"invalid-persistence-type"),ob()){ad(e!==Ir.SESSION,n,"unsupported-persistence-type");return}if(Yg()){ad(e===Ir.NONE,n,"unsupported-persistence-type");return}if(Fw()){ad(e===Ir.NONE||e===Ir.LOCAL&&Kd(),n,"unsupported-persistence-type");return}ad(e===Ir.NONE||NN(),n,"unsupported-persistence-type")}async function NE(n){await n._initializationPromise;const e=VN(),t=ll(MN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function sq(n,e){const t=VN();if(!t)return[];const r=ll(MN,n,e);switch(t.getItem(r)){case Ir.NONE:return[Zu];case Ir.LOCAL:return[tc,qa];case Ir.SESSION:return[qa];default:return[]}}function VN(){var n;try{return((n=rq())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq=ye;class ka{constructor(){this.browserResolver=xr(jP),this.cordovaResolver=xr(Gj),this.underlyingResolver=null,this._redirectPersistence=qa,this._completeRedirectFn=uy,this._overrideRedirectResult=Cb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return kN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return aq(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await nq();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n){return n.unwrap()}function oq(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(n){return UN(n)}function uq(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new cq(n,D6(n,e))}else if(r){const i=UN(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function UN(n){const{_tokenResponse:e}=n instanceof er?n.customData:n;if(!e)return null;if(!(n instanceof er)&&"temporaryProof"in e&&"phoneNumber"in e)return fl.credentialFromResult(n);const t=e.providerId;if(!t||t===Zh.PASSWORD)return null;let r;switch(t){case Zh.GOOGLE:r=Fi;break;case Zh.FACEBOOK:r=Bi;break;case Zh.GITHUB:r=zi;break;case Zh.TWITTER:r=ji;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?ec._create(t,h):Yi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new $u(t).credential({idToken:i,accessToken:o,rawNonce:f})}return n instanceof er?r.credentialFromError(n):r.credentialFromResult(n)}function or(n,e){return e.catch(t=>{throw t instanceof er&&uq(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:lq(t),additionalUserInfo:x6(t),user:Ns.getOrCreate(i)}})}async function kE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>or(n,t.confirm(r))}}class cq{constructor(e,t){this.resolver=t,this.auth=oq(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return or(LN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._delegate=e,this.multiFactor=M6(e)}static getOrCreate(e){return Ns.USER_MAP.has(e)||Ns.USER_MAP.set(e,new Ns(e)),Ns.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return or(this.auth,wP(this._delegate,e))}async linkWithPhoneNumber(e,t){return kE(this.auth,i5(this._delegate,e,t))}async linkWithPopup(e){return or(this.auth,f5(this._delegate,e,ka))}async linkWithRedirect(e){return await NE(Ut(this.auth)),w5(this._delegate,e,ka)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return or(this.auth,TP(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return kE(this.auth,s5(this._delegate,e,t))}reauthenticateWithPopup(e){return or(this.auth,d5(this._delegate,e,ka))}async reauthenticateWithRedirect(e){return await NE(Ut(this.auth)),E5(this._delegate,e,ka)}sendEmailVerification(e){return _6(this._delegate,e)}async unlink(e){return await a6(this._delegate,e),this}updateEmail(e){return w6(this._delegate,e)}updatePassword(e){return T6(this._delegate,e)}updatePhoneNumber(e){return a5(this._delegate,e)}updateProfile(e){return b6(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return v6(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ns.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=ye;class ME{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;od(r,"invalid-api-key",{appName:e.name}),od(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ka:void 0;this._delegate=t.initialize({options:{persistence:hq(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Q3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ns.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){pP(this._delegate,e,t)}applyActionCode(e){return h6(this._delegate,e)}checkActionCode(e){return SP(this._delegate,e)}confirmPasswordReset(e,t){return c6(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return or(this._delegate,AP(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return y6(this._delegate,e)}isSignInWithEmailLink(e){return p6(this._delegate,e)}async getRedirectResult(){od(R0(),this._delegate,"operation-not-supported-in-this-environment");const e=await S5(this._delegate,ka);return e?or(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Kj(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=$1(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=$1(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return f6(this._delegate,e,t)}sendPasswordResetEmail(e,t){return u6(this._delegate,e,t||void 0)}async setPersistence(e){iq(this._delegate,e);let t;switch(e){case Ir.SESSION:t=qa;break;case Ir.LOCAL:t=await xr(tc)._isAvailable()?tc:sy;break;case Ir.NONE:t=Zu;break;default:return Cn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return or(this._delegate,s6(this._delegate))}signInWithCredential(e){return or(this._delegate,ry(this._delegate,e))}signInWithCustomToken(e){return or(this._delegate,l6(this._delegate,e))}signInWithEmailAndPassword(e,t){return or(this._delegate,IP(this._delegate,e,t))}signInWithEmailLink(e,t){return or(this._delegate,m6(this._delegate,e,t))}signInWithPhoneNumber(e,t){return kE(this._delegate,r5(this._delegate,e,t))}async signInWithPopup(e){return od(R0(),this._delegate,"operation-not-supported-in-this-environment"),or(this._delegate,h5(this._delegate,e,ka))}async signInWithRedirect(e){return od(R0(),this._delegate,"operation-not-supported-in-this-environment"),await NE(this._delegate),_5(this._delegate,e,ka)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return d6(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}ME.Persistence=Ir;function $1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Ns.getOrCreate(u)),error:e,complete:t}}function hq(n,e){const t=sq(n,e);if(typeof self<"u"&&!t.includes(tc)&&t.push(tc),typeof window<"u")for(const r of[sy,qa])t.includes(r)||t.push(r);return t.includes(Zu)||t.push(Zu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{static credential(e,t){return fl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new fl(LN(Ic.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}zw.PHONE_SIGN_IN_METHOD=fl.PHONE_SIGN_IN_METHOD;zw.PROVIDER_ID=fl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=ye;class fq{constructor(e,t,r=Ic.app()){var i;dq((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new t5(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq="auth-compat";function mq(n){n.INTERNAL.registerComponent(new Qi(pq,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new ME(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Su.EMAIL_SIGNIN,PASSWORD_RESET:Su.PASSWORD_RESET,RECOVER_EMAIL:Su.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Su.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Su.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Su.VERIFY_EMAIL}},EmailAuthProvider:io,FacebookAuthProvider:Bi,GithubAuthProvider:zi,GoogleAuthProvider:Fi,OAuthProvider:$u,SAMLAuthProvider:vg,PhoneAuthProvider:zw,PhoneMultiFactorGenerator:qP,RecaptchaVerifier:fq,TwitterAuthProvider:ji,Auth:ME,AuthCredential:Cc,Error:er}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(Wj,Qj)}mq(Ic);const gq={apiKey:"AIzaSyDzYYj8eUmuvNOzjN7BO9AV6uhYZ33oYBk",authDomain:"clone-21ad4.firebaseapp.com",projectId:"clone-21ad4",storageBucket:"clone-21ad4.firebasestorage.app",messagingSenderId:"712413343320",appId:"1:712413343320:web:d66ceaa6f3701dbba3e42d"},BN=Ic.initializeApp(gq),Fg=aB(BN),FN=BN.firestore();function yq(){var r;const[{user:n,basket:e}]=W.useContext(Hs),t=e==null?void 0:e.reduce((i,o)=>o.amount+i,0);return z.jsxs("div",{className:pt.fixed,children:[z.jsx("section",{children:z.jsxs("div",{className:pt.header__container,children:[z.jsxs("div",{className:pt.logo__container,children:[z.jsx("div",{className:pt.logo__wrapper,children:z.jsx(Rr,{to:"/",children:z.jsx("img",{src:t4,alt:"Amazon Logo",className:pt.logo})})}),z.jsxs("div",{className:pt.delivery,children:[z.jsx(WL,{className:pt.icon}),z.jsxs("div",{children:[z.jsx("p",{className:pt.label,children:"Deliver to"}),z.jsx("span",{className:pt.location,children:"Ethiopia"})]})]})]}),z.jsxs("div",{className:pt.search,children:[z.jsxs("select",{name:"category",className:`${pt.search__select} no-style`,children:[z.jsx("option",{value:"",children:"All"}),z.jsx("option",{value:"electronics",children:"Electronics"}),z.jsx("option",{value:"books",children:"Books"})]}),z.jsx("input",{type:"text",placeholder:"Search Amazon",className:`${pt.search__input} no-style`}),z.jsx("button",{className:pt.search__button,children:z.jsx(KL,{size:20})})]}),z.jsxs("div",{className:pt.order__container,children:[z.jsxs(Rr,{to:"#",className:pt.language,children:[z.jsx("img",{src:"https://th.bing.com/th/id/OIP.negtMnvm6KcK8VhtCm3MzQHaD_?cb=iwp2&rs=1&pid=ImgDetMain",alt:"US Flag",className:pt.flag}),z.jsxs("select",{className:`${pt.language__select} no-style`,children:[z.jsx("option",{value:"en",children:"EN"}),z.jsx("option",{value:"es",children:"ES"})]})]}),z.jsx(Rr,{to:!n&&"/signup",className:pt.account,children:z.jsx("div",{children:n?z.jsxs(z.Fragment,{children:[z.jsxs("p",{className:pt.label,children:["Hello, ",(r=n==null?void 0:n.email)==null?void 0:r.split("@")[0]]}),z.jsx("span",{onClick:()=>Fg.signOut(),children:"Sign Out"})]}):z.jsxs(z.Fragment,{children:[z.jsx("p",{className:pt.label,children:"Hello, sign in"}),z.jsx("span",{className:pt.bold,children:"Account & Lists"})]})})}),z.jsxs(Rr,{to:"/orders",className:pt.orders,children:[z.jsx("p",{className:pt.label,children:"Returns"}),z.jsx("span",{className:pt.bold,children:"& Orders"})]}),z.jsxs(Rr,{to:"/cart",className:pt.cart,children:[z.jsx("img",{src:n4,alt:"",className:pt.icon,width:"40px"}),z.jsx("span",{className:pt.cart__count,children:t}),z.jsx("span",{className:pt.cart__label,children:"Cart"})]})]})]})}),z.jsx(e4,{})]})}function Uc({children:n}){return z.jsxs("div",{children:[z.jsx(yq,{}),n]})}const _q="_heroImg_jbf3v_1",vq={heroImg:_q},Eq="/My-Amazon/assets/10001-bl35EseN.jpg",bq="/My-Amazon/assets/10002-CO6XiwvK.jpg",wq="/My-Amazon/assets/10003-CKEg0SWO.jpg",Tq="/My-Amazon/assets/10004-Fp0oaH3y.jpg",Sq="/My-Amazon/assets/10005-DFW8ojyC.jpg",Aq=[Eq,bq,wq,Tq,Sq];var C0={},ld={},Pm={},Om={},x0={exports:{}},P0,G1;function Iq(){if(G1)return P0;G1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return P0=n,P0}var O0,K1;function Rq(){if(K1)return O0;K1=1;var n=Iq();function e(){}function t(){}return t.resetWarningCache=e,O0=function(){function r(u,h,f,d,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},O0}var W1;function zN(){return W1||(W1=1,x0.exports=Rq()()),x0.exports}var Q1;function Cq(){return Q1||(Q1=1,function(n){(function(e,t){t(n,to(),zN())})(Om,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=b;var i=u(t),o=u(r);function u(L){return L&&L.__esModule?L:{default:L}}var h=Object.assign||function(L){for(var V=1;V<arguments.length;V++){var H=arguments[V];for(var F in H)Object.prototype.hasOwnProperty.call(H,F)&&(L[F]=H[F])}return L};function f(L,V){var H={};for(var F in L)V.indexOf(F)>=0||Object.prototype.hasOwnProperty.call(L,F)&&(H[F]=L[F]);return H}function d(L,V){if(!(L instanceof V))throw new TypeError("Cannot call a class as a function")}var g=function(){function L(V,H){for(var F=0;F<H.length;F++){var K=H[F];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(V,K.key,K)}}return function(V,H,F){return H&&L(V.prototype,H),F&&L(V,F),V}}();function _(L,V){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:L}function v(L,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);L.prototype=Object.create(V&&V.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(L,V):L.__proto__=V)}var T=!1;function b(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){b(!0)}}))}catch{}function A(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function x(L){if("touches"in L){var V=L.touches[0],H=V.pageX,F=V.pageY;return{x:H,y:F}}var K=L.screenX,M=L.screenY;return{x:K,y:M}}var U=function(L){v(V,L);function V(){var H;d(this,V);for(var F=arguments.length,K=Array(F),M=0;M<F;M++)K[M]=arguments[M];var R=_(this,(H=V.__proto__||Object.getPrototypeOf(V)).call.apply(H,[this].concat(K)));return R._handleSwipeStart=R._handleSwipeStart.bind(R),R._handleSwipeMove=R._handleSwipeMove.bind(R),R._handleSwipeEnd=R._handleSwipeEnd.bind(R),R._onMouseDown=R._onMouseDown.bind(R),R._onMouseMove=R._onMouseMove.bind(R),R._onMouseUp=R._onMouseUp.bind(R),R._setSwiperRef=R._setSwiperRef.bind(R),R}return g(V,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(F){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(F))}},{key:"_onMouseMove",value:function(F){this.mouseDown&&this._handleSwipeMove(F)}},{key:"_onMouseUp",value:function(F){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(F)}},{key:"_handleSwipeStart",value:function(F){var K=x(F),M=K.x,R=K.y;this.moveStart={x:M,y:R},this.props.onSwipeStart(F)}},{key:"_handleSwipeMove",value:function(F){if(this.moveStart){var K=x(F),M=K.x,R=K.y,P=M-this.moveStart.x,w=R-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x:P,y:w},F);O&&F.cancelable&&F.preventDefault(),this.movePosition={deltaX:P,deltaY:w}}}},{key:"_handleSwipeEnd",value:function(F){this.props.onSwipeEnd(F);var K=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-K?this.props.onSwipeLeft(1,F):this.movePosition.deltaX>K&&this.props.onSwipeRight(1,F),this.movePosition.deltaY<-K?this.props.onSwipeUp(1,F):this.movePosition.deltaY>K&&this.props.onSwipeDown(1,F)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(F){this.swiper=F,this.props.innerRef(F)}},{key:"render",value:function(){var F=this.props;F.tagName;var K=F.className,M=F.style,R=F.children;F.allowMouseEvents,F.onSwipeUp,F.onSwipeDown,F.onSwipeLeft,F.onSwipeRight,F.onSwipeStart,F.onSwipeMove,F.onSwipeEnd,F.innerRef,F.tolerance;var P=f(F,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:K,style:M},P),R)}}]),V}(t.Component);U.displayName="ReactSwipe",U.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},U.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=U})}(Om)),Om}var Y1;function jN(){return Y1||(Y1=1,function(n){(function(e,t){t(n,Cq())})(Pm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Pm)),Pm}var ud={},D0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var X1;function xq(){return X1||(X1=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(D0)),D0.exports}var J1;function qN(){if(J1)return ud;J1=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=void 0;var n=e(xq());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return ud.default=r,ud}var cd={},hd={},Z1;function Pq(){if(Z1)return hd;Z1=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return hd.outerWidth=n,hd}var dd={},eC;function jw(){if(eC)return dd;eC=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",f="("+u.join(",")+")";return h+f};return dd.default=n,dd}var fd={},tC;function HN(){if(tC)return fd;tC=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.default=void 0;var n=function(){return window};return fd.default=n,fd}var nC;function $N(){if(nC)return cd;nC=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var n=f(to()),e=u(qN()),t=Pq(),r=u(jw()),i=u(jN()),o=u(HN());function u(R){return R&&R.__esModule?R:{default:R}}function h(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return h=function(){return R},R}function f(R){if(R&&R.__esModule)return R;if(R===null||d(R)!=="object"&&typeof R!="function")return{default:R};var P=h();if(P&&P.has(R))return P.get(R);var w={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in R)if(Object.prototype.hasOwnProperty.call(R,C)){var D=O?Object.getOwnPropertyDescriptor(R,C):null;D&&(D.get||D.set)?Object.defineProperty(w,C,D):w[C]=R[C]}return w.default=R,P&&P.set(R,w),w}function d(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(w){return typeof w}:d=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},d(R)}function g(){return g=Object.assign||function(R){for(var P=1;P<arguments.length;P++){var w=arguments[P];for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&(R[O]=w[O])}return R},g.apply(this,arguments)}function _(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function v(R,P){for(var w=0;w<P.length;w++){var O=P[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,O.key,O)}}function T(R,P,w){return P&&v(R.prototype,P),R}function b(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),P&&A(R,P)}function A(R,P){return A=Object.setPrototypeOf||function(O,C){return O.__proto__=C,O},A(R,P)}function x(R){var P=V();return function(){var O=H(R),C;if(P){var D=H(this).constructor;C=Reflect.construct(O,arguments,D)}else C=O.apply(this,arguments);return U(this,C)}}function U(R,P){return P&&(d(P)==="object"||typeof P=="function")?P:L(R)}function L(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(R){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},H(R)}function F(R,P,w){return P in R?Object.defineProperty(R,P,{value:w,enumerable:!0,configurable:!0,writable:!0}):R[P]=w,R}var K=function(P){return P.hasOwnProperty("key")},M=function(R){b(w,R);var P=x(w);function w(O){var C;return _(this,w),C=P.call(this,O),F(L(C),"itemsWrapperRef",void 0),F(L(C),"itemsListRef",void 0),F(L(C),"thumbsRef",void 0),F(L(C),"setItemsWrapperRef",function(D){C.itemsWrapperRef=D}),F(L(C),"setItemsListRef",function(D){C.itemsListRef=D}),F(L(C),"setThumbsRef",function(D,se){C.thumbsRef||(C.thumbsRef=[]),C.thumbsRef[se]=D}),F(L(C),"updateSizes",function(){if(!(!C.props.children||!C.itemsWrapperRef||!C.thumbsRef)){var D=n.Children.count(C.props.children),se=C.itemsWrapperRef.clientWidth,B=C.props.thumbWidth?C.props.thumbWidth:(0,t.outerWidth)(C.thumbsRef[0]),$=Math.floor(se/B),J=$<D,le=J?D-$:0;C.setState(function(be,q){return{itemSize:B,visibleItems:$,firstItem:J?C.getFirstItem(q.selectedItem):0,lastPosition:le,showArrows:J}})}}),F(L(C),"handleClickItem",function(D,se,B){if(!K(B)||B.key==="Enter"){var $=C.props.onSelectItem;typeof $=="function"&&$(D,se)}}),F(L(C),"onSwipeStart",function(){C.setState({swiping:!0})}),F(L(C),"onSwipeEnd",function(){C.setState({swiping:!1})}),F(L(C),"onSwipeMove",function(D){var se=D.x;if(!C.state.itemSize||!C.itemsWrapperRef||!C.state.visibleItems)return!1;var B=0,$=n.Children.count(C.props.children),J=-(C.state.firstItem*100)/C.state.visibleItems,le=Math.max($-C.state.visibleItems,0),be=-le*100/C.state.visibleItems;J===B&&se>0&&(se=0),J===be&&se<0&&(se=0);var q=C.itemsWrapperRef.clientWidth,re=J+100/(q/se);return C.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ge){C.itemsListRef.style[ge]=(0,r.default)(re,"%",C.props.axis)}),!0}),F(L(C),"slideRight",function(D){C.moveTo(C.state.firstItem-(typeof D=="number"?D:1))}),F(L(C),"slideLeft",function(D){C.moveTo(C.state.firstItem+(typeof D=="number"?D:1))}),F(L(C),"moveTo",function(D){D=D<0?0:D,D=D>=C.state.lastPosition?C.state.lastPosition:D,C.setState({firstItem:D})}),C.state={selectedItem:O.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},C}return T(w,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(C){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==C.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(C){var D=C;return C>=this.state.lastPosition&&(D=this.state.lastPosition),C<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),C<this.state.firstItem&&(D=C),D}},{key:"renderItems",value:function(){var C=this;return this.props.children.map(function(D,se){var B=e.default.ITEM(!1,se===C.state.selectedItem),$={key:se,ref:function(le){return C.setThumbsRef(le,se)},className:B,onClick:C.handleClickItem.bind(C,se,C.props.children[se]),onKeyDown:C.handleClickItem.bind(C,se,C.props.children[se]),"aria-label":"".concat(C.props.labels.item," ").concat(se+1),style:{width:C.props.thumbWidth}};return n.default.createElement("li",g({},$,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var C=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,se=this.state.showArrows&&this.state.firstItem>0,B=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,$={},J=-this.state.firstItem*(this.state.itemSize||0),le=(0,r.default)(J,"px",this.props.axis),be=this.props.transitionTime+"ms";return $={WebkitTransform:le,MozTransform:le,MsTransform:le,OTransform:le,transform:le,msTransform:le,WebkitTransitionDuration:be,MozTransitionDuration:be,MsTransitionDuration:be,OTransitionDuration:be,transitionDuration:be,msTransitionDuration:be},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!se),onClick:function(){return C.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:$,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(re){return C.setItemsListRef(re)},style:$},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!B),onClick:function(){return C.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),w}(n.Component);return cd.default=M,F(M,"displayName","Thumbs"),F(M,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),cd}var pd={},rC;function Oq(){if(rC)return pd;rC=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.default=void 0;var n=function(){return document};return pd.default=n,pd}var Tr={},iC;function GN(){if(iC)return Tr;iC=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.setPosition=Tr.getPosition=Tr.isKeyboardEvent=Tr.defaultStatusFormatter=Tr.noop=void 0;var n=to(),e=t(jw());function t(f){return f&&f.__esModule?f:{default:f}}var r=function(){};Tr.noop=r;var i=function(d,g){return"".concat(d," of ").concat(g)};Tr.defaultStatusFormatter=i;var o=function(d){return d?d.hasOwnProperty("key"):!1};Tr.isKeyboardEvent=o;var u=function(d,g){if(g.infiniteLoop&&++d,d===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-d*g.centerSlidePercentage,T=_-1;return d&&(d!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:d===T&&(v+=100-g.centerSlidePercentage),v}return-d*100};Tr.getPosition=u;var h=function(d,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(d,"%",g)}),_};return Tr.setPosition=h,Tr}var oi={},sC;function Dq(){if(sC)return oi;sC=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.fadeAnimationHandler=oi.slideStopSwipingHandler=oi.slideSwipeAnimationHandler=oi.slideAnimationHandler=void 0;var n=to(),e=r(jw()),t=GN();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);v&&(b=b.filter(function(A){return Object.getOwnPropertyDescriptor(_,A).enumerable})),T.push.apply(T,b)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(b){u(_,b,T[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(b){Object.defineProperty(_,b,Object.getOwnPropertyDescriptor(T,b))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var b={},A=T.selectedItem,x=A,U=n.Children.count(v.children)-1,L=v.infiniteLoop&&(A<0||A>U);if(L)return x<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?b.itemListStyle=(0,t.setPosition)(-(U+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):b.itemListStyle=(0,t.setPosition)(-(U+2)*100,v.axis):x>U&&(b.itemListStyle=(0,t.setPosition)(0,v.axis)),b;var V=(0,t.getPosition)(A,v),H=(0,e.default)(V,"%",v.axis),F=v.transitionTime+"ms";return b.itemListStyle={WebkitTransform:H,msTransform:H,OTransform:H,transform:H},T.swiping||(b.itemListStyle=o(o({},b.itemListStyle),{},{WebkitTransitionDuration:F,MozTransitionDuration:F,OTransitionDuration:F,transitionDuration:F,msTransitionDuration:F})),b};oi.slideAnimationHandler=h;var f=function(v,T,b,A){var x={},U=T.axis==="horizontal",L=n.Children.count(T.children),V=0,H=(0,t.getPosition)(b.selectedItem,T),F=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),K=U?v.x:v.y,M=K;H===V&&K>0&&(M=0),H===F&&K<0&&(M=0);var R=H+100/(b.itemSize/M),P=Math.abs(K)>T.swipeScrollTolerance;return T.infiniteLoop&&P&&(b.selectedItem===0&&R>-100?R-=L*100:b.selectedItem===L-1&&R<-L*100&&(R+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||P||b.swipeMovementStarted)&&(b.swipeMovementStarted||A({swipeMovementStarted:!0}),x.itemListStyle=(0,t.setPosition)(R,T.axis)),P&&!b.cancelClick&&A({cancelClick:!0}),x};oi.slideSwipeAnimationHandler=f;var d=function(v,T){var b=(0,t.getPosition)(T.selectedItem,v),A=(0,t.setPosition)(b,v.axis);return{itemListStyle:A}};oi.slideStopSwipingHandler=d;var g=function(v,T){var b=v.transitionTime+"ms",A="ease-in-out",x={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:A,msTransitionTimingFunction:A,MozTransitionTimingFunction:A,WebkitTransitionTimingFunction:A,OTransitionTimingFunction:A};return T.swiping||(x=o(o({},x),{},{WebkitTransitionDuration:b,MozTransitionDuration:b,OTransitionDuration:b,transitionDuration:b,msTransitionDuration:b})),{slideStyle:x,selectedStyle:o(o({},x),{},{opacity:1,position:"relative"}),prevStyle:o({},x)}};return oi.fadeAnimationHandler=g,oi}var aC;function Nq(){if(aC)return ld;aC=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.default=void 0;var n=g(to()),e=f(jN()),t=f(qN()),r=f($N()),i=f(Oq()),o=f(HN()),u=GN(),h=Dq();function f(O){return O&&O.__esModule?O:{default:O}}function d(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return d=function(){return O},O}function g(O){if(O&&O.__esModule)return O;if(O===null||_(O)!=="object"&&typeof O!="function")return{default:O};var C=d();if(C&&C.has(O))return C.get(O);var D={},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in O)if(Object.prototype.hasOwnProperty.call(O,B)){var $=se?Object.getOwnPropertyDescriptor(O,B):null;$&&($.get||$.set)?Object.defineProperty(D,B,$):D[B]=O[B]}return D.default=O,C&&C.set(O,D),D}function _(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(D){return typeof D}:_=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},_(O)}function v(){return v=Object.assign||function(O){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var se in D)Object.prototype.hasOwnProperty.call(D,se)&&(O[se]=D[se])}return O},v.apply(this,arguments)}function T(O,C){var D=Object.keys(O);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(O);C&&(se=se.filter(function(B){return Object.getOwnPropertyDescriptor(O,B).enumerable})),D.push.apply(D,se)}return D}function b(O){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?T(Object(D),!0).forEach(function(se){P(O,se,D[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(D)):T(Object(D)).forEach(function(se){Object.defineProperty(O,se,Object.getOwnPropertyDescriptor(D,se))})}return O}function A(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function x(O,C){for(var D=0;D<C.length;D++){var se=C[D];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(O,se.key,se)}}function U(O,C,D){return C&&x(O.prototype,C),O}function L(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&V(O,C)}function V(O,C){return V=Object.setPrototypeOf||function(se,B){return se.__proto__=B,se},V(O,C)}function H(O){var C=M();return function(){var se=R(O),B;if(C){var $=R(this).constructor;B=Reflect.construct(se,arguments,$)}else B=se.apply(this,arguments);return F(this,B)}}function F(O,C){return C&&(_(C)==="object"||typeof C=="function")?C:K(O)}function K(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(O){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},R(O)}function P(O,C,D){return C in O?Object.defineProperty(O,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):O[C]=D,O}var w=function(O){L(D,O);var C=H(D);function D(se){var B;A(this,D),B=C.call(this,se),P(K(B),"thumbsRef",void 0),P(K(B),"carouselWrapperRef",void 0),P(K(B),"listRef",void 0),P(K(B),"itemsRef",void 0),P(K(B),"timer",void 0),P(K(B),"animationHandler",void 0),P(K(B),"setThumbsRef",function(J){B.thumbsRef=J}),P(K(B),"setCarouselWrapperRef",function(J){B.carouselWrapperRef=J}),P(K(B),"setListRef",function(J){B.listRef=J}),P(K(B),"setItemsRef",function(J,le){B.itemsRef||(B.itemsRef=[]),B.itemsRef[le]=J}),P(K(B),"autoPlay",function(){n.Children.count(B.props.children)<=1||(B.clearAutoPlay(),B.props.autoPlay&&(B.timer=setTimeout(function(){B.increment()},B.props.interval)))}),P(K(B),"clearAutoPlay",function(){B.timer&&clearTimeout(B.timer)}),P(K(B),"resetAutoPlay",function(){B.clearAutoPlay(),B.autoPlay()}),P(K(B),"stopOnHover",function(){B.setState({isMouseEntered:!0},B.clearAutoPlay)}),P(K(B),"startOnLeave",function(){B.setState({isMouseEntered:!1},B.autoPlay)}),P(K(B),"isFocusWithinTheCarousel",function(){return B.carouselWrapperRef?!!((0,i.default)().activeElement===B.carouselWrapperRef||B.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),P(K(B),"navigateWithKeyboard",function(J){if(B.isFocusWithinTheCarousel()){var le=B.props.axis,be=le==="horizontal",q={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},re=be?q.ArrowRight:q.ArrowDown,ge=be?q.ArrowLeft:q.ArrowUp;re===J.keyCode?B.increment():ge===J.keyCode&&B.decrement()}}),P(K(B),"updateSizes",function(){if(!(!B.state.initialized||!B.itemsRef||B.itemsRef.length===0)){var J=B.props.axis==="horizontal",le=B.itemsRef[0];if(le){var be=J?le.clientWidth:le.clientHeight;B.setState({itemSize:be}),B.thumbsRef&&B.thumbsRef.updateSizes()}}}),P(K(B),"setMountState",function(){B.setState({hasMount:!0}),B.updateSizes()}),P(K(B),"handleClickItem",function(J,le){if(n.Children.count(B.props.children)!==0){if(B.state.cancelClick){B.setState({cancelClick:!1});return}B.props.onClickItem(J,le),J!==B.state.selectedItem&&B.setState({selectedItem:J})}}),P(K(B),"handleOnChange",function(J,le){n.Children.count(B.props.children)<=1||B.props.onChange(J,le)}),P(K(B),"handleClickThumb",function(J,le){B.props.onClickThumb(J,le),B.moveTo(J)}),P(K(B),"onSwipeStart",function(J){B.setState({swiping:!0}),B.props.onSwipeStart(J)}),P(K(B),"onSwipeEnd",function(J){B.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),B.props.onSwipeEnd(J),B.clearAutoPlay(),B.state.autoPlay&&B.autoPlay()}),P(K(B),"onSwipeMove",function(J,le){B.props.onSwipeMove(le);var be=B.props.swipeAnimationHandler(J,B.props,B.state,B.setState.bind(K(B)));return B.setState(b({},be)),!!Object.keys(be).length}),P(K(B),"decrement",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem-(typeof J=="number"?J:1))}),P(K(B),"increment",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem+(typeof J=="number"?J:1))}),P(K(B),"moveTo",function(J){if(typeof J=="number"){var le=n.Children.count(B.props.children)-1;J<0&&(J=B.props.infiniteLoop?le:0),J>le&&(J=B.props.infiniteLoop?0:le),B.selectItem({selectedItem:J}),B.state.autoPlay&&B.state.isMouseEntered===!1&&B.resetAutoPlay()}}),P(K(B),"onClickNext",function(){B.increment(1)}),P(K(B),"onClickPrev",function(){B.decrement(1)}),P(K(B),"onSwipeForward",function(){B.increment(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),P(K(B),"onSwipeBackwards",function(){B.decrement(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),P(K(B),"changeItem",function(J){return function(le){(!(0,u.isKeyboardEvent)(le)||le.key==="Enter")&&B.moveTo(J)}}),P(K(B),"selectItem",function(J){B.setState(b({previousItem:B.state.selectedItem},J),function(){B.setState(B.animationHandler(B.props,B.state))}),B.handleOnChange(J.selectedItem,n.Children.toArray(B.props.children)[J.selectedItem])}),P(K(B),"getInitialImage",function(){var J=B.props.selectedItem,le=B.itemsRef&&B.itemsRef[J],be=le&&le.getElementsByTagName("img")||[];return be[0]}),P(K(B),"getVariableItemHeight",function(J){var le=B.itemsRef&&B.itemsRef[J];if(B.state.hasMount&&le&&le.children.length){var be=le.children[0].getElementsByTagName("img")||[];if(be.length>0){var q=be[0];if(!q.complete){var re=function Te(){B.forceUpdate(),q.removeEventListener("load",Te)};q.addEventListener("load",re)}}var ge=be[0]||le.children[0],me=ge.clientHeight;return me>0?me:null}return null});var $={initialized:!1,previousItem:se.selectedItem,selectedItem:se.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:se.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return B.animationHandler=typeof se.animationHandler=="function"&&se.animationHandler||se.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,B.state=b(b({},$),B.animationHandler(se,$)),B}return U(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(B,$){!B.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!B.autoFocus&&this.props.autoFocus&&this.forceFocus(),$.swiping&&!this.state.swiping&&this.setState(b({},this.props.stopSwipingHandler(this.props,this.state))),(B.selectedItem!==this.props.selectedItem||B.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),B.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var B=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var $=B.getInitialImage();$&&!$.complete?$.addEventListener("load",B.setMountState):B.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.addEventListener("mouseenter",this.stopOnHover),B.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.removeEventListener("mouseenter",this.stopOnHover),B.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var B=this.getInitialImage();B&&B.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var B;(B=this.carouselWrapperRef)===null||B===void 0||B.focus()}},{key:"renderItems",value:function(B){var $=this;return this.props.children?n.Children.map(this.props.children,function(J,le){var be=le===$.state.selectedItem,q=le===$.state.previousItem,re=be&&$.state.selectedStyle||q&&$.state.prevStyle||$.state.slideStyle||{};$.props.centerMode&&$.props.axis==="horizontal"&&(re=b(b({},re),{},{minWidth:$.props.centerSlidePercentage+"%"})),$.state.swiping&&$.state.swipeMovementStarted&&(re=b(b({},re),{},{pointerEvents:"none"}));var ge={ref:function(Te){return $.setItemsRef(Te,le)},key:"itemKey"+le+(B?"clone":""),className:t.default.ITEM(!0,le===$.state.selectedItem,le===$.state.previousItem),onClick:$.handleClickItem.bind($,le,J),style:re};return n.default.createElement("li",ge,$.props.renderItem(J,{isSelected:le===$.state.selectedItem,isPrevious:le===$.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var B=this,$=this.props,J=$.showIndicators,le=$.labels,be=$.renderIndicator,q=$.children;return J?n.default.createElement("ul",{className:"control-dots"},n.Children.map(q,function(re,ge){return be&&be(B.changeItem(ge),ge===B.state.selectedItem,ge,le.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var B=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var $=this.props.swipeable&&n.Children.count(this.props.children)>1,J=this.props.axis==="horizontal",le=this.props.showArrows&&n.Children.count(this.props.children)>1,be=le&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,q=le&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,re=this.renderItems(!0),ge=re.shift(),me=re.pop(),Te={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},ke={};if(J){if(Te.onSwipeLeft=this.onSwipeForward,Te.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var xe=this.getVariableItemHeight(this.state.selectedItem);ke.height=xe||"auto"}}else Te.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Te.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Te.style=b(b({},Te.style),{},{height:this.state.itemSize}),ke.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,be,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:ke},$?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},Te,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ge):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(rt){return B.setListRef(rt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ge)),this.props.renderArrowNext(this.onClickNext,q,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return ld.default=w,P(w,"displayName","Carousel"),P(w,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(C,D,se){return n.default.createElement("button",{type:"button","aria-label":se,className:t.default.ARROW_PREV(!D),onClick:C})},renderArrowNext:function(C,D,se){return n.default.createElement("button",{type:"button","aria-label":se,className:t.default.ARROW_NEXT(!D),onClick:C})},renderIndicator:function(C,D,se,B){return n.default.createElement("li",{className:t.default.DOT(D),onClick:C,onKeyDown:C,value:se,key:se,role:"button",tabIndex:0,"aria-label":"".concat(B," ").concat(se+1)})},renderItem:function(C){return C},renderThumbs:function(C){var D=n.Children.map(C,function(se){var B=se;if(se.type!=="img"&&(B=n.Children.toArray(se.props.children).find(function($){return $.type==="img"})),!!B)return B});return D.filter(function(se){return se}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),ld}var oC={},lC;function kq(){return lC||(lC=1),oC}var uC;function Mq(){return uC||(uC=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(Nq()),t=kq(),r=i($N());function i(o){return o&&o.__esModule?o:{default:o}}}(C0)),C0}var Vq=Mq();function Lq(){return z.jsxs("div",{children:[z.jsx(Vq.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:Aq.map((n,e)=>z.jsx("img",{src:n,alt:""},e))}),z.jsx("div",{className:vq.heroImg})]})}const Uq="_category_ib0o2_1",Bq="_cont_ib0o2_49",KN={category:Uq,cont:Bq},N0=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"Women's clothing",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/softlines/shopbop/ingress/2023/March/mp_20230219_ff_desktopsinglecategory_desktop_379x304_1._SY304_CB612639047.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelery",name:"Jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL480_FMwebp_QL65_.jpg"}];function Fq({data:{name:n,title:e,imgLink:t}}){return z.jsx("div",{className:KN.category,children:z.jsxs(Rr,{to:`/category/${n}`,children:[z.jsx("span",{children:z.jsx("h2",{children:e})}),z.jsx("img",{src:t,alt:""}),z.jsx("p",{children:"shoto show"})]})})}function zq(){return z.jsx("div",{className:KN.cont,children:N0==null?void 0:N0.map((n,e)=>z.jsx(Fq,{data:n},e))})}function WN(n,e){return function(){return n.apply(e,arguments)}}const{toString:jq}=Object.prototype,{getPrototypeOf:qw}=Object,{iterator:Ly,toStringTag:QN}=Symbol,Uy=(n=>e=>{const t=jq.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),pi=n=>(n=n.toLowerCase(),e=>Uy(e)===n),By=n=>e=>typeof e===n,{isArray:Bc}=Array,gf=By("undefined");function qq(n){return n!==null&&!gf(n)&&n.constructor!==null&&!gf(n.constructor)&&hr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const YN=pi("ArrayBuffer");function Hq(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&YN(n.buffer),e}const $q=By("string"),hr=By("function"),XN=By("number"),Fy=n=>n!==null&&typeof n=="object",Gq=n=>n===!0||n===!1,ng=n=>{if(Uy(n)!=="object")return!1;const e=qw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(QN in n)&&!(Ly in n)},Kq=pi("Date"),Wq=pi("File"),Qq=pi("Blob"),Yq=pi("FileList"),Xq=n=>Fy(n)&&hr(n.pipe),Jq=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||hr(n.append)&&((e=Uy(n))==="formdata"||e==="object"&&hr(n.toString)&&n.toString()==="[object FormData]"))},Zq=pi("URLSearchParams"),[e8,t8,n8,r8]=["ReadableStream","Request","Response","Headers"].map(pi),i8=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Bc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function JN(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ol=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZN=n=>!gf(n)&&n!==ol;function VE(){const{caseless:n}=ZN(this)&&this||{},e={},t=(r,i)=>{const o=n&&JN(e,i)||i;ng(e[o])&&ng(r)?e[o]=VE(e[o],r):ng(r)?e[o]=VE({},r):Bc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Kf(arguments[r],t);return e}const s8=(n,e,t,{allOwnKeys:r}={})=>(Kf(e,(i,o)=>{t&&hr(i)?n[o]=WN(i,t):n[o]=i},{allOwnKeys:r}),n),a8=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),o8=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},l8=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&qw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},u8=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},c8=n=>{if(!n)return null;if(Bc(n))return n;let e=n.length;if(!XN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},h8=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&qw(Uint8Array)),d8=(n,e)=>{const r=(n&&n[Ly]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},f8=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},p8=pi("HTMLFormElement"),m8=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),cC=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),g8=pi("RegExp"),ek=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Kf(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},y8=n=>{ek(n,(e,t)=>{if(hr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(hr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},_8=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Bc(n)?r(n):r(String(n).split(e)),t},v8=()=>{},E8=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function b8(n){return!!(n&&hr(n.append)&&n[QN]==="FormData"&&n[Ly])}const w8=n=>{const e=new Array(10),t=(r,i)=>{if(Fy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Bc(r)?[]:{};return Kf(r,(u,h)=>{const f=t(u,i+1);!gf(f)&&(o[h]=f)}),e[i]=void 0,o}}return r};return t(n,0)},T8=pi("AsyncFunction"),S8=n=>n&&(Fy(n)||hr(n))&&hr(n.then)&&hr(n.catch),tk=((n,e)=>n?setImmediate:e?((t,r)=>(ol.addEventListener("message",({source:i,data:o})=>{i===ol&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ol.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",hr(ol.postMessage)),A8=typeof queueMicrotask<"u"?queueMicrotask.bind(ol):typeof process<"u"&&process.nextTick||tk,I8=n=>n!=null&&hr(n[Ly]),oe={isArray:Bc,isArrayBuffer:YN,isBuffer:qq,isFormData:Jq,isArrayBufferView:Hq,isString:$q,isNumber:XN,isBoolean:Gq,isObject:Fy,isPlainObject:ng,isReadableStream:e8,isRequest:t8,isResponse:n8,isHeaders:r8,isUndefined:gf,isDate:Kq,isFile:Wq,isBlob:Qq,isRegExp:g8,isFunction:hr,isStream:Xq,isURLSearchParams:Zq,isTypedArray:h8,isFileList:Yq,forEach:Kf,merge:VE,extend:s8,trim:i8,stripBOM:a8,inherits:o8,toFlatObject:l8,kindOf:Uy,kindOfTest:pi,endsWith:u8,toArray:c8,forEachEntry:d8,matchAll:f8,isHTMLForm:p8,hasOwnProperty:cC,hasOwnProp:cC,reduceDescriptors:ek,freezeMethods:y8,toObjectSet:_8,toCamelCase:m8,noop:v8,toFiniteNumber:E8,findKey:JN,global:ol,isContextDefined:ZN,isSpecCompliantForm:b8,toJSONObject:w8,isAsyncFn:T8,isThenable:S8,setImmediate:tk,asap:A8,isIterable:I8};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const nk=Me.prototype,rk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{rk[n]={value:n}});Object.defineProperties(Me,rk);Object.defineProperty(nk,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,o)=>{const u=Object.create(nk);return oe.toFlatObject(n,u,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Me.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const R8=null;function LE(n){return oe.isPlainObject(n)||oe.isArray(n)}function ik(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function hC(n,e,t){return n?n.concat(e).map(function(i,o){return i=ik(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function C8(n){return oe.isArray(n)&&!n.some(LE)}const x8=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function zy(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,x){return!oe.isUndefined(x[A])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(oe.isDate(b))return b.toISOString();if(!f&&oe.isBlob(b))throw new Me("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(b)||oe.isTypedArray(b)?f&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,A,x){let U=b;if(b&&!x&&typeof b=="object"){if(oe.endsWith(A,"{}"))A=r?A:A.slice(0,-2),b=JSON.stringify(b);else if(oe.isArray(b)&&C8(b)||(oe.isFileList(b)||oe.endsWith(A,"[]"))&&(U=oe.toArray(b)))return A=ik(A),U.forEach(function(V,H){!(oe.isUndefined(V)||V===null)&&e.append(u===!0?hC([A],H,o):u===null?A:A+"[]",d(V))}),!1}return LE(b)?!0:(e.append(hC(x,A,o),d(b)),!1)}const _=[],v=Object.assign(x8,{defaultVisitor:g,convertValue:d,isVisitable:LE});function T(b,A){if(!oe.isUndefined(b)){if(_.indexOf(b)!==-1)throw Error("Circular reference detected in "+A.join("."));_.push(b),oe.forEach(b,function(U,L){(!(oe.isUndefined(U)||U===null)&&i.call(e,U,oe.isString(L)?L.trim():L,A,v))===!0&&T(U,A?A.concat(L):[L])}),_.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return T(n),e}function dC(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Hw(n,e){this._pairs=[],n&&zy(n,this,e)}const sk=Hw.prototype;sk.append=function(e,t){this._pairs.push([e,t])};sk.toString=function(e){const t=e?function(r){return e.call(this,r,dC)}:dC;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function P8(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ak(n,e,t){if(!e)return n;const r=t&&t.encode||P8;oe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=oe.isURLSearchParams(e)?e.toString():new Hw(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class fC{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ok={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},O8=typeof URLSearchParams<"u"?URLSearchParams:Hw,D8=typeof FormData<"u"?FormData:null,N8=typeof Blob<"u"?Blob:null,k8={isBrowser:!0,classes:{URLSearchParams:O8,FormData:D8,Blob:N8},protocols:["http","https","file","blob","url","data"]},$w=typeof window<"u"&&typeof document<"u",UE=typeof navigator=="object"&&navigator||void 0,M8=$w&&(!UE||["ReactNative","NativeScript","NS"].indexOf(UE.product)<0),V8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L8=$w&&window.location.href||"http://localhost",U8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$w,hasStandardBrowserEnv:M8,hasStandardBrowserWebWorkerEnv:V8,navigator:UE,origin:L8},Symbol.toStringTag,{value:"Module"})),$n={...U8,...k8};function B8(n,e){return zy(n,new $n.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return $n.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function F8(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function z8(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function lk(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),f=o>=t.length;return u=!u&&oe.isArray(i)?i.length:u,f?(oe.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!oe.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&oe.isArray(i[u])&&(i[u]=z8(i[u])),!h)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,i)=>{e(F8(r),i,t,0)}),t}return null}function j8(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Wf={transitional:ok,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(lk(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return B8(e,this.formSerializer).toString();if((h=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return zy(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),j8(e)):e}],transformResponse:[function(e){const t=this.transitional||Wf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Me.from(h,Me.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{Wf.headers[n]={}});const q8=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H8=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&q8[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},pC=Symbol("internals");function md(n){return n&&String(n).trim().toLowerCase()}function rg(n){return n===!1||n==null?n:oe.isArray(n)?n.map(rg):String(n)}function $8(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const G8=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function k0(n,e,t,r,i){if(oe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function K8(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function W8(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let dr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,f,d){const g=md(f);if(!g)throw new Error("header name must be a non-empty string");const _=oe.findKey(i,g);(!_||i[_]===void 0||d===!0||d===void 0&&i[_]!==!1)&&(i[_||f]=rg(h))}const u=(h,f)=>oe.forEach(h,(d,g)=>o(d,g,f));if(oe.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(oe.isString(e)&&(e=e.trim())&&!G8(e))u(H8(e),t);else if(oe.isObject(e)&&oe.isIterable(e)){let h={},f,d;for(const g of e){if(!oe.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[d=g[0]]=(f=h[d])?oe.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}u(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=md(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return $8(i);if(oe.isFunction(t))return t.call(this,i,r);if(oe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=md(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||k0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=md(u),u){const h=oe.findKey(r,u);h&&(!t||k0(r,r[h],h,t))&&(delete r[h],i=!0)}}return oe.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||k0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return oe.forEach(this,(i,o)=>{const u=oe.findKey(r,o);if(u){t[u]=rg(i),delete t[o];return}const h=e?K8(o):String(o).trim();h!==o&&delete t[o],t[h]=rg(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[pC]=this[pC]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=md(u);r[h]||(W8(i,u),r[h]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}};dr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(dr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(dr);function M0(n,e){const t=this||Wf,r=e||t,i=dr.from(r.headers);let o=r.data;return oe.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function uk(n){return!!(n&&n.__CANCEL__)}function Fc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Fc,Me,{__CANCEL__:!0});function ck(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Q8(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Y8(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),g=r[o];u||(u=d),t[i]=f,r[i]=d;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),d-u<e)return;const T=g&&d-g;return T?Math.round(v*1e3/T):void 0}}function X8(n,e){let t=0,r=1e3/e,i,o;const u=(d,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,d)};return[(...d)=>{const g=Date.now(),_=g-t;_>=r?u(d,g):(i=d,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const zg=(n,e,t=3)=>{let r=0;const i=Y8(50,250);return X8(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,f=u-r,d=i(f),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:f,rate:d||void 0,estimated:d&&h&&g?(h-u)/d:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},mC=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},gC=n=>(...e)=>oe.asap(()=>n(...e)),J8=$n.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,$n.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,Z8=$n.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),oe.isString(r)&&u.push("path="+r),oe.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function e7(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function t7(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function hk(n,e,t){let r=!e7(e);return n&&(r||t==!1)?t7(n,e):e}const yC=n=>n instanceof dr?{...n}:n;function Sl(n,e){e=e||{};const t={};function r(d,g,_,v){return oe.isPlainObject(d)&&oe.isPlainObject(g)?oe.merge.call({caseless:v},d,g):oe.isPlainObject(g)?oe.merge({},g):oe.isArray(g)?g.slice():g}function i(d,g,_,v){if(oe.isUndefined(g)){if(!oe.isUndefined(d))return r(void 0,d,_,v)}else return r(d,g,_,v)}function o(d,g){if(!oe.isUndefined(g))return r(void 0,g)}function u(d,g){if(oe.isUndefined(g)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,g)}function h(d,g,_){if(_ in e)return r(d,g);if(_ in n)return r(void 0,d)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(d,g,_)=>i(yC(d),yC(g),_,!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=f[g]||i,v=_(n[g],e[g],g);oe.isUndefined(v)&&_!==h||(t[g]=v)}),t}const dk=n=>{const e=Sl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=dr.from(u),e.url=ak(hk(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(oe.isFormData(t)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[d,...g]=f?f.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([d||"multipart/form-data",...g].join("; "))}}if($n.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&J8(e.url))){const d=i&&o&&Z8.read(o);d&&u.set(i,d)}return e},n7=typeof XMLHttpRequest<"u",r7=n7&&function(n){return new Promise(function(t,r){const i=dk(n);let o=i.data;const u=dr.from(i.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:d}=i,g,_,v,T,b;function A(){T&&T(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function U(){if(!x)return;const V=dr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),F={data:!h||h==="text"||h==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:V,config:n,request:x};ck(function(M){t(M),A()},function(M){r(M),A()},F),x=null}"onloadend"in x?x.onloadend=U:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(U)},x.onabort=function(){x&&(r(new Me("Request aborted",Me.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||ok;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Me(H,F.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,x)),x=null},o===void 0&&u.setContentType(null),"setRequestHeader"in x&&oe.forEach(u.toJSON(),function(H,F){x.setRequestHeader(F,H)}),oe.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),h&&h!=="json"&&(x.responseType=i.responseType),d&&([v,b]=zg(d,!0),x.addEventListener("progress",v)),f&&x.upload&&([_,T]=zg(f),x.upload.addEventListener("progress",_),x.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=V=>{x&&(r(!V||V.type?new Fc(null,n,x):V),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const L=Q8(i.url);if(L&&$n.protocols.indexOf(L)===-1){r(new Me("Unsupported protocol "+L+":",Me.ERR_BAD_REQUEST,n));return}x.send(o||null)})},i7=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(d){if(!i){i=!0,h();const g=d instanceof Error?d:this.reason;r.abort(g instanceof Me?g:new Fc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),n=null)};n.forEach(d=>d.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>oe.asap(h),f}},s7=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},a7=async function*(n,e){for await(const t of o7(n))yield*s7(t,e)},o7=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},_C=(n,e,t,r)=>{const i=a7(n,e);let o=0,u,h=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:d,value:g}=await i.next();if(d){h(),f.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}f.enqueue(new Uint8Array(g))}catch(d){throw h(d),d}},cancel(f){return h(f),i.return()}},{highWaterMark:2})},jy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fk=jy&&typeof ReadableStream=="function",l7=jy&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),pk=(n,...e)=>{try{return!!n(...e)}catch{return!1}},u7=fk&&pk(()=>{let n=!1;const e=new Request($n.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),vC=64*1024,BE=fk&&pk(()=>oe.isReadableStream(new Response("").body)),jg={stream:BE&&(n=>n.body)};jy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!jg[e]&&(jg[e]=oe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const c7=async n=>{if(n==null)return 0;if(oe.isBlob(n))return n.size;if(oe.isSpecCompliantForm(n))return(await new Request($n.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(n)||oe.isArrayBuffer(n))return n.byteLength;if(oe.isURLSearchParams(n)&&(n=n+""),oe.isString(n))return(await l7(n)).byteLength},h7=async(n,e)=>{const t=oe.toFiniteNumber(n.getContentLength());return t??c7(e)},d7=jy&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:f,responseType:d,headers:g,withCredentials:_="same-origin",fetchOptions:v}=dk(n);d=d?(d+"").toLowerCase():"text";let T=i7([i,o&&o.toAbortSignal()],u),b;const A=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let x;try{if(f&&u7&&t!=="get"&&t!=="head"&&(x=await h7(g,r))!==0){let F=new Request(e,{method:"POST",body:r,duplex:"half"}),K;if(oe.isFormData(r)&&(K=F.headers.get("content-type"))&&g.setContentType(K),F.body){const[M,R]=mC(x,zg(gC(f)));r=_C(F.body,vC,M,R)}}oe.isString(_)||(_=_?"include":"omit");const U="credentials"in Request.prototype;b=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:U?_:void 0});let L=await fetch(b);const V=BE&&(d==="stream"||d==="response");if(BE&&(h||V&&A)){const F={};["status","statusText","headers"].forEach(P=>{F[P]=L[P]});const K=oe.toFiniteNumber(L.headers.get("content-length")),[M,R]=h&&mC(K,zg(gC(h),!0))||[];L=new Response(_C(L.body,vC,M,()=>{R&&R(),A&&A()}),F)}d=d||"text";let H=await jg[oe.findKey(jg,d)||"text"](L,n);return!V&&A&&A(),await new Promise((F,K)=>{ck(F,K,{data:H,headers:dr.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:b})})}catch(U){throw A&&A(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,b),{cause:U.cause||U}):Me.from(U,U&&U.code,n,b)}}),FE={http:R8,xhr:r7,fetch:d7};oe.forEach(FE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const EC=n=>`- ${n}`,f7=n=>oe.isFunction(n)||n===null||n===!1,mk={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!f7(t)&&(r=FE[(u=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(EC).join(`
`):" "+EC(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:FE};function V0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Fc(null,n)}function bC(n){return V0(n),n.headers=dr.from(n.headers),n.data=M0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),mk.getAdapter(n.adapter||Wf.adapter)(n).then(function(r){return V0(n),r.data=M0.call(n,n.transformResponse,r),r.headers=dr.from(r.headers),r},function(r){return uk(r)||(V0(n),r&&r.response&&(r.response.data=M0.call(n,n.transformResponse,r.response),r.response.headers=dr.from(r.response.headers))),Promise.reject(r)})}const gk="1.9.0",qy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{qy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const wC={};qy.transitional=function(e,t,r){function i(o,u){return"[Axios v"+gk+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Me(i(u," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!wC[u]&&(wC[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};qy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function p7(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],f=h===void 0||u(h,o,n);if(f!==!0)throw new Me("option "+o+" must be "+f,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const ig={assertOptions:p7,validators:qy},Ni=ig.validators;let hl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new fC,response:new fC}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Sl(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&ig.assertOptions(r,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1),i!=null&&(oe.isFunction(i)?t.paramsSerializer={serialize:i}:ig.assertOptions(i,{encode:Ni.function,serialize:Ni.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ig.assertOptions(t,{baseUrl:Ni.spelling("baseURL"),withXsrfToken:Ni.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),t.headers=dr.concat(u,o);const h=[];let f=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(f=f&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const d=[];this.interceptors.response.forEach(function(A){d.push(A.fulfilled,A.rejected)});let g,_=0,v;if(!f){const b=[bC.bind(this),void 0];for(b.unshift.apply(b,h),b.push.apply(b,d),v=b.length,g=Promise.resolve(t);_<v;)g=g.then(b[_++],b[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const b=h[_++],A=h[_++];try{T=b(T)}catch(x){A.call(this,x);break}}try{g=bC.call(this,T)}catch(b){return Promise.reject(b)}for(_=0,v=d.length;_<v;)g=g.then(d[_++],d[_++]);return g}getUri(e){e=Sl(this.defaults,e);const t=hk(e.baseURL,e.url,e.allowAbsoluteUrls);return ak(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){hl.prototype[e]=function(t,r){return this.request(Sl(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(Sl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}hl.prototype[e]=t(),hl.prototype[e+"Form"]=t(!0)});let m7=class yk{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Fc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new yk(function(i){e=i}),cancel:e}}};function g7(n){return function(t){return n.apply(null,t)}}function y7(n){return oe.isObject(n)&&n.isAxiosError===!0}const zE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zE).forEach(([n,e])=>{zE[e]=n});function _k(n){const e=new hl(n),t=WN(hl.prototype.request,e);return oe.extend(t,hl.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return _k(Sl(n,i))},t}const Dt=_k(Wf);Dt.Axios=hl;Dt.CanceledError=Fc;Dt.CancelToken=m7;Dt.isCancel=uk;Dt.VERSION=gk;Dt.toFormData=zy;Dt.AxiosError=Me;Dt.Cancel=Dt.CanceledError;Dt.all=function(e){return Promise.all(e)};Dt.spread=g7;Dt.isAxiosError=y7;Dt.mergeConfig=Sl;Dt.AxiosHeaders=dr;Dt.formToJSON=n=>lk(oe.isHTMLForm(n)?new FormData(n):n);Dt.getAdapter=mk.getAdapter;Dt.HttpStatusCode=zE;Dt.default=Dt;const{Axios:UW,AxiosError:BW,CanceledError:FW,isCancel:zW,CancelToken:jW,VERSION:qW,all:HW,Cancel:$W,isAxiosError:GW,spread:KW,toFormData:WW,AxiosHeaders:QW,HttpStatusCode:YW,formToJSON:XW,getAdapter:JW,mergeConfig:ZW}=Dt;var _7=zN();const kt=ZE(_7);function vk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=vk(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function dl(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=vk(n))&&(r&&(r+=" "),r+=e);return r}function Ek(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const v7={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function bk(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let f=0;f<o.length;f+=1){const d=o[f];d&&(u+=(h===!0?"":" ")+e(d),h=!1,t&&t[d]&&(u+=" "+t[d]))}r[i]=u}return r}const E7=W.createContext(),b7=()=>W.useContext(E7)??!1;function TC(n){try{return n.matches(":focus-visible")}catch{}return!1}const SC=n=>n,w7=()=>{let n=SC;return{configure(e){n=e},generate(e){return n(e)},reset(){n=SC}}},T7=w7();function Al(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Za(n){if(typeof n!="string")throw new Error(Al(7));return n.charAt(0).toUpperCase()+n.slice(1)}var L0={exports:{}},mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function S7(){if(AC)return mt;AC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function b(A){if(typeof A=="object"&&A!==null){var x=A.$$typeof;switch(x){case n:switch(A=A.type,A){case t:case i:case r:case f:case d:case v:return A;default:switch(A=A&&A.$$typeof,A){case u:case h:case _:case g:return A;case o:return A;default:return x}}case e:return x}}}return mt.ContextConsumer=o,mt.ContextProvider=u,mt.Element=n,mt.ForwardRef=h,mt.Fragment=t,mt.Lazy=_,mt.Memo=g,mt.Portal=e,mt.Profiler=i,mt.StrictMode=r,mt.Suspense=f,mt.SuspenseList=d,mt.isContextConsumer=function(A){return b(A)===o},mt.isContextProvider=function(A){return b(A)===u},mt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},mt.isForwardRef=function(A){return b(A)===h},mt.isFragment=function(A){return b(A)===t},mt.isLazy=function(A){return b(A)===_},mt.isMemo=function(A){return b(A)===g},mt.isPortal=function(A){return b(A)===e},mt.isProfiler=function(A){return b(A)===i},mt.isStrictMode=function(A){return b(A)===r},mt.isSuspense=function(A){return b(A)===f},mt.isSuspenseList=function(A){return b(A)===d},mt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===f||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===_||A.$$typeof===g||A.$$typeof===u||A.$$typeof===o||A.$$typeof===h||A.$$typeof===T||A.getModuleId!==void 0)},mt.typeOf=b,mt}var IC;function A7(){return IC||(IC=1,L0.exports=S7()),L0.exports}var wk=A7();function Ps(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Tk(n){if(W.isValidElement(n)||wk.isValidElementType(n)||!Ps(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=Tk(n[t])}),e}function Pr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Ps(n)&&Ps(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||wk.isValidElementType(e[i])?r[i]=e[i]:Ps(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Ps(n[i])?r[i]=Pr(n[i],e[i],t):t.clone?r[i]=Ps(e[i])?Tk(e[i]):e[i]:r[i]=e[i]}),r}function Hd(n,e){return e?Pr(n,e,{clone:!1}):n}function I7(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function R7(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function C7(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function x7(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const f=e(n.breakpoints.not(...h),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const Hy={xs:0,sm:600,md:900,lg:1200,xl:1536},RC={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Hy[n]}px)`},P7={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Hy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function qs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||RC;return e.reduce((u,h,f)=>(u[o.up(o.keys[f])]=t(e[f]),u),{})}if(typeof e=="object"){const o=r.breakpoints||RC;return Object.keys(e).reduce((u,h)=>{if(R7(o.keys,h)){const f=C7(r.containerQueries?r:P7,h);f&&(u[f]=t(e[h],h))}else if(Object.keys(o.values||Hy).includes(h)){const f=o.up(h);u[f]=t(e[h],h)}else{const f=h;u[f]=e[f]}return u},{})}return t(e)}function O7(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function D7(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function $y(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function qg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=$y(n,t)||r,e&&(i=e(i,r,n)),i}function en(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],f=u.theme,d=$y(f,r)||{};return qs(u,h,_=>{let v=qg(d,i,_);return _===v&&typeof _=="string"&&(v=qg(d,i,`${e}${_==="default"?"":Za(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function N7(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const k7={m:"margin",p:"padding"},M7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},CC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},V7=N7(n=>{if(n.length>2)if(CC[n])n=CC[n];else return[n];const[e,t]=n.split(""),r=k7[e],i=M7[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Gw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Kw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Gw,...Kw];function Qf(n,e,t,r){const i=$y(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof i=="function"?i:()=>{}}function Ww(n){return Qf(n,"spacing",8)}function Yf(n,e){return typeof e=="string"||e==null?e:n(e)}function L7(n,e){return t=>n.reduce((r,i)=>(r[i]=Yf(e,t),r),{})}function U7(n,e,t,r){if(!e.includes(t))return null;const i=V7(t),o=L7(i,r),u=n[t];return qs(n,u,o)}function Sk(n,e){const t=Ww(n.theme);return Object.keys(n).map(r=>U7(n,e,r,t)).reduce(Hd,{})}function zt(n){return Sk(n,Gw)}zt.propTypes={};zt.filterProps=Gw;function jt(n){return Sk(n,Kw)}jt.propTypes={};jt.filterProps=Kw;function Gy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Hd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Kr(n){return typeof n!="number"?n:`${n}px solid`}function Jr(n,e){return en({prop:n,themeKey:"borders",transform:e})}const B7=Jr("border",Kr),F7=Jr("borderTop",Kr),z7=Jr("borderRight",Kr),j7=Jr("borderBottom",Kr),q7=Jr("borderLeft",Kr),H7=Jr("borderColor"),$7=Jr("borderTopColor"),G7=Jr("borderRightColor"),K7=Jr("borderBottomColor"),W7=Jr("borderLeftColor"),Q7=Jr("outline",Kr),Y7=Jr("outlineColor"),Ky=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Qf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Yf(e,r)});return qs(n,n.borderRadius,t)}return null};Ky.propTypes={};Ky.filterProps=["borderRadius"];Gy(B7,F7,z7,j7,q7,H7,$7,G7,K7,W7,Ky,Q7,Y7);const Wy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Qf(n.theme,"spacing",8),t=r=>({gap:Yf(e,r)});return qs(n,n.gap,t)}return null};Wy.propTypes={};Wy.filterProps=["gap"];const Qy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Qf(n.theme,"spacing",8),t=r=>({columnGap:Yf(e,r)});return qs(n,n.columnGap,t)}return null};Qy.propTypes={};Qy.filterProps=["columnGap"];const Yy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Qf(n.theme,"spacing",8),t=r=>({rowGap:Yf(e,r)});return qs(n,n.rowGap,t)}return null};Yy.propTypes={};Yy.filterProps=["rowGap"];const X7=en({prop:"gridColumn"}),J7=en({prop:"gridRow"}),Z7=en({prop:"gridAutoFlow"}),eH=en({prop:"gridAutoColumns"}),tH=en({prop:"gridAutoRows"}),nH=en({prop:"gridTemplateColumns"}),rH=en({prop:"gridTemplateRows"}),iH=en({prop:"gridTemplateAreas"}),sH=en({prop:"gridArea"});Gy(Wy,Qy,Yy,X7,J7,Z7,eH,tH,nH,rH,iH,sH);function Qu(n,e){return e==="grey"?e:n}const aH=en({prop:"color",themeKey:"palette",transform:Qu}),oH=en({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Qu}),lH=en({prop:"backgroundColor",themeKey:"palette",transform:Qu});Gy(aH,oH,lH);function Cr(n){return n<=1&&n!==0?`${n*100}%`:n}const uH=en({prop:"width",transform:Cr}),Qw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,f;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||Hy[t];return r?((f=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Cr(t)}};return qs(n,n.maxWidth,e)}return null};Qw.filterProps=["maxWidth"];const cH=en({prop:"minWidth",transform:Cr}),hH=en({prop:"height",transform:Cr}),dH=en({prop:"maxHeight",transform:Cr}),fH=en({prop:"minHeight",transform:Cr});en({prop:"size",cssProperty:"width",transform:Cr});en({prop:"size",cssProperty:"height",transform:Cr});const pH=en({prop:"boxSizing"});Gy(uH,Qw,cH,hH,dH,fH,pH);const Xy={border:{themeKey:"borders",transform:Kr},borderTop:{themeKey:"borders",transform:Kr},borderRight:{themeKey:"borders",transform:Kr},borderBottom:{themeKey:"borders",transform:Kr},borderLeft:{themeKey:"borders",transform:Kr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Kr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ky},color:{themeKey:"palette",transform:Qu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Qu},backgroundColor:{themeKey:"palette",transform:Qu},p:{style:jt},pt:{style:jt},pr:{style:jt},pb:{style:jt},pl:{style:jt},px:{style:jt},py:{style:jt},padding:{style:jt},paddingTop:{style:jt},paddingRight:{style:jt},paddingBottom:{style:jt},paddingLeft:{style:jt},paddingX:{style:jt},paddingY:{style:jt},paddingInline:{style:jt},paddingInlineStart:{style:jt},paddingInlineEnd:{style:jt},paddingBlock:{style:jt},paddingBlockStart:{style:jt},paddingBlockEnd:{style:jt},m:{style:zt},mt:{style:zt},mr:{style:zt},mb:{style:zt},ml:{style:zt},mx:{style:zt},my:{style:zt},margin:{style:zt},marginTop:{style:zt},marginRight:{style:zt},marginBottom:{style:zt},marginLeft:{style:zt},marginX:{style:zt},marginY:{style:zt},marginInline:{style:zt},marginInlineStart:{style:zt},marginInlineEnd:{style:zt},marginBlock:{style:zt},marginBlockStart:{style:zt},marginBlockEnd:{style:zt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Wy},rowGap:{style:Yy},columnGap:{style:Qy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Cr},maxWidth:{style:Qw},minWidth:{transform:Cr},height:{transform:Cr},maxHeight:{transform:Cr},minHeight:{transform:Cr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function mH(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function gH(n,e){return typeof n=="function"?n(e):n}function yH(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:f=t,themeKey:d,transform:g,style:_}=h;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const v=$y(i,d)||{};return _?_(u):qs(u,r,b=>{let A=qg(v,g,b);return b===A&&typeof b=="string"&&(A=qg(v,g,`${t}${b==="default"?"":Za(b)}`,b)),f===!1?A:{[f]:A}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Xy;function u(h){let f=h;if(typeof h=="function")f=h(i);else if(typeof h!="object")return h;if(!f)return null;const d=O7(i.breakpoints),g=Object.keys(d);let _=d;return Object.keys(f).forEach(v=>{const T=gH(f[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=Hd(_,n(v,T,i,o));else{const b=qs({theme:i},T,A=>({[v]:A}));mH(b,T)?_[v]=e({sx:T,theme:i}):_=Hd(_,b)}else _=Hd(_,n(v,T,i,o))}),I7(i,D7(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const bc=yH();bc.filterProps=["sx"];function jE(){return jE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jE.apply(null,arguments)}function _H(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function vH(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var EH=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vH(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=_H(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),qn="-ms-",Hg="-moz-",tt="-webkit-",Ak="comm",Yw="rule",Xw="decl",bH="@import",Ik="@keyframes",wH="@layer",TH=Math.abs,Jy=String.fromCharCode,SH=Object.assign;function AH(n,e){return Mn(n,0)^45?(((e<<2^Mn(n,0))<<2^Mn(n,1))<<2^Mn(n,2))<<2^Mn(n,3):0}function Rk(n){return n.trim()}function IH(n,e){return(n=e.exec(n))?n[0]:n}function nt(n,e,t){return n.replace(e,t)}function qE(n,e){return n.indexOf(e)}function Mn(n,e){return n.charCodeAt(e)|0}function yf(n,e,t){return n.slice(e,t)}function Li(n){return n.length}function Jw(n){return n.length}function Dm(n,e){return e.push(n),n}function RH(n,e){return n.map(e).join("")}var Zy=1,wc=1,Ck=0,fr=0,cn=0,zc="";function e_(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Zy,column:wc,length:u,return:""}}function gd(n,e){return SH(e_("",null,null,"",null,null,0),n,{length:-n.length},e)}function CH(){return cn}function xH(){return cn=fr>0?Mn(zc,--fr):0,wc--,cn===10&&(wc=1,Zy--),cn}function Or(){return cn=fr<Ck?Mn(zc,fr++):0,wc++,cn===10&&(wc=1,Zy++),cn}function Wi(){return Mn(zc,fr)}function sg(){return fr}function Xf(n,e){return yf(zc,n,e)}function _f(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xk(n){return Zy=wc=1,Ck=Li(zc=n),fr=0,[]}function Pk(n){return zc="",n}function ag(n){return Rk(Xf(fr-1,HE(n===91?n+2:n===40?n+1:n)))}function PH(n){for(;(cn=Wi())&&cn<33;)Or();return _f(n)>2||_f(cn)>3?"":" "}function OH(n,e){for(;--e&&Or()&&!(cn<48||cn>102||cn>57&&cn<65||cn>70&&cn<97););return Xf(n,sg()+(e<6&&Wi()==32&&Or()==32))}function HE(n){for(;Or();)switch(cn){case n:return fr;case 34:case 39:n!==34&&n!==39&&HE(cn);break;case 40:n===41&&HE(n);break;case 92:Or();break}return fr}function DH(n,e){for(;Or()&&n+cn!==57;)if(n+cn===84&&Wi()===47)break;return"/*"+Xf(e,fr-1)+"*"+Jy(n===47?n:Or())}function NH(n){for(;!_f(Wi());)Or();return Xf(n,fr)}function kH(n){return Pk(og("",null,null,null,[""],n=xk(n),0,[0],n))}function og(n,e,t,r,i,o,u,h,f){for(var d=0,g=0,_=u,v=0,T=0,b=0,A=1,x=1,U=1,L=0,V="",H=i,F=o,K=r,M=V;x;)switch(b=L,L=Or()){case 40:if(b!=108&&Mn(M,_-1)==58){qE(M+=nt(ag(L),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:M+=ag(L);break;case 9:case 10:case 13:case 32:M+=PH(b);break;case 92:M+=OH(sg()-1,7);continue;case 47:switch(Wi()){case 42:case 47:Dm(MH(DH(Or(),sg()),e,t),f);break;default:M+="/"}break;case 123*A:h[d++]=Li(M)*U;case 125*A:case 59:case 0:switch(L){case 0:case 125:x=0;case 59+g:U==-1&&(M=nt(M,/\f/g,"")),T>0&&Li(M)-_&&Dm(T>32?PC(M+";",r,t,_-1):PC(nt(M," ","")+";",r,t,_-2),f);break;case 59:M+=";";default:if(Dm(K=xC(M,e,t,d,g,i,h,V,H=[],F=[],_),o),L===123)if(g===0)og(M,e,K,K,H,o,_,h,F);else switch(v===99&&Mn(M,3)===110?100:v){case 100:case 108:case 109:case 115:og(n,K,K,r&&Dm(xC(n,K,K,0,0,i,h,V,i,H=[],_),F),i,F,_,h,r?H:F);break;default:og(M,K,K,K,[""],F,0,h,F)}}d=g=T=0,A=U=1,V=M="",_=u;break;case 58:_=1+Li(M),T=b;default:if(A<1){if(L==123)--A;else if(L==125&&A++==0&&xH()==125)continue}switch(M+=Jy(L),L*A){case 38:U=g>0?1:(M+="\f",-1);break;case 44:h[d++]=(Li(M)-1)*U,U=1;break;case 64:Wi()===45&&(M+=ag(Or())),v=Wi(),g=_=Li(V=M+=NH(sg())),L++;break;case 45:b===45&&Li(M)==2&&(A=0)}}return o}function xC(n,e,t,r,i,o,u,h,f,d,g){for(var _=i-1,v=i===0?o:[""],T=Jw(v),b=0,A=0,x=0;b<r;++b)for(var U=0,L=yf(n,_+1,_=TH(A=u[b])),V=n;U<T;++U)(V=Rk(A>0?v[U]+" "+L:nt(L,/&\f/g,v[U])))&&(f[x++]=V);return e_(n,e,t,i===0?Yw:h,f,d,g)}function MH(n,e,t){return e_(n,e,t,Ak,Jy(CH()),yf(n,2,-2),0)}function PC(n,e,t,r){return e_(n,e,t,Xw,yf(n,0,r),yf(n,r+1,-1),r)}function Yu(n,e){for(var t="",r=Jw(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function VH(n,e,t,r){switch(n.type){case wH:if(n.children.length)break;case bH:case Xw:return n.return=n.return||n.value;case Ak:return"";case Ik:return n.return=n.value+"{"+Yu(n.children,r)+"}";case Yw:n.value=n.props.join(",")}return Li(t=Yu(n.children,r))?n.return=n.value+"{"+t+"}":""}function LH(n){var e=Jw(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function UH(n){return function(e){e.root||(e=e.return)&&n(e)}}function Ok(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var BH=function(e,t,r){for(var i=0,o=0;i=o,o=Wi(),i===38&&o===12&&(t[r]=1),!_f(o);)Or();return Xf(e,fr)},FH=function(e,t){var r=-1,i=44;do switch(_f(i)){case 0:i===38&&Wi()===12&&(t[r]=1),e[r]+=BH(fr-1,t,r);break;case 2:e[r]+=ag(i);break;case 4:if(i===44){e[++r]=Wi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Jy(i)}while(i=Or());return e},zH=function(e,t){return Pk(FH(xk(e),t))},OC=new WeakMap,jH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!OC.get(r))&&!i){OC.set(e,!0);for(var o=[],u=zH(t,o),h=r.props,f=0,d=0;f<u.length;f++)for(var g=0;g<h.length;g++,d++)e.props[d]=o[f]?u[f].replace(/&\f/g,h[g]):h[g]+" "+u[f]}}},qH=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Dk(n,e){switch(AH(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+Hg+n+qn+n+n;case 6828:case 4268:return tt+n+qn+n+n;case 6165:return tt+n+qn+"flex-"+n+n;case 5187:return tt+n+nt(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+qn+"flex-$1$2")+n;case 5443:return tt+n+qn+"flex-item-"+nt(n,/flex-|-self/,"")+n;case 4675:return tt+n+qn+"flex-line-pack"+nt(n,/align-content|flex-|-self/,"")+n;case 5548:return tt+n+qn+nt(n,"shrink","negative")+n;case 5292:return tt+n+qn+nt(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+nt(n,"-grow","")+tt+n+qn+nt(n,"grow","positive")+n;case 4554:return tt+nt(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+qn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Li(n)-1-e>6)switch(Mn(n,e+1)){case 109:if(Mn(n,e+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Hg+(Mn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~qE(n,"stretch")?Dk(nt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Mn(n,e+1)!==115)break;case 6444:switch(Mn(n,Li(n)-3-(~qE(n,"!important")&&10))){case 107:return nt(n,":",":"+tt)+n;case 101:return nt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(Mn(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+qn+"$2box$3")+n}break;case 5936:switch(Mn(n,e+11)){case 114:return tt+n+qn+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+qn+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+qn+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return tt+n+qn+n+n}return n}var HH=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Xw:e.return=Dk(e.value,e.length);break;case Ik:return Yu([gd(e,{value:nt(e.value,"@","@"+tt)})],i);case Yw:if(e.length)return RH(e.props,function(o){switch(IH(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yu([gd(e,{props:[nt(o,/:(read-\w+)/,":"+Hg+"$1")]})],i);case"::placeholder":return Yu([gd(e,{props:[nt(o,/:(plac\w+)/,":"+tt+"input-$1")]}),gd(e,{props:[nt(o,/:(plac\w+)/,":"+Hg+"$1")]}),gd(e,{props:[nt(o,/:(plac\w+)/,qn+"input-$1")]})],i)}return""})}},$H=[HH],GH=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(A){var x=A.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var i=e.stylisPlugins||$H,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(A){for(var x=A.getAttribute("data-emotion").split(" "),U=1;U<x.length;U++)o[x[U]]=!0;h.push(A)});var f,d=[jH,qH];{var g,_=[VH,UH(function(A){g.insert(A)})],v=LH(d.concat(i,_)),T=function(x){return Yu(kH(x),v)};f=function(x,U,L,V){g=L,T(x?x+"{"+U.styles+"}":U.styles),V&&(b.inserted[U.name]=!0)}}var b={key:t,sheet:new EH({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return b.sheet.hydrate(h),b},KH=!0;function WH(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var Nk=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||KH===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},QH=function(e,t,r){Nk(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function YH(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var XH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},JH=/[A-Z]|^ms/g,ZH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kk=function(e){return e.charCodeAt(1)===45},DC=function(e){return e!=null&&typeof e!="boolean"},U0=Ok(function(n){return kk(n)?n:n.replace(JH,"-$&").toLowerCase()}),NC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(ZH,function(r,i,o){return Ui={name:i,styles:o,next:Ui},i})}return XH[e]!==1&&!kk(e)&&typeof t=="number"&&t!==0?t+"px":t};function vf(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ui={name:i.name,styles:i.styles,next:Ui},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Ui={name:u.name,styles:u.styles,next:Ui},u=u.next;var h=o.styles+";";return h}return e$(n,e,t)}case"function":{if(n!==void 0){var f=Ui,d=t(n);return Ui=f,vf(n,e,d)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function e$(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=vf(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":DC(h)&&(r+=U0(o)+":"+NC(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)DC(u[f])&&(r+=U0(o)+":"+NC(o,u[f])+";");else{var d=vf(n,e,u);switch(o){case"animation":case"animationName":{r+=U0(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var kC=/label:\s*([^\s;{]+)\s*(;|$)/g,Ui;function Mk(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ui=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=vf(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=vf(t,e,n[h]),r){var f=o;i+=f[h]}kC.lastIndex=0;for(var d="",g;(g=kC.exec(i))!==null;)d+="-"+g[1];var _=YH(i)+d;return{name:_,styles:i,next:Ui}}var t$=function(e){return e()},n$=$0.useInsertionEffect?$0.useInsertionEffect:!1,r$=n$||t$,Vk=W.createContext(typeof HTMLElement<"u"?GH({key:"css"}):null);Vk.Provider;var i$=function(e){return W.forwardRef(function(t,r){var i=W.useContext(Vk);return e(t,i,r)})},s$=W.createContext({}),a$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o$=Ok(function(n){return a$.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),l$=o$,u$=function(e){return e!=="theme"},MC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?l$:u$},VC=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},c$=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Nk(t,r,i),r$(function(){return QH(t,r,i)}),null},h$=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=VC(e,t,r),f=h||MC(i),d=!f("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,b=1;b<T;b++)_.push(g[b],v[b])}var A=i$(function(x,U,L){var V=d&&x.as||i,H="",F=[],K=x;if(x.theme==null){K={};for(var M in x)K[M]=x[M];K.theme=W.useContext(s$)}typeof x.className=="string"?H=WH(U.registered,F,x.className):x.className!=null&&(H=x.className+" ");var R=Mk(_.concat(F),U.registered,K);H+=U.key+"-"+R.name,u!==void 0&&(H+=" "+u);var P=d&&h===void 0?MC(V):f,w={};for(var O in x)d&&O==="as"||P(O)&&(w[O]=x[O]);return w.className=H,L&&(w.ref=L),W.createElement(W.Fragment,null,W.createElement(c$,{cache:U,serialized:R,isStringTag:typeof V=="string"}),W.createElement(V,w))});return A.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=i,A.__emotion_styles=_,A.__emotion_forwardProp=h,Object.defineProperty(A,"toString",{value:function(){return"."+u}}),A.withComponent=function(x,U){var L=n(x,jE({},t,U,{shouldForwardProp:VC(A,U,!0)}));return L.apply(void 0,_)},A}},d$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],$E=h$.bind(null);d$.forEach(function(n){$E[n]=$E(n)});function f$(n,e){return $E(n,e)}function p$(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const LC=[];function UC(n){return LC[0]=n,Mk(LC)}const m$=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function g$(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=m$(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function f(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function d(v,T){const b=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(b!==-1&&typeof e[u[b]]=="number"?e[u[b]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?d(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?f(u[T]):d(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:f,between:d,only:g,not:_,unit:t,...i}}const y$={borderRadius:4};function Lk(n=8,e=Ww({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function _$(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function Uk(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=g$(t),f=Lk(i);let d=Pr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...y$,...o}},u);return d=x7(d),d.applyStyles=_$,d=e.reduce((g,_)=>Pr(g,_),d),d.unstable_sxConfig={...Xy,...u==null?void 0:u.unstable_sxConfig},d.unstable_sx=function(_){return bc({sx:_,theme:this})},d}const v$={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Zw(n,e,t="Mui"){const r=v$[e];return r?`${t}-${r}`:`${T7.generate(n)}-${e}`}function Bk(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Zw(n,i,t)}),r}function Fk(n){const{variants:e,...t}=n,r={variants:e,style:UC(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=UC(i.style))}),r}const E$=Uk();function B0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function b$(n){return n?(e,t)=>t[n]:null}function w$(n,e,t){n.theme=A$(n.theme)?t:n.theme[e]||n.theme}function lg(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>lg(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return zk(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function zk(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function T$(n={}){const{themeId:e,defaultTheme:t=E$,rootShouldForwardProp:r=B0,slotShouldForwardProp:i=B0}=n;function o(h){w$(h,e,t)}return(h,f={})=>{p$(h,F=>F.filter(K=>K!==bc));const{name:d,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=b$(R$(g)),...b}=f,A=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,x=v||!1;let U=B0;g==="Root"||g==="root"?U=r:g?U=i:I$(h)&&(U=void 0);const L=f$(h,{shouldForwardProp:U,label:S$(),...b}),V=F=>{if(typeof F=="function"&&F.__emotion_real!==F)return function(M){return lg(M,F)};if(Ps(F)){const K=Fk(F);return K.variants?function(R){return lg(R,K)}:K.style}return F},H=(...F)=>{const K=[],M=F.map(V),R=[];if(K.push(o),d&&T&&R.push(function(C){var $,J;const se=(J=($=C.theme.components)==null?void 0:$[d])==null?void 0:J.styleOverrides;if(!se)return null;const B={};for(const le in se)B[le]=lg(C,se[le]);return T(C,B)}),d&&!A&&R.push(function(C){var B,$;const D=C.theme,se=($=(B=D==null?void 0:D.components)==null?void 0:B[d])==null?void 0:$.variants;return se?zk(C,se):null}),x||R.push(bc),Array.isArray(M[0])){const O=M.shift(),C=new Array(K.length).fill(""),D=new Array(R.length).fill("");let se;se=[...C,...O,...D],se.raw=[...C,...O.raw,...D],K.unshift(se)}const P=[...K,...M,...R],w=L(...P);return h.muiName&&(w.muiName=h.muiName),w};return L.withConfig&&(H.withConfig=L.withConfig),H}}function S$(n,e){return void 0}function A$(n){for(const e in n)return!1;return!0}function I$(n){return typeof n=="string"&&n.charCodeAt(0)>96}function R$(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function GE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const f=h;t[i][f]=GE(o[f],u[f])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function eT(n,e=0,t=1){return Ek(n,e,t)}function C$(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function eo(n){if(n.type)return n;if(n.charAt(0)==="#")return eo(C$(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Al(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Al(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const x$=n=>{const e=eo(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Rd=(n,e)=>{try{return x$(n)}catch{return n}};function t_(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function jk(n){n=eo(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(d,g=(d+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",f.push(e[3])),t_({type:h,values:f})}function KE(n){n=eo(n);let e=n.type==="hsl"||n.type==="hsla"?eo(jk(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function P$(n,e){const t=KE(n),r=KE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function O$(n,e){return n=eo(n),e=eT(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,t_(n)}function Nm(n,e,t){try{return O$(n,e)}catch{return n}}function tT(n,e){if(n=eo(n),e=eT(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return t_(n)}function yt(n,e,t){try{return tT(n,e)}catch{return n}}function nT(n,e){if(n=eo(n),e=eT(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return t_(n)}function _t(n,e,t){try{return nT(n,e)}catch{return n}}function D$(n,e=.15){return KE(n)>.5?tT(n,e):nT(n,e)}function km(n,e,t){try{return D$(n,e)}catch{return n}}const N$=W.createContext(void 0);function k$(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?GE(i.defaultProps,r):!i.styleOverrides&&!i.variants?GE(i,r):r}function M$({props:n,name:e}){const t=W.useContext(N$);return k$({props:n,name:e,theme:{components:t}})}const BC={theme:void 0};function V$(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(BC.theme=i.theme,o=Fk(n(BC)),e=o,t=i.theme),o}}function L$(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const FC=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},U$=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,f])=>{(!t||t&&!t([...o,h]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,h],Array.isArray(f)?[...u,h]:u):e([...o,h],f,u))})}r(n)},B$=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function F0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return U$(n,(h,f,d)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(h,f))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=B$(h,f);Object.assign(i,{[g]:_}),FC(o,h,`var(${g})`,d),FC(u,h,`var(${g}, ${_})`,d)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function F$(n,e={}){const{getSelector:t=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...f}=n,{vars:d,css:g,varsWithDefaults:_}=F0(f,e);let v=_;const T={},{[h]:b,...A}=o;if(Object.entries(A||{}).forEach(([V,H])=>{const{vars:F,css:K,varsWithDefaults:M}=F0(H,e);v=Pr(v,M),T[V]={css:K,vars:F}}),b){const{css:V,vars:H,varsWithDefaults:F}=F0(b,e);v=Pr(v,F),T[h]={css:V,vars:H}}function x(V,H){var K,M;let F=i;if(i==="class"&&(F=".%s"),i==="data"&&(F="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(F=`[${i}="%s"]`),V){if(F==="media")return n.defaultColorScheme===V?":root":{[`@media (prefers-color-scheme: ${((M=(K=o[V])==null?void 0:K.palette)==null?void 0:M.mode)||V})`]:{":root":H}};if(F)return n.defaultColorScheme===V?`:root, ${F.replace("%s",String(V))}`:F.replace("%s",String(V))}return":root"}return{vars:v,generateThemeVars:()=>{let V={...d};return Object.entries(T).forEach(([,{vars:H}])=>{V=Pr(V,H)}),V},generateStyleSheets:()=>{var R,P;const V=[],H=n.defaultColorScheme||"light";function F(w,O){Object.keys(O).length&&V.push(typeof w=="string"?{[w]:{...O}}:w)}F(t(void 0,{...g}),g);const{[H]:K,...M}=T;if(K){const{css:w}=K,O=(P=(R=o[H])==null?void 0:R.palette)==null?void 0:P.mode,C=!r&&O?{colorScheme:O,...w}:{...w};F(t(H,{...C}),C)}return Object.entries(M).forEach(([w,{css:O}])=>{var se,B;const C=(B=(se=o[w])==null?void 0:se.palette)==null?void 0:B.mode,D=!r&&C?{colorScheme:C,...O}:{...O};F(t(w,{...D}),D)}),V}}}function z$(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Ef={black:"#000",white:"#fff"},j$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ou={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Du={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},yd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Nu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ku={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Mu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function qk(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ef.white,default:Ef.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const q$=qk();function Hk(){return{text:{primary:Ef.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ef.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const zC=Hk();function jC(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=nT(n.main,i):e==="dark"&&(n.dark=tT(n.main,o)))}function H$(n="light"){return n==="dark"?{main:Nu[200],light:Nu[50],dark:Nu[400]}:{main:Nu[700],light:Nu[400],dark:Nu[800]}}function $$(n="light"){return n==="dark"?{main:Ou[200],light:Ou[50],dark:Ou[400]}:{main:Ou[500],light:Ou[300],dark:Ou[700]}}function G$(n="light"){return n==="dark"?{main:Du[500],light:Du[300],dark:Du[700]}:{main:Du[700],light:Du[400],dark:Du[800]}}function K$(n="light"){return n==="dark"?{main:ku[400],light:ku[300],dark:ku[700]}:{main:ku[700],light:ku[500],dark:ku[900]}}function W$(n="light"){return n==="dark"?{main:Mu[400],light:Mu[300],dark:Mu[700]}:{main:Mu[800],light:Mu[500],dark:Mu[900]}}function Q$(n="light"){return n==="dark"?{main:yd[400],light:yd[300],dark:yd[700]}:{main:"#ed6c02",light:yd[500],dark:yd[900]}}function rT(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||H$(e),u=n.secondary||$$(e),h=n.error||G$(e),f=n.info||K$(e),d=n.success||W$(e),g=n.warning||Q$(e);function _(A){return P$(A,zC.text.primary)>=t?zC.text.primary:q$.text.primary}const v=({color:A,name:x,mainShade:U=500,lightShade:L=300,darkShade:V=700})=>{if(A={...A},!A.main&&A[U]&&(A.main=A[U]),!A.hasOwnProperty("main"))throw new Error(Al(11,x?` (${x})`:"",U));if(typeof A.main!="string")throw new Error(Al(12,x?` (${x})`:"",JSON.stringify(A.main)));return jC(A,"light",L,r),jC(A,"dark",V,r),A.contrastText||(A.contrastText=_(A.main)),A};let T;return e==="light"?T=qk():e==="dark"&&(T=Hk()),Pr({common:{...Ef},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:j$,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function Y$(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function X$(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function J$(n){return Math.round(n*1e5)/1e5}const qC={textTransform:"uppercase"},HC='"Roboto", "Helvetica", "Arial", sans-serif';function Z$(n,e){const{fontFamily:t=HC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:d,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(x=>`${x/f*v}rem`),b=(x,U,L,V,H)=>({fontFamily:t,fontWeight:x,fontSize:T(U),lineHeight:L,...t===HC?{letterSpacing:`${J$(V/U)}em`}:{},...H,...d}),A={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(o,48,1.167,0),h4:b(o,34,1.235,.25),h5:b(o,24,1.334,0),h6:b(u,20,1.6,.15),subtitle1:b(o,16,1.75,.15),subtitle2:b(u,14,1.57,.1),body1:b(o,16,1.5,.15),body2:b(o,14,1.43,.15),button:b(u,14,1.75,.4,qC),caption:b(o,12,1.66,.4),overline:b(o,12,2.66,1,qC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Pr({htmlFontSize:f,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...A},_,{clone:!1})}const eG=.2,tG=.14,nG=.12;function It(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${eG})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${tG})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${nG})`].join(",")}const rG=["none",It(0,2,1,-1,0,1,1,0,0,1,3,0),It(0,3,1,-2,0,2,2,0,0,1,5,0),It(0,3,3,-2,0,3,4,0,0,1,8,0),It(0,2,4,-1,0,4,5,0,0,1,10,0),It(0,3,5,-1,0,5,8,0,0,1,14,0),It(0,3,5,-1,0,6,10,0,0,1,18,0),It(0,4,5,-2,0,7,10,1,0,2,16,1),It(0,5,5,-3,0,8,10,1,0,3,14,2),It(0,5,6,-3,0,9,12,1,0,3,16,2),It(0,6,6,-3,0,10,14,1,0,4,18,3),It(0,6,7,-4,0,11,15,1,0,4,20,3),It(0,7,8,-4,0,12,17,2,0,5,22,4),It(0,7,8,-4,0,13,19,2,0,5,24,4),It(0,7,9,-4,0,14,21,2,0,5,26,4),It(0,8,9,-5,0,15,22,2,0,6,28,5),It(0,8,10,-5,0,16,24,2,0,6,30,5),It(0,8,11,-5,0,17,26,2,0,6,32,5),It(0,9,11,-5,0,18,28,2,0,7,34,6),It(0,9,12,-6,0,19,29,2,0,7,36,6),It(0,10,13,-6,0,20,31,3,0,8,38,7),It(0,10,13,-6,0,21,33,3,0,8,40,7),It(0,10,14,-6,0,22,35,3,0,8,42,7),It(0,11,14,-7,0,23,36,3,0,9,44,8),It(0,11,15,-7,0,24,38,3,0,9,46,8)],iG={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},sG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $C(n){return`${Math.round(n)}ms`}function aG(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function oG(n){const e={...iG,...n.easing},t={...sG,...n.duration};return{getAutoHeightDuration:aG,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:f=0,...d}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:$C(u)} ${h} ${typeof f=="string"?f:$C(f)}`).join(",")},...n,easing:e,duration:t}}const lG={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function uG(n){return Ps(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function $k(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!uG(h)||u.startsWith("unstable_")?delete r[u]:Ps(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function WE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:f,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Al(20));const g=rT(o),_=Uk(n);let v=Pr(_,{mixins:X$(_.breakpoints,r),palette:g,shadows:rG.slice(),typography:Z$(g,h),transitions:oG(u),zIndex:{...lG}});return v=Pr(v,d),v=e.reduce((T,b)=>Pr(T,b),v),v.unstable_sxConfig={...Xy,...d==null?void 0:d.unstable_sxConfig},v.unstable_sx=function(b){return bc({sx:b,theme:this})},v.toRuntimeSource=$k,v}function cG(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const hG=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=cG(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function Gk(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function Kk(n){return n==="dark"?hG:[]}function dG(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=rT(e);return{palette:o,opacity:{...Gk(o.mode),...t},overlays:r||Kk(o.mode),...i}}function fG(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const pG=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],mG=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return pG(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function gG(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ue(n,e,t){!n[e]&&t&&(n[e]=t)}function Cd(n){return typeof n!="string"||!n.startsWith("hsl")?n:jk(n)}function xs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Rd(Cd(n[e])))}function yG(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const ki=n=>{try{return n()}catch{}},_G=(n="mui")=>L$(n);function z0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=dG({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=WE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...Gk(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Kk(i)},u}function vG(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=fG,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...d}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=_G(o),{[_]:T,light:b,dark:A,...x}=t,U={...x};let L=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(Al(21,_));const V=z0(U,L,d,_);b&&!U.light&&z0(U,b,void 0,"light"),A&&!U.dark&&z0(U,A,void 0,"dark");let H={defaultColorScheme:_,...V,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:f,getCssVar:v,colorSchemes:U,font:{...Y$(V.typography),...V.font},spacing:yG(d.spacing)};Object.keys(H.colorSchemes).forEach(P=>{const w=H.colorSchemes[P].palette,O=C=>{const D=C.split("-"),se=D[1],B=D[2];return v(C,w[se][B])};if(w.mode==="light"&&(ue(w.common,"background","#fff"),ue(w.common,"onBackground","#000")),w.mode==="dark"&&(ue(w.common,"background","#000"),ue(w.common,"onBackground","#fff")),gG(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){ue(w.Alert,"errorColor",yt(w.error.light,.6)),ue(w.Alert,"infoColor",yt(w.info.light,.6)),ue(w.Alert,"successColor",yt(w.success.light,.6)),ue(w.Alert,"warningColor",yt(w.warning.light,.6)),ue(w.Alert,"errorFilledBg",O("palette-error-main")),ue(w.Alert,"infoFilledBg",O("palette-info-main")),ue(w.Alert,"successFilledBg",O("palette-success-main")),ue(w.Alert,"warningFilledBg",O("palette-warning-main")),ue(w.Alert,"errorFilledColor",ki(()=>w.getContrastText(w.error.main))),ue(w.Alert,"infoFilledColor",ki(()=>w.getContrastText(w.info.main))),ue(w.Alert,"successFilledColor",ki(()=>w.getContrastText(w.success.main))),ue(w.Alert,"warningFilledColor",ki(()=>w.getContrastText(w.warning.main))),ue(w.Alert,"errorStandardBg",_t(w.error.light,.9)),ue(w.Alert,"infoStandardBg",_t(w.info.light,.9)),ue(w.Alert,"successStandardBg",_t(w.success.light,.9)),ue(w.Alert,"warningStandardBg",_t(w.warning.light,.9)),ue(w.Alert,"errorIconColor",O("palette-error-main")),ue(w.Alert,"infoIconColor",O("palette-info-main")),ue(w.Alert,"successIconColor",O("palette-success-main")),ue(w.Alert,"warningIconColor",O("palette-warning-main")),ue(w.AppBar,"defaultBg",O("palette-grey-100")),ue(w.Avatar,"defaultBg",O("palette-grey-400")),ue(w.Button,"inheritContainedBg",O("palette-grey-300")),ue(w.Button,"inheritContainedHoverBg",O("palette-grey-A100")),ue(w.Chip,"defaultBorder",O("palette-grey-400")),ue(w.Chip,"defaultAvatarColor",O("palette-grey-700")),ue(w.Chip,"defaultIconColor",O("palette-grey-700")),ue(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ue(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ue(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ue(w.LinearProgress,"primaryBg",_t(w.primary.main,.62)),ue(w.LinearProgress,"secondaryBg",_t(w.secondary.main,.62)),ue(w.LinearProgress,"errorBg",_t(w.error.main,.62)),ue(w.LinearProgress,"infoBg",_t(w.info.main,.62)),ue(w.LinearProgress,"successBg",_t(w.success.main,.62)),ue(w.LinearProgress,"warningBg",_t(w.warning.main,.62)),ue(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),ue(w.Slider,"primaryTrack",_t(w.primary.main,.62)),ue(w.Slider,"secondaryTrack",_t(w.secondary.main,.62)),ue(w.Slider,"errorTrack",_t(w.error.main,.62)),ue(w.Slider,"infoTrack",_t(w.info.main,.62)),ue(w.Slider,"successTrack",_t(w.success.main,.62)),ue(w.Slider,"warningTrack",_t(w.warning.main,.62));const C=km(w.background.default,.8);ue(w.SnackbarContent,"bg",C),ue(w.SnackbarContent,"color",ki(()=>w.getContrastText(C))),ue(w.SpeedDialAction,"fabHoverBg",km(w.background.paper,.15)),ue(w.StepConnector,"border",O("palette-grey-400")),ue(w.StepContent,"border",O("palette-grey-400")),ue(w.Switch,"defaultColor",O("palette-common-white")),ue(w.Switch,"defaultDisabledColor",O("palette-grey-100")),ue(w.Switch,"primaryDisabledColor",_t(w.primary.main,.62)),ue(w.Switch,"secondaryDisabledColor",_t(w.secondary.main,.62)),ue(w.Switch,"errorDisabledColor",_t(w.error.main,.62)),ue(w.Switch,"infoDisabledColor",_t(w.info.main,.62)),ue(w.Switch,"successDisabledColor",_t(w.success.main,.62)),ue(w.Switch,"warningDisabledColor",_t(w.warning.main,.62)),ue(w.TableCell,"border",_t(Nm(w.divider,1),.88)),ue(w.Tooltip,"bg",Nm(w.grey[700],.92))}if(w.mode==="dark"){ue(w.Alert,"errorColor",_t(w.error.light,.6)),ue(w.Alert,"infoColor",_t(w.info.light,.6)),ue(w.Alert,"successColor",_t(w.success.light,.6)),ue(w.Alert,"warningColor",_t(w.warning.light,.6)),ue(w.Alert,"errorFilledBg",O("palette-error-dark")),ue(w.Alert,"infoFilledBg",O("palette-info-dark")),ue(w.Alert,"successFilledBg",O("palette-success-dark")),ue(w.Alert,"warningFilledBg",O("palette-warning-dark")),ue(w.Alert,"errorFilledColor",ki(()=>w.getContrastText(w.error.dark))),ue(w.Alert,"infoFilledColor",ki(()=>w.getContrastText(w.info.dark))),ue(w.Alert,"successFilledColor",ki(()=>w.getContrastText(w.success.dark))),ue(w.Alert,"warningFilledColor",ki(()=>w.getContrastText(w.warning.dark))),ue(w.Alert,"errorStandardBg",yt(w.error.light,.9)),ue(w.Alert,"infoStandardBg",yt(w.info.light,.9)),ue(w.Alert,"successStandardBg",yt(w.success.light,.9)),ue(w.Alert,"warningStandardBg",yt(w.warning.light,.9)),ue(w.Alert,"errorIconColor",O("palette-error-main")),ue(w.Alert,"infoIconColor",O("palette-info-main")),ue(w.Alert,"successIconColor",O("palette-success-main")),ue(w.Alert,"warningIconColor",O("palette-warning-main")),ue(w.AppBar,"defaultBg",O("palette-grey-900")),ue(w.AppBar,"darkBg",O("palette-background-paper")),ue(w.AppBar,"darkColor",O("palette-text-primary")),ue(w.Avatar,"defaultBg",O("palette-grey-600")),ue(w.Button,"inheritContainedBg",O("palette-grey-800")),ue(w.Button,"inheritContainedHoverBg",O("palette-grey-700")),ue(w.Chip,"defaultBorder",O("palette-grey-700")),ue(w.Chip,"defaultAvatarColor",O("palette-grey-300")),ue(w.Chip,"defaultIconColor",O("palette-grey-300")),ue(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ue(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ue(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ue(w.LinearProgress,"primaryBg",yt(w.primary.main,.5)),ue(w.LinearProgress,"secondaryBg",yt(w.secondary.main,.5)),ue(w.LinearProgress,"errorBg",yt(w.error.main,.5)),ue(w.LinearProgress,"infoBg",yt(w.info.main,.5)),ue(w.LinearProgress,"successBg",yt(w.success.main,.5)),ue(w.LinearProgress,"warningBg",yt(w.warning.main,.5)),ue(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),ue(w.Slider,"primaryTrack",yt(w.primary.main,.5)),ue(w.Slider,"secondaryTrack",yt(w.secondary.main,.5)),ue(w.Slider,"errorTrack",yt(w.error.main,.5)),ue(w.Slider,"infoTrack",yt(w.info.main,.5)),ue(w.Slider,"successTrack",yt(w.success.main,.5)),ue(w.Slider,"warningTrack",yt(w.warning.main,.5));const C=km(w.background.default,.98);ue(w.SnackbarContent,"bg",C),ue(w.SnackbarContent,"color",ki(()=>w.getContrastText(C))),ue(w.SpeedDialAction,"fabHoverBg",km(w.background.paper,.15)),ue(w.StepConnector,"border",O("palette-grey-600")),ue(w.StepContent,"border",O("palette-grey-600")),ue(w.Switch,"defaultColor",O("palette-grey-300")),ue(w.Switch,"defaultDisabledColor",O("palette-grey-600")),ue(w.Switch,"primaryDisabledColor",yt(w.primary.main,.55)),ue(w.Switch,"secondaryDisabledColor",yt(w.secondary.main,.55)),ue(w.Switch,"errorDisabledColor",yt(w.error.main,.55)),ue(w.Switch,"infoDisabledColor",yt(w.info.main,.55)),ue(w.Switch,"successDisabledColor",yt(w.success.main,.55)),ue(w.Switch,"warningDisabledColor",yt(w.warning.main,.55)),ue(w.TableCell,"border",yt(Nm(w.divider,1),.68)),ue(w.Tooltip,"bg",Nm(w.grey[700],.92))}xs(w.background,"default"),xs(w.background,"paper"),xs(w.common,"background"),xs(w.common,"onBackground"),xs(w,"divider"),Object.keys(w).forEach(C=>{const D=w[C];C!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&ue(w[C],"mainChannel",Rd(Cd(D.main))),D.light&&ue(w[C],"lightChannel",Rd(Cd(D.light))),D.dark&&ue(w[C],"darkChannel",Rd(Cd(D.dark))),D.contrastText&&ue(w[C],"contrastTextChannel",Rd(Cd(D.contrastText))),C==="text"&&(xs(w[C],"primary"),xs(w[C],"secondary")),C==="action"&&(D.active&&xs(w[C],"active"),D.selected&&xs(w[C],"selected")))})}),H=e.reduce((P,w)=>Pr(P,w),H);const F={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:mG(H)},{vars:K,generateThemeVars:M,generateStyleSheets:R}=F$(H,F);return H.vars=K,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([P,w])=>{H[P]=w}),H.generateThemeVars=M,H.generateStyleSheets=R,H.generateSpacing=function(){return Lk(d.spacing,Ww(this))},H.getColorSchemeSelector=z$(h),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=u,H.unstable_sxConfig={...Xy,...d==null?void 0:d.unstable_sxConfig},H.unstable_sx=function(w){return bc({sx:w,theme:this})},H.toRuntimeSource=$k,H}function GC(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:rT({...t===!0?{}:t.palette,mode:e})})}function EG(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",f=i==null?void 0:i[h],d={...i,...t?{[h]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return WE(n,...e);let g=t;"palette"in n||d[h]&&(d[h]!==!0?g=d[h].palette:h==="dark"&&(g={mode:"dark"}));const _=WE({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=d,_.palette.mode==="light"&&(_.colorSchemes.light={...d.light!==!0&&d.light,palette:_.palette},GC(_,"dark",d.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:_.palette},GC(_,"light",d.light)),_}return!t&&!("light"in d)&&h==="light"&&(d.light=!0),vG({...u,colorSchemes:d,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const bG=EG(),wG="$$material";function Wk(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const TG=n=>Wk(n)&&n!=="classes",Jf=T$({themeId:wG,defaultTheme:bG,rootShouldForwardProp:TG}),iT=V$;function Qk(n){return M$(n)}function SG(n){return Zw("MuiSvgIcon",n)}Bk("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const AG=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Za(e)}`,`fontSize${Za(t)}`]};return bk(i,SG,r)},IG=Jf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Za(t.color)}`],e[`fontSize${Za(t.fontSize)}`]]}})(iT(({theme:n})=>{var e,t,r,i,o,u,h,f,d,g,_,v,T,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:f.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:g.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,A])=>A&&A.main).map(([A])=>{var x,U;return{props:{color:A},style:{color:(U=(x=(n.vars??n).palette)==null?void 0:x[A])==null?void 0:U.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(b=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),QE=W.forwardRef(function(e,t){const r=Qk({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:f="medium",htmlColor:d,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,b=W.isValidElement(i)&&i.type==="svg",A={...r,color:u,component:h,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:b},x={};g||(x.viewBox=v);const U=AG(A);return z.jsxs(IG,{as:h,className:dl(U.root,o),focusable:"false",color:d,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...x,...T,...b&&i.props,ownerState:A,children:[b?i.props.children:i,_?z.jsx("title",{children:_}):null]})});QE.muiName="SvgIcon";function Yk(n,e){function t(r,i){return z.jsx(QE,{"data-testid":void 0,ref:i,...r,children:n})}return t.muiName=QE.muiName,W.memo(W.forwardRef(t))}let KC=0;function RG(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(KC+=1,t(`mui-${KC}`))},[e]),r}const CG={...$0},WC=CG.useId;function Xk(n){if(WC!==void 0){const e=WC();return n??e}return RG(n)}function xG(n){const{controlled:e,default:t}=n,{current:r}=W.useRef(e!==void 0),[i,o]=W.useState(t),u=r?e:i,h=W.useCallback(f=>{r||o(f)},[]);return[u,h]}function Jk(...n){const e=W.useRef(void 0),t=W.useCallback(r=>{const i=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,h=u(r);return typeof h=="function"?h:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},n);return W.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const PG=Yk(z.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),OG=Yk(z.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function DG(n){return Zw("MuiRating",n)}const _d=Bk("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function NG(n){return typeof n=="string"}function kG(n,e,t){return n===void 0||NG(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function MG(n,e,t){return typeof n=="function"?n(e,t):n}function VG(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function QC(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function LG(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const T=dl(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),b={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},A={...t,...i,...r};return T.length>0&&(A.className=T),Object.keys(b).length>0&&(A.style=b),{props:A,internalRef:void 0}}const u=VG({...i,...r}),h=QC(r),f=QC(i),d=e(u),g=dl(d==null?void 0:d.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),_={...d==null?void 0:d.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...d,...t,...f,...h};return g.length>0&&(v.className=g),Object.keys(_).length>0&&(v.style=_),{props:v,internalRef:d.ref}}function $d(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:h=!1,...f}=e,{component:d,slots:g={[n]:void 0},slotProps:_={[n]:void 0},...v}=o,T=g[n]||r,b=MG(_[n],i),{props:{component:A,...x},internalRef:U}=LG({className:t,...f,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:b}),L=Jk(U,b==null?void 0:b.ref,e.ref),V=n==="root"?A||d:A,H=kG(T,{...n==="root"&&!d&&!g[n]&&u,...n!=="root"&&!g[n]&&u,...x,...V&&!h&&{as:V},...V&&h&&{component:V},ref:L},i);return[T,H]}function UG(n){const e=n.toString().split(".")[1];return e?e.length:0}function j0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(UG(e)))}const BG=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${Za(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return bk(h,DG,e)},FG=Jf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${_d.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Za(t.size)}`],t.readOnly&&e.readOnly]}})(iT(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${_d.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${_d.focusVisible} .${_d.iconActive}`]:{outline:"1px solid #999"},[`& .${_d.visuallyHidden}`]:v7,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),Zk=Jf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),zG=Jf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(iT(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),jG=Jf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>Wk(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function qG(n){const{value:e,...t}=n;return z.jsx("span",{...t})}function YC(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:f,IconContainerComponent:d,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:b,onChange:A,onClick:x,onFocus:U,readOnly:L,ownerState:V,ratingValue:H,ratingValueRounded:F,slots:K={},slotProps:M={}}=n,R=u?_===H:_<=H,P=_<=h,w=_<=i,O=_===F,C=`${T}-${Xk()}`,D={slots:K,slotProps:M},[se,B]=$d("icon",{elementType:zG,className:dl(e.icon,R?e.iconFilled:e.iconEmpty,P&&e.iconHover,w&&e.iconFocus,g&&e.iconActive),externalForwardedProps:D,ownerState:{...V,iconEmpty:!R,iconFilled:R,iconHover:P,iconFocus:w,iconActive:g},additionalProps:{value:_},internalForwardedProps:{as:d}}),[$,J]=$d("label",{elementType:Zk,externalForwardedProps:D,ownerState:{...V,emptyValueFocused:void 0},additionalProps:{style:v==null?void 0:v.style,htmlFor:C}}),le=z.jsx(se,{...B,children:r&&!R?r:f});return L?z.jsx("span",{...v,children:le}):z.jsxs(W.Fragment,{children:[z.jsxs($,{...J,children:[le,z.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),z.jsx("input",{className:e.visuallyHidden,onFocus:U,onBlur:b,onChange:A,onClick:x,disabled:t,value:_,id:C,type:"radio",name:T,checked:O})]})}const HG=z.jsx(PG,{fontSize:"inherit"}),$G=z.jsx(OG,{fontSize:"inherit"});function GG(n){return`${n||"0"} Star${n!==1?"s":""}`}const KG=W.forwardRef(function(e,t){const r=Qk({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:f=$G,emptyLabelText:d="Empty",getLabelText:g=GG,highlightSelectedOnly:_=!1,icon:v=HG,IconContainerComponent:T=qG,max:b=5,name:A,onChange:x,onChangeActive:U,onMouseLeave:L,onMouseMove:V,precision:H=1,readOnly:F=!1,size:K="medium",value:M,slots:R={},slotProps:P={},...w}=r,O=Xk(A),[C,D]=xG({controlled:M,default:u}),se=j0(C,H),B=b7(),[{hover:$,focus:J},le]=W.useState({hover:-1,focus:-1});let be=se;$!==-1&&(be=$),J!==-1&&(be=J);const[q,re]=W.useState(!1),ge=W.useRef(),me=Jk(ge,t),Te=Fe=>{V&&V(Fe);const vt=ge.current,{right:Tt,left:gi,width:ei}=vt.getBoundingClientRect();let st;B?st=(Tt-Fe.clientX)/ei:st=(Fe.clientX-gi)/ei;let Ue=j0(b*st+H/2,H);Ue=Ek(Ue,H,b),le(Kt=>Kt.hover===Ue&&Kt.focus===Ue?Kt:{hover:Ue,focus:Ue}),re(!1),U&&$!==Ue&&U(Fe,Ue)},ke=Fe=>{L&&L(Fe);const vt=-1;le({hover:vt,focus:vt}),U&&$!==vt&&U(Fe,vt)},xe=Fe=>{let vt=Fe.target.value===""?null:parseFloat(Fe.target.value);$!==-1&&(vt=$),D(vt),x&&x(Fe,vt)},Gt=Fe=>{Fe.clientX===0&&Fe.clientY===0||(le({hover:-1,focus:-1}),D(null),x&&parseFloat(Fe.target.value)===se&&x(Fe,null))},rt=Fe=>{TC(Fe.target)&&re(!0);const vt=parseFloat(Fe.target.value);le(Tt=>({hover:Tt.hover,focus:vt}))},Nr=Fe=>{if($!==-1)return;TC(Fe.target)||re(!1);const vt=-1;le(Tt=>({hover:Tt.hover,focus:vt}))},[mi,kr]=W.useState(!1),pr={...r,component:i,defaultValue:u,disabled:h,emptyIcon:f,emptyLabelText:d,emptyValueFocused:mi,focusVisible:q,getLabelText:g,icon:v,IconContainerComponent:T,max:b,precision:H,readOnly:F,size:K},Un=BG(pr),Zr={slots:R,slotProps:P},[co,Nl]=$d("root",{ref:me,className:dl(Un.root,o),elementType:FG,externalForwardedProps:{...Zr,...w,component:i},getSlotProps:Fe=>({...Fe,onMouseMove:vt=>{var Tt;Te(vt),(Tt=Fe.onMouseMove)==null||Tt.call(Fe,vt)},onMouseLeave:vt=>{var Tt;ke(vt),(Tt=Fe.onMouseLeave)==null||Tt.call(Fe,vt)}}),ownerState:pr,additionalProps:{role:F?"img":null,"aria-label":F?g(be):null}}),[rr,qc]=$d("label",{className:dl(Un.label,Un.labelEmptyValue),elementType:Zk,externalForwardedProps:Zr,ownerState:pr}),[ho,ns]=$d("decimal",{className:Un.decimal,elementType:jG,externalForwardedProps:Zr,ownerState:pr});return z.jsxs(co,{...Nl,children:[Array.from(new Array(b)).map((Fe,vt)=>{const Tt=vt+1,gi={classes:Un,disabled:h,emptyIcon:f,focus:J,getLabelText:g,highlightSelectedOnly:_,hover:$,icon:v,IconContainerComponent:T,name:O,onBlur:Nr,onChange:xe,onClick:Gt,onFocus:rt,ratingValue:be,ratingValueRounded:se,readOnly:F,ownerState:pr,slots:R,slotProps:P},ei=Tt===Math.ceil(be)&&($!==-1||J!==-1);if(H<1){const st=Array.from(new Array(1/H));return W.createElement(ho,{...ns,key:Tt,className:dl(ns.className,ei&&Un.iconActive),iconActive:ei},st.map((Ue,Kt)=>{const tn=j0(Tt-1+(Kt+1)*H,H);return z.jsx(YC,{...gi,isActive:!1,itemValue:tn,labelProps:{style:st.length-1===Kt?{}:{width:tn===be?`${(Kt+1)*H*100}%`:"0%",overflow:"hidden",position:"absolute"}}},tn)}))}return z.jsx(YC,{...gi,isActive:ei,itemValue:Tt},Tt)}),!F&&!h&&z.jsxs(rr,{...qc,children:[z.jsx("input",{className:Un.visuallyHidden,value:"",id:`${O}-empty`,type:"radio",name:O,checked:se==null,onFocus:()=>kr(!0),onBlur:()=>kr(!1),onChange:xe}),z.jsx("span",{className:Un.visuallyHidden,children:d})]})]})});var ug={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var WG=ug.exports,XC;function QG(){return XC||(XC=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(WG,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function f(d,g){this._input=d,this._value=g}return e=function(d){var g,_,v,T;if(e.isNumeral(d))g=d.value();else if(d===0||typeof d>"u")g=0;else if(d===null||t.isNaN(d))g=null;else if(typeof d=="string")if(h.zeroFormat&&d===h.zeroFormat)g=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&d.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(d)}else g=Number(d)||null;return new f(d,g)},e.version=r,e.isNumeral=function(d){return d instanceof f},e._=t={numberToFormat:function(d,g,_){var v=o[e.options.currentLocale],T=!1,b=!1,A=0,x="",U=1e12,L=1e9,V=1e6,H=1e3,F="",K=!1,M,R,P,w,O,C,D;if(d=d||0,R=Math.abs(d),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(O=e._.includes(g,"+")?g.indexOf("+"):d<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(M=g.match(/a(k|m|b|t)?/),M=M?M[1]:!1,e._.includes(g," a")&&(x=" "),g=g.replace(new RegExp(x+"a[kmbt]?"),""),R>=U&&!M||M==="t"?(x+=v.abbreviations.trillion,d=d/U):R<U&&R>=L&&!M||M==="b"?(x+=v.abbreviations.billion,d=d/L):R<L&&R>=V&&!M||M==="m"?(x+=v.abbreviations.million,d=d/V):(R<V&&R>=H&&!M||M==="k")&&(x+=v.abbreviations.thousand,d=d/H)),e._.includes(g,"[.]")&&(b=!0,g=g.replace("[.]",".")),P=d.toString().split(".")[0],w=g.split(".")[1],C=g.indexOf(","),A=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,w?(e._.includes(w,"[")?(w=w.replace("]",""),w=w.split("["),F=e._.toFixed(d,w[0].length+w[1].length,_,w[1].length)):F=e._.toFixed(d,w.length,_),P=F.split(".")[0],e._.includes(F,".")?F=v.delimiters.decimal+F.split(".")[1]:F="",b&&Number(F.slice(1))===0&&(F="")):P=e._.toFixed(d,0,_),x&&!M&&Number(P)>=1e3&&x!==v.abbreviations.trillion)switch(P=String(Number(P)/1e3),x){case v.abbreviations.thousand:x=v.abbreviations.million;break;case v.abbreviations.million:x=v.abbreviations.billion;break;case v.abbreviations.billion:x=v.abbreviations.trillion;break}if(e._.includes(P,"-")&&(P=P.slice(1),K=!0),P.length<A)for(var se=A-P.length;se>0;se--)P="0"+P;return C>-1&&(P=P.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(P=""),D=P+F+(x||""),T?D=(T&&K?"(":"")+D+(T&&K?")":""):O>=0?D=O===0?(K?"-":"+")+D:D+(K?"-":"+"):K&&(D="-"+D),D},stringToNumber:function(d){var g=o[h.currentLocale],_=d,v={thousand:3,million:6,billion:9,trillion:12},T,b,A;if(h.zeroFormat&&d===h.zeroFormat)b=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)b=null;else{b=1,g.delimiters.decimal!=="."&&(d=d.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(A=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(A)){b*=Math.pow(10,v[T]);break}b*=(d.split("-").length+Math.min(d.split("(").length-1,d.split(")").length-1))%2?1:-1,d=d.replace(/[^0-9\.]+/g,""),b*=Number(d)}return b},isNaN:function(d){return typeof d=="number"&&isNaN(d)},includes:function(d,g){return d.indexOf(g)!==-1},insert:function(d,g,_){return d.slice(0,_)+g+d.slice(_)},reduce:function(d,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(d),v=_.length>>>0,T=0,b;if(arguments.length===3)b=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");b=_[T++]}for(;T<v;T++)T in _&&(b=g(b,_[T],T,_));return b},multiplier:function(d){var g=d.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var d=Array.prototype.slice.call(arguments);return d.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(d,g,_,v){var T=d.toString().split("."),b=g-(v||0),A,x,U,L;return T.length===2?A=Math.min(Math.max(T[1].length,b),g):A=b,U=Math.pow(10,A),L=(_(d+"e+"+A)/U).toFixed(A),v>g-A&&(x=new RegExp("\\.?0{1,"+(v-(g-A))+"}$"),L=L.replace(x,"")),L}},e.options=h,e.formats=i,e.locales=o,e.locale=function(d){return d&&(h.currentLocale=d.toLowerCase()),h.currentLocale},e.localeData=function(d){if(!d)return o[h.currentLocale];if(d=d.toLowerCase(),!o[d])throw new Error("Unknown locale : "+d);return o[d]},e.reset=function(){for(var d in u)h[d]=u[d]},e.zeroFormat=function(d){h.zeroFormat=typeof d=="string"?d:null},e.nullFormat=function(d){h.nullFormat=typeof d=="string"?d:null},e.defaultFormat=function(d){h.defaultFormat=typeof d=="string"?d:"0.0"},e.register=function(d,g,_){if(g=g.toLowerCase(),this[d+"s"][g])throw new TypeError(g+" "+d+" already registered.");return this[d+"s"][g]=_,_},e.validate=function(d,g){var _,v,T,b,A,x,U,L;if(typeof d!="string"&&(d+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",d)),d=d.trim(),d.match(/^\d+$/))return!0;if(d==="")return!1;try{U=e.localeData(g)}catch{U=e.localeData(e.locale())}return T=U.currency.symbol,A=U.abbreviations,_=U.delimiters.decimal,U.delimiters.thousands==="."?v="\\.":v=U.delimiters.thousands,L=d.match(/^[^\d]+/),L!==null&&(d=d.substr(1),L[0]!==T)||(L=d.match(/[^\d]+$/),L!==null&&(d=d.slice(0,-1),L[0]!==A.thousand&&L[0]!==A.million&&L[0]!==A.billion&&L[0]!==A.trillion))?!1:(x=new RegExp(v+"{2}"),d.match(/[^\d.,]/g)?!1:(b=d.split(_),b.length>2?!1:b.length<2?!!b[0].match(/^\d+.*\d$/)&&!b[0].match(x):b[0].length===1?!!b[0].match(/^\d+$/)&&!b[0].match(x)&&!!b[1].match(/^\d+$/):!!b[0].match(/^\d+.*\d$/)&&!b[0].match(x)&&!!b[1].match(/^\d+$/)))},e.fn=f.prototype={clone:function(){return e(this)},format:function(d,g){var _=this._value,v=d||h.defaultFormat,T,b,A;if(g=g||Math.round,_===0&&h.zeroFormat!==null)b=h.zeroFormat;else if(_===null&&h.nullFormat!==null)b=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){A=i[T].format;break}A=A||e._.numberToFormat,b=A(_,v,g)}return b},value:function(){return this._value},input:function(){return this._input},set:function(d){return this._value=Number(d),this},add:function(d){var g=t.correctionFactor.call(null,this._value,d);function _(v,T,b,A){return v+Math.round(g*T)}return this._value=t.reduce([this._value,d],_,0)/g,this},subtract:function(d){var g=t.correctionFactor.call(null,this._value,d);function _(v,T,b,A){return v-Math.round(g*T)}return this._value=t.reduce([d],_,Math.round(this._value*g))/g,this},multiply:function(d){function g(_,v,T,b){var A=t.correctionFactor(_,v);return Math.round(_*A)*Math.round(v*A)/Math.round(A*A)}return this._value=t.reduce([this._value,d],g,1),this},divide:function(d){function g(_,v,T,b){var A=t.correctionFactor(_,v);return Math.round(_*A)/Math.round(v*A)}return this._value=t.reduce([this._value,d],g),this},difference:function(d){return Math.abs(e(this._value).subtract(d).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(d){var g=d%10;return~~(d%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(d,g,_){var v=e._.includes(g," BPS")?" ":"",T;return d=d*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(d,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(d){return+(e._.stringToNumber(d)*1e-4).toFixed(15)}})}(),function(){var d={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=d.suffixes.concat(g.suffixes.filter(function(T){return d.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,b,A){var x,U=e._.includes(b,"ib")?g:d,L=e._.includes(b," b")||e._.includes(b," ib")?" ":"",V,H,F;for(b=b.replace(/\s?i?b/,""),V=0;V<=U.suffixes.length;V++)if(H=Math.pow(U.base,V),F=Math.pow(U.base,V+1),T===null||T===0||T>=H&&T<F){L+=U.suffixes[V],H>0&&(T=T/H);break}return x=e._.numberToFormat(T,b,A),x+L},unformat:function(T){var b=e._.stringToNumber(T),A,x;if(b){for(A=d.suffixes.length-1;A>=0;A--){if(e._.includes(T,d.suffixes[A])){x=Math.pow(d.base,A);break}if(e._.includes(T,g.suffixes[A])){x=Math.pow(g.base,A);break}}b*=x||1}return b}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(d,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},b,A,x;for(g=g.replace(/\s?\$\s?/,""),b=e._.numberToFormat(d,g,_),d>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):d<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),x=0;x<T.before.length;x++)switch(A=T.before[x],A){case"$":b=e._.insert(b,v.currency.symbol,x);break;case" ":b=e._.insert(b," ",x+v.currency.symbol.length-1);break}for(x=T.after.length-1;x>=0;x--)switch(A=T.after[x],A){case"$":b=x===T.after.length-1?b+v.currency.symbol:e._.insert(b,v.currency.symbol,-(T.after.length-(1+x)));break;case" ":b=x===T.after.length-1?b+" ":e._.insert(b," ",-(T.after.length-(1+x)+v.currency.symbol.length-1));break}return b}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(d,g,_){var v,T=typeof d=="number"&&!e._.isNaN(d)?d.toExponential():"0e+0",b=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(b[0]),g,_),v+"e"+b[1]},unformat:function(d){var g=e._.includes(d,"e+")?d.split("e+"):d.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(d,"e-")?v*=-1:v;function T(b,A,x,U){var L=e._.correctionFactor(b,A),V=b*L*(A*L)/(L*L);return V}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(d,g,_){var v=e.locales[e.options.currentLocale],T,b=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),b+=v.ordinal(d),T=e._.numberToFormat(d,g,_),T+b}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(d,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(d=d*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(d,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(d){var g=e._.stringToNumber(d);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(d,g,_){var v=Math.floor(d/60/60),T=Math.floor((d-v*60*60)/60),b=Math.round(d-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(b<10?"0"+b:b)},unformat:function(d){var g=d.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(ug)),ug.exports}var YG=QG();const XG=ZE(YG),sT=({amount:n})=>{const e=XG(n).format("$0,00,00");return z.jsx("div",{children:e})},JG="_product_l6y1o_3",ZG="_cont_l6y1o_21",eK="_cartclass_l6y1o_43",tK="_btn_l6y1o_57",nK="_rate_l6y1o_95",rK="_price_l6y1o_105",iK="_flexed_l6y1o_111",Yo={product:JG,cont:ZG,cartclass:eK,btn:tK,rate:nK,price:rK,flexed:iK},Qr={AddToBasket:"AddToBasket",RemoveFromBasket:"RemoveFromBasket",SetUser:"SetUser",EmpityBasket:"emptyBasket"};function jc({products:n,flex:e,renderDesc:t,renderAdd:r,cartclass:i}){const{image:o,id:u,title:h,description:f,rating:d,price:g}=n,[_,v]=W.useContext(Hs),T=()=>{v({type:Qr.AddToBasket,item:{image:o,id:u,rating:d,price:g,description:f}})};return z.jsxs("div",{className:`${i?Yo.cartclass:Yo.cont} ${e?Yo.flexed:""}`,children:[z.jsx(Rr,{to:`/${u}`,children:z.jsx("img",{src:o,alt:""})}),z.jsxs("div",{children:[z.jsx("h3",{children:h}),t&&z.jsx("div",{style:{maxWidth:"750px"},children:f}),z.jsxs("div",{className:Yo.rate,children:[z.jsx(KG,{value:d==null?void 0:d.rate,precision:.1}),z.jsx("small",{children:d==null?void 0:d.count})]}),z.jsx("div",{className:Yo.price,children:z.jsx(sT,{amount:g})}),r&&z.jsx("button",{className:Yo.btn,onClick:T,children:"Add to cart"})]})]})}var sK={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function aT(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return sK[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Mm(n){var e=aT(n);return"".concat(e.value).concat(e.unit)}var Xo=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},on=function(){return on=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},on.apply(this,arguments)},aK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},oK=Xo("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function lK(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.height,g=d===void 0?15:d,_=n.width,v=_===void 0?5:_,T=n.radius,b=T===void 0?2:T,A=n.margin,x=A===void 0?2:A,U=aK(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),L=aT(x).value,V=L+18,H=V/2+V/5.5,F=on({display:"inherit",position:"relative",fontSize:"0",top:V,left:V,width:"".concat(V*3,"px"),height:"".concat(V*3,"px")},f),K=function(B){return{position:"absolute",width:Mm(v),height:Mm(g),margin:Mm(x),backgroundColor:i,borderRadius:Mm(b),transition:"2s",animationFillMode:"both",animation:"".concat(oK," ").concat(1.2/u,"s ").concat(B*.12,"s infinite ease-in-out")}},M=on(on({},K(1)),{top:"".concat(V,"px"),left:"0"}),R=on(on({},K(2)),{top:"".concat(H,"px"),left:"".concat(H,"px"),transform:"rotate(-45deg)"}),P=on(on({},K(3)),{top:"0",left:"".concat(V,"px"),transform:"rotate(90deg)"}),w=on(on({},K(4)),{top:"".concat(-1*H,"px"),left:"".concat(H,"px"),transform:"rotate(45deg)"}),O=on(on({},K(5)),{top:"".concat(-1*V,"px"),left:"0"}),C=on(on({},K(6)),{top:"".concat(-1*H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(-45deg)"}),D=on(on({},K(7)),{top:"0",left:"".concat(-1*V,"px"),transform:"rotate(90deg)"}),se=on(on({},K(8)),{top:"".concat(H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(45deg)"});return t?W.createElement("span",on({style:F},U),W.createElement("span",{style:M}),W.createElement("span",{style:R}),W.createElement("span",{style:P}),W.createElement("span",{style:w}),W.createElement("span",{style:O}),W.createElement("span",{style:C}),W.createElement("span",{style:D}),W.createElement("span",{style:se})):null}var $g=function(){return $g=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},$g.apply(this,arguments)},uK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},jn=[1,3,5],cK=[Xo("PropagateLoader","25% {transform: translateX(-".concat(jn[0],`rem) scale(0.75)}
    50% {transform: translateX(-`).concat(jn[1],`rem) scale(0.6)}
    75% {transform: translateX(-`).concat(jn[2],`rem) scale(0.5)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-0"),Xo("PropagateLoader","25% {transform: translateX(-".concat(jn[0],`rem) scale(0.75)}
    50% {transform: translateX(-`).concat(jn[1],`rem) scale(0.6)}
    75% {transform: translateX(-`).concat(jn[1],`rem) scale(0.6)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-1"),Xo("PropagateLoader","25% {transform: translateX(-".concat(jn[0],`rem) scale(0.75)}
    75% {transform: translateX(-`).concat(jn[0],`rem) scale(0.75)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-2"),Xo("PropagateLoader","25% {transform: translateX(".concat(jn[0],`rem) scale(0.75)}
    75% {transform: translateX(`).concat(jn[0],`rem) scale(0.75)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-3"),Xo("PropagateLoader","25% {transform: translateX(".concat(jn[0],`rem) scale(0.75)}
    50% {transform: translateX(`).concat(jn[1],`rem) scale(0.6)}
    75% {transform: translateX(`).concat(jn[1],`rem) scale(0.6)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-4"),Xo("PropagateLoader","25% {transform: translateX(".concat(jn[0],`rem) scale(0.75)}
    50% {transform: translateX(`).concat(jn[1],`rem) scale(0.6)}
    75% {transform: translateX(`).concat(jn[2],`rem) scale(0.5)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-5")];function YE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.size,g=d===void 0?15:d,_=uK(n,["loading","color","speedMultiplier","cssOverride","size"]),v=aT(g),T=v.value,b=v.unit,A=$g({display:"inherit",position:"relative"},f),x=function(U){return{position:"absolute",fontSize:"".concat(T/3).concat(b),width:"".concat(T).concat(b),height:"".concat(T).concat(b),background:i,borderRadius:"50%",animation:"".concat(cK[U]," ").concat(1.5/u,"s infinite"),animationFillMode:"forwards"}};return t?W.createElement("span",$g({style:A},_),W.createElement("span",{style:x(0)}),W.createElement("span",{style:x(1)}),W.createElement("span",{style:x(2)}),W.createElement("span",{style:x(3)}),W.createElement("span",{style:x(4)}),W.createElement("span",{style:x(5)})):null}function e2(){return z.jsx("div",{style:{display:"flex",justifyContent:"center",height:"50px",alignItems:"center"},children:z.jsx(lK,{color:"#36d7b7"})})}function hK(){const[n,e]=W.useState(!1),[t,r]=W.useState([]);return W.useEffect(()=>{e(!0),Dt.get("https://fakestoreapi.com/products").then(i=>{r(i.data),e(!1)}).catch(i=>{console.log(i)})},[]),n?z.jsx(e2,{}):z.jsx("div",{className:Yo.product,children:t.map((i,o)=>z.jsx(jc,{cartclass:!1,renderAdd:!0,products:i},o))})}function dK(){return z.jsxs(Uc,{children:[z.jsx(Lq,{}),z.jsx(zq,{}),z.jsx(hK,{})]})}const fK="_cont_vavga_1",pK="_sign_vavga_23",mK="_signinbtn_vavga_93",gK="_create_vavga_133",Vm={cont:fK,sign:pK,signinbtn:mK,create:gK};function yK(){var T;const[n,e]=W.useState(""),[t,r]=W.useState({signin:!1,signup:!1}),[i,o]=W.useState(""),[u,h]=W.useState(""),[{user:f},d]=W.useContext(Hs);console.log(f);const g=Kg(),_=no(),v=async b=>{b.preventDefault(),b.target.name==="signin"?(r({...t,signin:!0}),IP(Fg,n,u).then(A=>{var x;d({type:Qr.SetUser,user:A.user}),r({...t,signin:!1}),g(((x=_==null?void 0:_.state)==null?void 0:x.redirect)||"/")}).catch(A=>{o(A.message),r({...t,signin:!1})})):(r({...t,signup:!0}),AP(Fg,n,u).then(A=>{var x;d({type:Qr.SetUser,user:A.user}),r({...t,signup:!1}),g(((x=_==null?void 0:_.state)==null?void 0:x.redirect)||"/")}).catch(A=>{o(A.message),r({...t,signup:!1})}))};return z.jsxs("div",{className:Vm.cont,children:[z.jsx(Rr,{to:"/",children:z.jsx("img",{src:"https://images.seeklogo.com/logo-png/29/1/amazon-logo-png_seeklogo-291390.png",alt:"logo"})}),z.jsxs("div",{className:Vm.sign,children:[z.jsx("h1",{children:"sign "}),z.jsx("small",{style:{color:"red",padding:"5px",textAlign:"center"},children:(T=_==null?void 0:_.state)==null?void 0:T.msg}),z.jsxs("form",{children:[z.jsxs("div",{children:[z.jsx("label",{htmlFor:"email",children:"Email"}),z.jsx("input",{onChange:b=>e(b.target.value),value:n,type:"email",id:"email",placeholder:"Email",required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{htmlFor:"password",children:"password"}),z.jsx("input",{value:u,onChange:b=>h(b.target.value),type:"password",id:"password",placeholder:"Password",required:!0})]}),z.jsx("button",{name:"signin",className:Vm.signinbtn,onClick:v,children:t.signin?z.jsx(YE,{}):"Sign In"})]}),z.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),z.jsx("button",{name:"signup",type:"submit",onClick:v,className:Vm.create,children:t.signup?z.jsx(YE,{}):"Create New Amazon Account"}),i&&z.jsx("p",{style:{color:"red",padding:"12px"},children:i})]})]})}const _K="_payment_header_1r3en_1",vK="_payment_section_1r3en_13",EK="_flex_1r3en_19",bK="_payment_card_1r3en_47",wK="_card_error_1r3en_55",TK="_payment_total_1r3en_73",SK="_loader_1r3en_109",li={payment_header:_K,payment_section:vK,flex:EK,payment_card:bK,card_error:wK,payment_total:TK,loader:SK};function JC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ZC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(t),!0).forEach(function(r){t2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cg=function(e){return typeof e}:cg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(n)}function t2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function AK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function IK(n,e){if(n==null)return{};var t=AK(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function n2(n,e){return RK(n)||CK(n,e)||xK(n,e)||PK()}function RK(n){if(Array.isArray(n))return n}function CK(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(f){o=!0,h=f}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function xK(n,e){if(n){if(typeof n=="string")return ex(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ex(n,e)}}function ex(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function PK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Sr=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},XE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},Tc=function(e){return e!==null&&cg(e)==="object"},OK=function(e){return Tc(e)&&typeof e.then=="function"},DK=function(e){return Tc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},tx="[object Object]",NK=function n(e,t){if(!Tc(e)||!Tc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===tx,u=Object.prototype.toString.call(t)===tx;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),f=Object.keys(t);if(h.length!==f.length)return!1;for(var d={},g=0;g<h.length;g+=1)d[h[g]]=!0;for(var _=0;_<f.length;_+=1)d[f[_]]=!0;var v=Object.keys(d);if(v.length!==h.length)return!1;var T=e,b=t,A=function(U){return n(T[U],b[U])};return v.every(A)},r2=function(e,t,r){return Tc(e)?Object.keys(e).reduce(function(i,o){var u=!Tc(t)||!NK(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?ZC(ZC({},i||{}),{},t2({},o,e[o])):i},null):null},i2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",nx=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i2;if(e===null||DK(e))return e;throw new Error(t)},kK=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i2;if(OK(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return nx(i,t)})};var r=nx(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},MK=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},n_=Ke.createContext(null);n_.displayName="ElementsContext";var s2=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},a2=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return kK(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=n2(u,2),f=h[0],d=h[1];Ke.useEffect(function(){var v=!0,T=function(A){d(function(x){return x.stripe?x:{stripe:A,elements:A.elements(r)}})};return o.tag==="async"&&!f.stripe?o.stripePromise.then(function(b){b&&v&&T(b)}):o.tag==="sync"&&!f.stripe&&T(o.stripe),function(){v=!1}},[o,f,r]);var g=XE(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=XE(r);return Ke.useEffect(function(){if(f.elements){var v=r2(r,_,["clientSecret","fonts"]);v&&f.elements.update(v)}},[r,_,f.elements]),Ke.useEffect(function(){MK(f.stripe)},[f.stripe]),Ke.createElement(n_.Provider,{value:f},i)};a2.propTypes={stripe:kt.any,options:kt.object};var VK=function(e){var t=Ke.useContext(n_);return s2(t,e)},LK=function(){var e=VK("calls useElements()"),t=e.elements;return t};kt.func.isRequired;var o2=Ke.createContext(null);o2.displayName="CheckoutSdkContext";var UK=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},BK=Ke.createContext(null);BK.displayName="CheckoutContext";kt.any,kt.shape({fetchClientSecret:kt.func.isRequired,elementsOptions:kt.object}).isRequired;var JE=function(e){var t=Ke.useContext(o2),r=Ke.useContext(n_);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?UK(t,e):s2(r,e)},FK=["mode"],zK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},hn=function(e,t){var r="".concat(zK(e),"Element"),i=function(f){var d=f.id,g=f.className,_=f.options,v=_===void 0?{}:_,T=f.onBlur,b=f.onFocus,A=f.onReady,x=f.onChange,U=f.onEscape,L=f.onClick,V=f.onLoadError,H=f.onLoaderStart,F=f.onNetworksChange,K=f.onConfirm,M=f.onCancel,R=f.onShippingAddressChange,P=f.onShippingRateChange,w=JE("mounts <".concat(r,">")),O="elements"in w?w.elements:null,C="checkoutSdk"in w?w.checkoutSdk:null,D=Ke.useState(null),se=n2(D,2),B=se[0],$=se[1],J=Ke.useRef(null),le=Ke.useRef(null);Sr(B,"blur",T),Sr(B,"focus",b),Sr(B,"escape",U),Sr(B,"click",L),Sr(B,"loaderror",V),Sr(B,"loaderstart",H),Sr(B,"networkschange",F),Sr(B,"confirm",K),Sr(B,"cancel",M),Sr(B,"shippingaddresschange",R),Sr(B,"shippingratechange",P),Sr(B,"change",x);var be;A&&(e==="expressCheckout"?be=A:be=function(){A(B)}),Sr(B,"ready",be),Ke.useLayoutEffect(function(){if(J.current===null&&le.current!==null&&(O||C)){var re=null;if(C)switch(e){case"payment":re=C.createPaymentElement(v);break;case"address":if("mode"in v){var ge=v.mode,me=IK(v,FK);if(ge==="shipping")re=C.createShippingAddressElement(me);else if(ge==="billing")re=C.createBillingAddressElement(me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":re=C.createExpressCheckoutElement(v);break;case"currencySelector":re=C.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else O&&(re=O.create(e,v));J.current=re,$(re),re&&re.mount(le.current)}},[O,C,v]);var q=XE(v);return Ke.useEffect(function(){if(J.current){var re=r2(v,q,["paymentRequest"]);re&&"update"in J.current&&J.current.update(re)}},[v,q]),Ke.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),Ke.createElement("div",{id:d,className:g,ref:le})},o=function(f){JE("mounts <".concat(r,">"));var d=f.id,g=f.className;return Ke.createElement("div",{id:d,className:g})},u=t?o:i;return u.propTypes={id:kt.string,className:kt.string,onChange:kt.func,onBlur:kt.func,onFocus:kt.func,onReady:kt.func,onEscape:kt.func,onClick:kt.func,onLoadError:kt.func,onLoaderStart:kt.func,onNetworksChange:kt.func,onConfirm:kt.func,onCancel:kt.func,onShippingAddressChange:kt.func,onShippingRateChange:kt.func,options:kt.object},u.displayName=r,u.__elementType=e,u},dn=typeof window>"u",jK=Ke.createContext(null);jK.displayName="EmbeddedCheckoutProviderContext";var qK=function(){var e=JE("calls useStripe()"),t=e.stripe;return t};hn("auBankAccount",dn);var q0=hn("card",dn);hn("cardNumber",dn);hn("cardExpiry",dn);hn("cardCvc",dn);hn("fpxBank",dn);hn("iban",dn);hn("idealBank",dn);hn("p24Bank",dn);hn("epsBank",dn);hn("payment",dn);hn("expressCheckout",dn);hn("currencySelector",dn);hn("paymentRequestButton",dn);hn("linkAuthentication",dn);hn("address",dn);hn("shippingAddress",dn);hn("paymentMethodMessaging",dn);hn("affirmMessage",dn);hn("afterpayClearpayMessage",dn);const HK=Dt.create({baseURL:" https://amazonbackend-jn4i.onrender.com/"});function $K(){const[{user:n,basket:e},t]=W.useContext(Hs),r=e==null?void 0:e.reduce((b,A)=>A.amount+b,0),i=qK(),o=LK(),u=Kg(),h=e.reduce((b,A)=>A.price*A.amount+b,0),[f,d]=W.useState(!1),g=async b=>{var U;b.preventDefault();try{d(!0);const L=await HK({method:"post",url:`/payment/create?total=${h*100}`}),V=(U=L.data)==null?void 0:U.clientSecret;console.log("Payment Intent created:",L.data);const{paymentIntent:H}=await i.confirmCardPayment(V,{payment_method:{card:o.getElement(q0)}});console.log("Payment confirmation result:",H),FN.collection("users").doc(n==null?void 0:n.uid).collection("orders").doc(H.id).set({basket:e,amount:H.amount/100,created:H.created,paymentMethod:H.payment_method}),t({type:Qr.SetBasket,basket:[]}),d(!1),u("/orders",{state:{msg:"You have placed new Item"}})}catch(L){console.error("Error creating Payment Intent:",L),d(!1)}if(!i||!o){console.log("Stripe.js hasn't loaded yet.");return}const{error:A,paymentMethod:x}=await i.createPaymentMethod({type:"card",card:o.getElement(q0)});A?console.error("Error creating payment method:",A):console.log("PaymentMethod:",x)},[_,v]=W.useState(null),T=b=>{b!=null&&b.error?v(b.error.message):v(null)};return z.jsxs(Uc,{children:[z.jsx("div",{children:z.jsxs("h3",{className:li.payment_header,children:["checkout (",r,") items"]})}),z.jsx("hr",{}),z.jsxs("section",{className:li.payment_section,children:[z.jsxs("div",{className:li.flex,children:[z.jsx("h3",{children:"Delivery Address"}),z.jsxs("div",{children:[z.jsx("p",{children:"John Doe"}),z.jsx("p",{children:n==null?void 0:n.email}),z.jsx("p",{children:"123 Main St"}),z.jsx("p",{children:"City, State, ZIP"}),z.jsx("p",{children:"Country: Ethiopia"})]})]}),z.jsx("hr",{}),z.jsxs("div",{className:li.flex,children:[z.jsx("h3",{children:"Review Item and Delivery"}),z.jsx("div",{children:e==null?void 0:e.map((b,A)=>z.jsx(jc,{products:b,cartclass:!0,flex:!0,renderAdd:!0,renderDesc:!0},A))})]}),z.jsx("hr",{}),z.jsxs("div",{className:li.flex,children:[z.jsx("h3",{children:"Payment Method"}),z.jsx("div",{className:li.payment_card,children:z.jsxs("form",{onSubmit:g,className:li.payment_form,children:[_&&z.jsx("small",{className:li.card_error,children:_}),z.jsx(q0,{onChange:T}),z.jsxs("div",{className:li.payment_total,children:[z.jsx("div",{children:z.jsxs("p",{style:{display:"flex",gap:"10px"},children:["Total Order  |  ",z.jsx(sT,{amount:h})," "]})}),z.jsx("button",{type:"submit",disabled:!i,className:li.pay_btn,children:z.jsx("div",{className:li.loader,children:f?z.jsx(z.Fragment,{children:z.jsx(YE,{color:"gray",size:22})}):"Pay Now"})})]})]})})]})]})]})}const GK="_order_m1147_1",KK="_order__container_m1147_9",WK="_empty_m1147_47",H0={order:GK,order__container:KK,empty:WK};function QK(){const[{user:n}]=W.useContext(Hs),[e,t]=W.useState([]);return W.useEffect(()=>{n?FN.collection("users").doc(n==null?void 0:n.uid).collection("orders").orderBy("created","desc").onSnapshot(r=>{t(r.docs.map(i=>({id:i.id,data:i.data()})))}):t([])},[n]),z.jsx(Uc,{children:z.jsx("section",{className:H0.order,children:z.jsxs("div",{className:H0.order__container,children:[z.jsx("h2",{children:"Your Order"}),(e==null?void 0:e.length)===0&&z.jsx("div",{className:H0.empty,children:z.jsx("h3",{children:"You have no order yet."})}),z.jsx("div",{children:e==null?void 0:e.map(r=>{var i,o;return z.jsxs("div",{children:[z.jsx("hr",{}),z.jsxs("p",{children:["Id : ",r==null?void 0:r.id]}),(o=(i=r==null?void 0:r.data)==null?void 0:i.basket)==null?void 0:o.map(u=>z.jsx(jc,{products:u,renderDesc:!0,flex:!0,cartclass:!0},u.id))]},r.id)})})]})})})}const YK="_cont_18q9e_1",XK="_cards_18q9e_13",JK="_subtotal_18q9e_39",ZK="_btncont_18q9e_45",eW="_cartProduct_18q9e_53",tW="_noItem_18q9e_91",Vu={cont:YK,cards:XK,subtotal:JK,btncont:ZK,cartProduct:eW,noItem:tW};function nW(n){return Sf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function rW(n){return Sf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function iW(){const[{basket:n,_:e},t]=W.useContext(Hs),r=n.reduce((u,h)=>h.price*h.amount+u,0),i=u=>{t({type:Qr.AddToBasket,item:u})},o=u=>{t({type:Qr.RemoveFromBasket,id:u})};return z.jsx(Uc,{children:z.jsxs("section",{className:Vu.cont,children:[z.jsxs("div",{className:Vu.cards,children:[z.jsx("h2",{children:"Hello"}),z.jsx("h3",{children:"Your Shoping Basket"}),z.jsx("hr",{}),(n==null?void 0:n.length)==0?z.jsxs("div",{className:Vu.noItem,children:[z.jsx("h2",{children:"Your Amazon Cart is empty"}),z.jsx(Rr,{to:"/",children:z.jsx("button",{children:"Shop now"})}),z.jsx(Rr,{to:"/Signup",children:z.jsx("button",{children:"Sign up now"})})]}):n==null?void 0:n.map((u,h)=>z.jsxs("section",{className:Vu.cartProduct,children:[z.jsx(jc,{products:u,renderDesc:!0,flex:!0,cartclass:!0},h),z.jsxs("div",{className:Vu.btncont,children:[z.jsx("button",{onClick:()=>i(u),children:z.jsx(rW,{size:30})}),z.jsx("span",{children:u.amount}),z.jsx("button",{onClick:()=>o(u.id),children:z.jsx(nW,{size:30})})]})]}))]}),(n==null?void 0:n.length)!==0&&z.jsxs("div",{className:Vu.subtotal,children:[z.jsxs("div",{children:[z.jsxs("p",{children:["subtotal (",n==null?void 0:n.length," item)"]}),z.jsx(sT,{amount:r})]}),z.jsxs("span",{children:[z.jsx("input",{type:"checkbox"}),z.jsx("small",{children:"This order conatins a gift"})]}),z.jsx(Rr,{to:"/payment",children:"continue to checkout"})]})]})})}const l2="https://fakestoreapi.com";function sW(){const[n,e]=W.useState(!1),[t,r]=W.useState([]),i=px().categoryname.toLocaleLowerCase();return W.useEffect(()=>{e(!0),Dt.get(`${l2}/products/category/${i}`).then(o=>{r(o.data),e(!1)}).catch(o=>{console.log(o),e(!1)})},[]),z.jsx(Uc,{children:z.jsxs("div",{children:[z.jsx("h1",{style:{padding:"30px"},children:"Results"}),z.jsxs("p",{style:{padding:"30px"},children:["Category /",i]}),z.jsx("hr",{}),n?z.jsx(e2,{}):z.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(270px, 1fr))",margin:"10px auto",gap:"20px"},children:t==null?void 0:t.map(o=>z.jsx(jc,{products:o,renderAdd:!0}))})]})})}function aW(){const{productid:n}=px(),[e,t]=W.useState([]);return W.useEffect(()=>{Dt.get(`${l2}/products/${n}`).then(r=>{t(r.data)}).catch(r=>{console.log(r)})},[]),z.jsx(Uc,{children:e&&Object.keys(e).length>0&&z.jsx(jc,{products:e,renderDesc:!0,renderAdd:!0,flex:!0,cartclass:!0})})}function rx({children:n,msg:e,redirect:t}){const r=Kg(),[{user:i}]=W.useContext(Hs);return W.useEffect(()=>{i||r("/Signup",{state:{msg:e,redirect:t}})},[i,r,t]),i?z.jsx(z.Fragment,{children:n}):null}var u2="basil",oW=function(e){return e===3?"v3":e},c2="https://js.stripe.com",lW="".concat(c2,"/").concat(u2,"/stripe.js"),uW=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,cW=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var hW=function(e){return uW.test(e)||cW.test(e)},dW=function(){for(var e=document.querySelectorAll('script[src^="'.concat(c2,'"]')),t=0;t<e.length;t++){var r=e[t];if(hW(r.src))return r}return null},ix=function(e){var t="",r=document.createElement("script");r.src="".concat(lW).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},fW=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})},vd=null,Lm=null,Um=null,pW=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},mW=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},gW=function(e){return vd!==null?vd:(vd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=dW();if(!(i&&e)){if(!i)i=ix(e);else if(i&&Um!==null&&Lm!==null){var o;i.removeEventListener("load",Um),i.removeEventListener("error",Lm),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=ix(e)}}Um=mW(t,r),Lm=pW(r),i.addEventListener("load",Um),i.addEventListener("error",Lm)}catch(u){r(u);return}}),vd.catch(function(t){return vd=null,Promise.reject(t)}))},yW=function(e,t,r){if(e===null)return null;var i=t[0],o=i.match(/^pk_test/),u=oW(e.version),h=u2;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,t);return fW(f,r),f},Ed,h2=!1,d2=function(){return Ed||(Ed=gW(null).catch(function(e){return Ed=null,Promise.reject(e)}),Ed)};Promise.resolve().then(function(){return d2()}).catch(function(n){h2||console.warn(n)});var _W=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];h2=!0;var i=Date.now();return d2().then(function(o){return yW(o,t,i)})};const vW=_W("pk_test_51RUkWwPvUqYM9RKRFtnPSDnK4WnQbjaCWjhKdaAPsDDydxCvPSXTx4DVAdLcHRtqht6Cn0rMG1tw0PMauJNknCjM00lW27zrRA");function EW(){return z.jsx(lL,{children:z.jsxs(UV,{children:[z.jsx(Pa,{path:"/",element:z.jsx(dK,{})}),z.jsx(Pa,{path:"/Signup",element:z.jsx(yK,{})}),z.jsx(Pa,{path:"/Payment",element:z.jsx(rx,{redirect:"/Payment",msg:"You need to login to make payment",children:z.jsx(a2,{stripe:vW,children:z.jsx($K,{})})})}),z.jsx(Pa,{path:"/Orders",element:z.jsx(rx,{redirect:"/Orders",msg:"You need to login to see your orders",children:z.jsx(QK,{})})}),z.jsx(Pa,{path:"/category/:categoryname",element:z.jsx(sW,{})}),z.jsx(Pa,{path:"/:productid",element:z.jsx(aW,{})}),z.jsx(Pa,{path:"/Cart",element:z.jsx(iW,{})})]})})}function bW(){const[{_:n},e]=W.useContext(Hs);return W.useEffect(()=>{Fg.onAuthStateChanged(t=>{e(t?{type:Qr.SetUser,user:t}:{type:Qr.SetUser,user:null})})},[]),z.jsx(EW,{})}const wW={basket:[],user:null},TW=(n,e)=>{switch(e.type){case Qr.AddToBasket:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(u=>u.id===e.item.id?{...u,amount:u.amount+1}:u);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Qr.RemoveFromBasket:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case Qr.EmpityBasket:return{...n,basket:[]};case Qr.SetUser:return{...n,user:e.user};default:return n}};KM.createRoot(document.getElementById("root")).render(z.jsx(r4,{reducer:TW,initialState:wW,children:z.jsx(bW,{})}));
